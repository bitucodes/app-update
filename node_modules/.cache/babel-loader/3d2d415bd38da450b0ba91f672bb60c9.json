{"ast":null,"code":"import React, { createContext, useState, useContext, useEffect, useRef, Component } from 'react';\nimport _$1 from 'lodash';\nimport { ChatEngineContext as ChatEngineContext$1, readMessage as readMessage$1, getLatestChats as getLatestChats$1, getLatestMessages as getLatestMessages$1, getChat as getChat$1, TextInput as TextInput$1, Button as Button$1, newChat as newChat$1, getChatsBefore as getChatsBefore$1, Avatar as Avatar$1, removePerson as removePerson$1, AutoCompleteInput as AutoCompleteInput$1, addPerson as addPerson$1, getOtherPeople as getOtherPeople$1, deleteChat as deleteChat$1, editChat as editChat$1, Dot as Dot$1, isTyping as isTyping$1, sendMessage as sendMessage$1 } from 'react-chat-engine';\nimport { WebSocket } from 'nextjs-websocket';\nimport axios from 'axios';\nimport { LoadingOutlined, CloseOutlined, MenuOutlined, LeftOutlined, SettingOutlined, FileOutlined, CloseCircleTwoTone, PaperClipOutlined, ArrowUpOutlined, CaretDownOutlined, PlusOutlined, DeleteOutlined, UserAddOutlined } from '@ant-design/icons';\nimport { useSpring, animated } from 'react-spring';\nimport { setConfiguration, Row, Col } from 'react-grid-system';\nimport { animateScroll } from 'react-scroll';\nvar ChatEngineContext = createContext();\n\nvar ChatEngineWrapper = function ChatEngineWrapper(props) {\n  var _useState = useState(null),\n      conn = _useState[0],\n      setConn = _useState[1];\n\n  var _useState2 = useState(null),\n      creds = _useState2[0],\n      setCreds = _useState2[1];\n\n  var _useState3 = useState(''),\n      sessionToken = _useState3[0],\n      setSessionToken = _useState3[1];\n\n  var _useState4 = useState(null),\n      chats = _useState4[0],\n      setChats = _useState4[1];\n\n  var _useState5 = useState({}),\n      messages = _useState5[0],\n      setMessages = _useState5[1];\n\n  var _useState6 = useState(null),\n      activeChat = _useState6[0],\n      setActiveChat = _useState6[1];\n\n  var _useState7 = useState({}),\n      typingCounter = _useState7[0],\n      setTypingCounter = _useState7[1];\n\n  var _useState8 = useState(false),\n      loadMoreMessages = _useState8[0],\n      setLoadMoreMessages = _useState8[1];\n\n  var _useState9 = useState(false),\n      isBottomVisible = _useState9[0],\n      setIsBottomVisible = _useState9[1];\n\n  var value = {\n    conn: conn,\n    setConn: setConn,\n    creds: creds,\n    setCreds: setCreds,\n    sessionToken: sessionToken,\n    setSessionToken: setSessionToken,\n    chats: chats,\n    setChats: setChats,\n    messages: messages,\n    setMessages: setMessages,\n    activeChat: activeChat,\n    setActiveChat: setActiveChat,\n    typingCounter: typingCounter,\n    setTypingCounter: setTypingCounter,\n    loadMoreMessages: loadMoreMessages,\n    setLoadMoreMessages: setLoadMoreMessages,\n    isBottomVisible: isBottomVisible,\n    setIsBottomVisible: setIsBottomVisible\n  };\n  return /*#__PURE__*/React.createElement(ChatEngineContext.Provider, {\n    value: value\n  }, props.children);\n};\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction getDateTime(date, offset) {\n  if (!date) return '';\n  date = date.replace(' ', 'T');\n  offset = offset ? offset : 0;\n  var year = date.substr(0, 4);\n  var month = date.substr(5, 2);\n  var day = date.substr(8, 2);\n  var hour = date.substr(11, 2);\n  var minute = date.substr(14, 2);\n  var second = date.substr(17, 2);\n  var d = new Date(year + \"-\" + month + \"-\" + day + \"T\" + hour + \":\" + minute + \":\" + second);\n  d.setHours(d.getHours() + offset);\n  return d;\n}\n\nvar options = {\n  weekday: 'short',\n  month: 'short',\n  day: 'numeric',\n  year: 'numeric'\n};\n\nfunction formatTime(dateTime) {\n  var time = dateTime.toLocaleString('en-US');\n  return time.split(' ')[1].slice(0, -3) + ' ' + time.slice(-2);\n}\n\nfunction formatDate(dateTime) {\n  return dateTime.toLocaleString('en-US', options);\n}\n\nfunction formatDateTime(dateTime) {\n  return formatTime(dateTime) + ', ' + formatDate(dateTime);\n}\n\nvar _this = undefined;\nvar socketRef = undefined;\nvar pingIntervalID = 0;\nvar timeIntervalID = 0;\nvar minLag = 15 * 1000;\nvar initialLoadTime = Date.now() + 10 * 1000;\n\nvar Socket = function Socket(props) {\n  var handleEvent = function handleEvent(event) {\n    try {\n      var eventJSON = JSON.parse(event);\n      console.log('eventJSON.action', eventJSON.action);\n\n      if (eventJSON.action === 'pong') {\n        setShouldPongBy(Date.now() + minLag);\n      } else if (eventJSON.action === 'login_error') {\n        var sessionKey = props.projectID + \"/\" + props.userName + \"/\" + props.userSecret;\n        localStorage.removeItem(sessionKey);\n        props.onFailAuth && props.onFailAuth(conn);\n      } else if (eventJSON.action === 'new_chat') {\n        var chat = eventJSON.data;\n\n        if (chats) {\n          var newChats = _extends({}, chats);\n\n          newChats[chat.id] = chat;\n          setChats(newChats);\n          setActiveChat(chat.id);\n        }\n\n        props.onNewChat && props.onNewChat(eventJSON.data);\n      } else if (eventJSON.action === 'edit_chat') {\n        handleEditChat(eventJSON.data);\n      } else if (eventJSON.action === 'delete_chat') {\n        var _chat = eventJSON.data;\n\n        if (chats) {\n          chats[_chat.id] = undefined;\n          setChats(chats);\n\n          if (!_.isEmpty(chats)) {\n            var sortedChats = sortChats(chats);\n            setActiveChat(sortedChats[0] ? parseInt(sortedChats[0].id) : 0);\n          }\n        }\n\n        props.onDeleteChat && props.onDeleteChat(_chat);\n      } else if (eventJSON.action === 'add_person') {\n        handleEditChat(eventJSON.data);\n        props.onAddPerson && props.onAddPerson(eventJSON.data);\n      } else if (eventJSON.action === 'remove_person') {\n        handleEditChat(eventJSON.data);\n        props.onRemovePerson && props.onRemovePerson(eventJSON.data);\n      } else if (eventJSON.action === 'new_message') {\n        var _eventJSON$data = eventJSON.data,\n            id = _eventJSON$data.id,\n            message = _eventJSON$data.message;\n\n        if (parseInt(id) === parseInt(activeChat)) {\n          var newMessages = _extends({}, messages);\n\n          newMessages[message.created] = message;\n          setMessages(newMessages);\n        }\n\n        if (message.sender_username !== props.userName && isBottomVisible) {\n          readMessage$1(conn, activeChat, message.id, function (chat) {\n            return handleEditChat(chat);\n          });\n        }\n\n        props.onNewMessage && props.onNewMessage(id, message);\n      } else if (eventJSON.action === 'edit_message') {\n        var _eventJSON$data2 = eventJSON.data,\n            _id = _eventJSON$data2.id,\n            _message = _eventJSON$data2.message;\n\n        if (_id === activeChat) {\n          messages[_message.created] = _message;\n          setMessages(messages);\n        }\n\n        props.onEditMessage && props.onEditMessage(_id, _message);\n      } else if (eventJSON.action === 'delete_message') {\n        var _eventJSON$data3 = eventJSON.data,\n            _id2 = _eventJSON$data3.id,\n            _message2 = _eventJSON$data3.message;\n\n        if (_id2 === activeChat) {\n          messages[_message2.created] = undefined;\n          setMessages(messages);\n        }\n\n        props.onDeleteMessage && props.onDeleteMessage(_id2, _message2);\n      } else if (eventJSON.action === 'is_typing') {\n        var _extends2, _extends3;\n\n        var _eventJSON$data4 = eventJSON.data,\n            _id3 = _eventJSON$data4.id,\n            person = _eventJSON$data4.person;\n\n        var newTypingCounter = _extends({}, typingCounter);\n\n        newTypingCounter = _extends({}, newTypingCounter, (_extends3 = {}, _extends3[_id3] = _extends({}, newTypingCounter[_id3], (_extends2 = {}, _extends2[person] = Date.now(), _extends2)), _extends3));\n        setTypingCounter(newTypingCounter);\n        props.onTyping && props.onTyping(_id3, person);\n      }\n\n      return Promise.resolve();\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var _useState = useState(Date.now());\n\n  var _useState2 = useState(Date.now() + minLag),\n      setShouldPongBy = _useState2[1];\n\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      sessionToken = _useContext.sessionToken,\n      chats = _useContext.chats,\n      setChats = _useContext.setChats,\n      messages = _useContext.messages,\n      setMessages = _useContext.setMessages,\n      activeChat = _useContext.activeChat,\n      setActiveChat = _useContext.setActiveChat,\n      typingCounter = _useContext.typingCounter,\n      setTypingCounter = _useContext.setTypingCounter,\n      isBottomVisible = _useContext.isBottomVisible;\n\n  useEffect(function () {\n    return function () {\n      clearInterval(pingIntervalID);\n      clearInterval(timeIntervalID);\n    };\n  }, []);\n\n  function sortChats(chats) {\n    return Object.values(chats).sort(function (a, b) {\n      var aDate = a.last_message.created ? getDateTime(a.last_message.created, props.offset) : getDateTime(a.created, props.offset);\n      var bDate = b.last_message.created ? getDateTime(b.last_message.created, props.offset) : getDateTime(b.created, props.offset);\n      return new Date(bDate) - new Date(aDate);\n    });\n  }\n\n  function onConnect() {\n    if (Date.now() > initialLoadTime || conn.renderChatFeed || conn.renderChatList) {\n      console.log('Refresh');\n      getLatestChats$1(conn, 25, function (chats) {\n        return setChats(_.mapKeys(chats, 'id'));\n      });\n      getLatestMessages$1(conn, activeChat, 45, function (id, list) {\n        setMessages(_extends({}, messages, _.mapKeys(list, 'created')));\n      });\n    }\n\n    props.onConnect && props.onConnect(conn);\n  }\n\n  function handleEditChat(chat) {\n    if (chats) {\n      var newChats = _extends({}, chats);\n\n      newChats[chat.id] = chat;\n      setChats(newChats);\n    }\n\n    props.onEditChat && props.onEditChat(chat);\n  }\n\n  var development = props.development;\n  var wsStart = development ? 'ws://' : 'wss://';\n  var rootHost = development ? '127.0.0.1:8000' : 'api.chatengine.io';\n  if (!sessionToken || sessionToken === '') return /*#__PURE__*/React.createElement(\"div\", null);\n  return /*#__PURE__*/React.createElement(WebSocket, {\n    url: \"\" + wsStart + rootHost + \"/person_v4/?session_token=\" + sessionToken,\n    reconnect: true,\n    reconnectIntervalInMilliSeconds: 3000,\n    childRef: function childRef(ref) {\n      return socketRef = ref;\n    },\n    onOpen: onConnect,\n    onError: function onError(e) {\n      return console.log('Socket Error', e);\n    },\n    onMessage: handleEvent.bind(_this),\n    onClose: function onClose() {\n      return console.log('Socket Closed');\n    }\n  });\n};\n\nfunction getApiUrl(props) {\n  if (props && props.development) {\n    return 'http://127.0.0.1:8000';\n  }\n\n  return 'https://api.chatengine.io';\n}\n\nfunction getHeaders(props) {\n  if (!props) {\n    return;\n  } else if (props.chatID) {\n    return {\n      'public-key': props.publicKey ? props.publicKey : props.projectID,\n      'chat-id': props.chatID,\n      'access-key': props.chatAccessKey\n    };\n  } else {\n    return {\n      'Public-Key': props.publicKey ? props.publicKey : props.projectID,\n      'User-Name': props.userName,\n      'User-Secret': props.userPassword ? props.userPassword : props.userSecret\n    };\n  }\n}\n\nfunction getOrCreateSession(props, callback, errorFunc) {\n  axios.get(getApiUrl(props) + \"/users/me/session/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Get or Create Session Error', error);\n    errorFunc && errorFunc(error);\n  });\n}\n\nvar Socket$1 = function Socket$1(props) {\n  var didMountRef = useRef(false);\n\n  var _useState = useState(false),\n      isHidden = _useState[0],\n      setIsHidden = _useState[1];\n\n  var _useContext = useContext(ChatEngineContext$1),\n      setConn = _useContext.setConn,\n      setCreds = _useContext.setCreds,\n      setSessionToken = _useContext.setSessionToken;\n\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      getSession();\n    }\n  });\n\n  function getSession() {\n    var sessionKey = props.projectID + \"/\" + props.userName + \"/\" + props.userSecret;\n\n    if (localStorage.getItem(sessionKey) !== null) {\n      setConn(props);\n      setCreds(props);\n      setSessionToken(localStorage.getItem(sessionKey));\n      console.log('Local fetch!');\n      return;\n    }\n\n    getOrCreateSession(props, function (data) {\n      setConn(props);\n      setCreds(props);\n      setSessionToken(data.token);\n      localStorage.setItem(sessionKey, data.token);\n    }, function (e) {\n      if (e.response && e.response.status === 403) {\n        console.log(\"Your login credentials were not correct: \\n\\n                        Project ID: \" + props.projectID + \" \\n\\n                        Username: \" + props.userName + \" \\n\\n                        User Secret: \" + props.userSecret + \"\\n\\n                        Double check these credentials to make sure they're correct.\\n\\n                        If all three are correct, try resetting the username and secret in the Online Dashboard or Private API.\");\n        setConn(undefined);\n        setCreds(undefined);\n        localStorage.removeItem(sessionKey);\n        props.onFailAuth && props.onFailAuth(props);\n      }\n\n      setTimeout(function () {\n        return getSession();\n      }, 10 * 1000);\n    });\n  }\n\n  function _reRender() {\n    setIsHidden(true);\n    setTimeout(function () {\n      return setIsHidden(false);\n    }, 100);\n  }\n\n  if (isHidden) return /*#__PURE__*/React.createElement(\"div\", null);\n  return /*#__PURE__*/React.createElement(Socket, _extends({}, props, {\n    reRender: function reRender() {\n      return _reRender();\n    }\n  }));\n};\n\nvar _this$1 = undefined;\nvar socketRef$1 = undefined;\nvar pingIntervalID$1 = 0;\nvar timeIntervalID$1 = 0;\nvar minLag$1 = 15 * 1000;\nvar reconnect = Date.now() + 10 * 1000;\n\nvar SocketChild = function SocketChild(props) {\n  var _useState = useState(Date.now()),\n      now = _useState[0];\n\n  var _useState2 = useState(Date.now() + minLag$1),\n      shouldPongBy = _useState2[0],\n      setShouldPongBy = _useState2[1];\n\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      setConn = _useContext.setConn,\n      setCreds = _useContext.setCreds,\n      chats = _useContext.chats,\n      setChats = _useContext.setChats,\n      messages = _useContext.messages,\n      setMessages = _useContext.setMessages,\n      activeChat = _useContext.activeChat,\n      setActiveChat = _useContext.setActiveChat,\n      typingCounter = _useContext.typingCounter,\n      setTypingCounter = _useContext.setTypingCounter;\n\n  useEffect(function () {\n    if (now > shouldPongBy) {\n      console.log('shouldPongBy', shouldPongBy);\n      console.log('now', now);\n      props.reRender && props.reRender();\n      setShouldPongBy(Date.now() + minLag$1);\n    }\n  }, [now, shouldPongBy]);\n  useEffect(function () {\n    return function () {\n      clearInterval(pingIntervalID$1);\n      clearInterval(timeIntervalID$1);\n    };\n  }, []);\n\n  function onEditChat(chat) {\n    if (chats) {\n      var newChats = _extends({}, chats);\n\n      newChats[chat.id] = chat;\n      setChats(newChats);\n    }\n\n    props.onEditChat && props.onEditChat(chat);\n  }\n\n  function onGetChat(chat) {\n    if (activeChat === null) {\n      setActiveChat(chat.id);\n    }\n\n    setChats(_$1.mapKeys([chat], 'id'));\n  }\n\n  function onConnect(conn) {\n    setConn(conn);\n    setCreds(conn);\n    getChat$1(conn, props.chatID, function (chat) {\n      return onGetChat(chat);\n    });\n\n    if (Date.now() > reconnect) {\n      getLatestMessages$1(conn, props.chatID, 45, function (id, list) {\n        setMessages(_extends({}, messages, _$1.mapKeys(list, 'created')));\n      });\n    }\n\n    props.onConnect && props.onConnect(conn);\n  }\n\n  function handleEvent(event) {\n    var eventJSON = JSON.parse(event);\n\n    if (eventJSON.action === 'pong') {\n      setShouldPongBy(Date.now() + minLag$1);\n    } else if (eventJSON.action === 'login_error') {\n      console.log(\"Your chat auth credentials were not correct: \\n\\n                Project ID: \" + props.projectID + \" \\n\\n                Chat ID: \" + props.chatID + \" \\n\\n                Access Key: \" + props.chatAccessKey + \"\\n\\n                Double check these credentials to make sure they're correct.\\n\\n                If all three are correct, try resetting the username and secret in the Online Dashboard or Private API.\");\n      setConn(undefined);\n      setCreds(undefined);\n      props.onFailAuth && props.onFailAuth(conn);\n    } else if (eventJSON.action === 'edit_chat') {\n      onEditChat(eventJSON.data);\n    } else if (eventJSON.action === 'delete_chat') {\n      var chat = eventJSON.data;\n\n      if (chats) {\n        chats[chat.id] = undefined;\n        setChats(chats);\n      }\n\n      props.onDeleteChat && props.onDeleteChat(chat);\n    } else if (eventJSON.action === 'add_person') {\n      onEditChat(eventJSON.data);\n      props.onAddPerson && props.onAddPerson(eventJSON.data);\n    } else if (eventJSON.action === 'remove_person') {\n      onEditChat(eventJSON.data);\n      props.onRemovePerson && props.onRemovePerson(eventJSON.data);\n    } else if (eventJSON.action === 'new_message') {\n      var _eventJSON$data = eventJSON.data,\n          id = _eventJSON$data.id,\n          message = _eventJSON$data.message;\n\n      if (id === activeChat) {\n        var newMessages = _extends({}, messages);\n\n        newMessages[message.created] = message;\n        setMessages(newMessages);\n      }\n\n      props.onNewMessage && props.onNewMessage(id, message);\n    } else if (eventJSON.action === 'edit_message') {\n      var _eventJSON$data2 = eventJSON.data,\n          _id = _eventJSON$data2.id,\n          _message = _eventJSON$data2.message;\n\n      if (_id === activeChat) {\n        messages[_message.created] = _message;\n        setMessages(messages);\n      }\n\n      props.onEditMessage && props.onEditMessage(_id, _message);\n    } else if (eventJSON.action === 'delete_message') {\n      var _eventJSON$data3 = eventJSON.data,\n          _id2 = _eventJSON$data3.id,\n          _message2 = _eventJSON$data3.message;\n\n      if (_id2 === activeChat) {\n        messages[_message2.created] = undefined;\n        setMessages(messages);\n      }\n\n      props.onDeleteMessage && props.onDeleteMessage(_id2, _message2);\n    } else if (eventJSON.action === 'is_typing') {\n      var _extends2, _extends3;\n\n      var _eventJSON$data4 = eventJSON.data,\n          _id3 = _eventJSON$data4.id,\n          person = _eventJSON$data4.person;\n\n      var newTypingCounter = _extends({}, typingCounter);\n\n      newTypingCounter = _extends({}, newTypingCounter, (_extends3 = {}, _extends3[_id3] = _extends({}, newTypingCounter[_id3], (_extends2 = {}, _extends2[person] = Date.now(), _extends2)), _extends3));\n      setTypingCounter(newTypingCounter);\n      props.onTyping && props.onTyping(_id3, person);\n    }\n  }\n\n  function onClose() {\n    props.reRender && props.reRender();\n  }\n\n  var development = props.development,\n      publicKey = props.publicKey,\n      projectID = props.projectID,\n      chatID = props.chatID,\n      chatAccessKey = props.chatAccessKey;\n  var wsStart = development ? 'ws://' : 'wss://';\n  var rootHost = development ? '127.0.0.1:8000' : 'api.chatengine.io';\n  var project = publicKey ? publicKey : projectID;\n  return /*#__PURE__*/React.createElement(WebSocket, {\n    reconnect: true,\n    childRef: function childRef(ref) {\n      return socketRef$1 = ref;\n    },\n    url: \"\" + wsStart + rootHost + \"/chat/?projectID=\" + project + \"&chatID=\" + chatID + \"&accessKey=\" + chatAccessKey,\n    onOpen: onConnect.bind(_this$1, props),\n    onClose: onClose.bind(_this$1),\n    onError: function onError(e) {\n      return console.log('Socket Error', e);\n    },\n    onMessage: handleEvent.bind(_this$1),\n    reconnectIntervalInMilliSeconds: 3000\n  });\n};\n\nvar ChatSocket = function ChatSocket(props) {\n  var _useState = useState(false),\n      hide = _useState[0],\n      setHide = _useState[1];\n\n  function _reRender() {\n    setHide(true);\n    setTimeout(function () {\n      return setHide(false);\n    }, 100);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", null, !hide && /*#__PURE__*/React.createElement(SocketChild, _extends({}, props, {\n    reRender: function reRender() {\n      return _reRender();\n    }\n  })));\n};\n\nvar ChatLoader = function ChatLoader(props) {\n  function useOnScreen(ref) {\n    var _useState = useState(false),\n        isIntersecting = _useState[0],\n        setIntersecting = _useState[1];\n\n    var observer = new IntersectionObserver(function (_ref) {\n      var entry = _ref[0];\n      setIntersecting(entry.isIntersecting);\n\n      if (entry.isIntersecting) {\n        props.onVisible();\n      }\n    });\n    useEffect(function () {\n      observer.observe(ref.current);\n      return function () {\n        observer.disconnect();\n      };\n    }, []);\n    return isIntersecting;\n  }\n\n  var ref = useRef();\n  var isVisible = useOnScreen(ref);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      backgroundColor: '#e2e2e2',\n      margin: '4px',\n      borderRadius: '4px'\n    }\n  }, /*#__PURE__*/React.createElement(LoadingOutlined, {\n    style: {\n      fontSize: '21px',\n      padding: '24px'\n    }\n  })));\n};\n\nvar _this$2 = undefined;\n\nvar NewChatForm = function NewChatForm(props) {\n  var _useContext = useContext(ChatEngineContext),\n      conn = _useContext.conn;\n\n  var _useState = useState(''),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var _useState2 = useState(false),\n      selected = _useState2[0],\n      setSelected = _useState2[1];\n\n  function _handleChange(event) {\n    setValue(event.target.value);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    if (conn && value.trim().length > 0) {\n      newChat$1(conn, {\n        title: value\n      }, function () {\n        return setSelected(false);\n      });\n    }\n\n    setValue('');\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", null, props.onClose && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '0px'\n    }\n  }, /*#__PURE__*/React.createElement(CloseOutlined, {\n    style: styles.closeIcon,\n    onClick: function onClick() {\n      return props.onClose();\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-form-container\",\n    style: _extends({}, styles.newChatContainer, {\n      marginLeft: props.onClose ? '40px' : '0px'\n    })\n  }, selected ? /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit.bind(_this$2)\n  }, /*#__PURE__*/React.createElement(TextInput$1, {\n    autoFocus: true,\n    label: \"Chat Title\",\n    value: value,\n    id: \"ce-new-chat-title-field\",\n    onBlur: function onBlur() {\n      return setSelected(false);\n    },\n    style: {\n      width: '100%'\n    },\n    handleChange: function handleChange(e) {\n      return _handleChange(e);\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '0px'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontWeight: '600',\n      fontSize: '24px',\n      position: 'relative',\n      top: '4px',\n      width: 'calc(100% - 48px)'\n    }\n  }, \"My Chats\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      textAlign: 'right'\n    }\n  }, /*#__PURE__*/React.createElement(Button$1, {\n    icon: \"plus\",\n    id: \"new-chat-plus-button\",\n    onClick: function onClick() {\n      return setSelected(true);\n    }\n  })))));\n};\n\nvar styles = {\n  closeIcon: {\n    position: 'relative',\n    top: '26px',\n    left: '18px',\n    fontSize: '16px'\n  },\n  newChatContainer: {\n    padding: '16px 14px',\n    backgroundColor: 'white'\n  }\n};\n\nvar ChatCard = function ChatCard() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$1.chatContainer,\n    className: \"ce-chat-card ce-chat-card-loading\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: _extends({}, styles$1.titleText, {\n      animation: \"spin 2s linear infinite\"\n    }),\n    className: \"ce-chat-title-text\",\n    id: \"ce-chat-card-title-loading\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-card-loading-bar\",\n    style: _extends({}, styles$1.loadingBar, {\n      marginBottom: '8px',\n      height: '16px',\n      width: '100%'\n    })\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%'\n    },\n    className: \"ce-chat-subtitle\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$1.messageText,\n    className: \"ce-chat-subtitle-text ce-chat-subtitle-message\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-card-loading-bar\",\n    style: _extends({}, styles$1.loadingBar, {\n      width: '45%'\n    })\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-card-loading-bar\",\n    style: _extends({}, styles$1.loadingBar, {\n      \"float\": 'right',\n      marginTop: '6px',\n      width: '20%'\n    })\n  })));\n};\n\nvar styles$1 = {\n  chatContainer: {\n    padding: '16px',\n    paddingBottom: '12px',\n    cursor: 'pointer'\n  },\n  titleText: {\n    fontWeight: '500',\n    paddingBottom: '4px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden'\n  },\n  messageText: {\n    width: '75%',\n    color: 'rgba(153, 153, 153, 1)',\n    fontSize: '14px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    display: 'inline-block'\n  },\n  loadingBar: {\n    borderRadius: '4px',\n    backgroundColor: '#e2e2e2',\n    height: '12px',\n    display: 'inline-block'\n  }\n};\n\nfunction useBoop(_ref) {\n  var _ref$x = _ref.x,\n      x = _ref$x === void 0 ? 0 : _ref$x,\n      _ref$y = _ref.y,\n      y = _ref$y === void 0 ? 0 : _ref$y,\n      _ref$rotation = _ref.rotation,\n      rotation = _ref$rotation === void 0 ? 0 : _ref$rotation,\n      _ref$scale = _ref.scale,\n      scale = _ref$scale === void 0 ? 1 : _ref$scale,\n      _ref$timing = _ref.timing,\n      timing = _ref$timing === void 0 ? 150 : _ref$timing,\n      _ref$springConfig = _ref.springConfig,\n      springConfig = _ref$springConfig === void 0 ? {\n    tension: 300,\n    friction: 10\n  } : _ref$springConfig,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 'auto' : _ref$width;\n\n  var _React$useState = React.useState(false),\n      isBooped = _React$useState[0],\n      setIsBooped = _React$useState[1];\n\n  var style = useSpring({\n    display: 'inline-block',\n    backfaceVisibility: 'hidden',\n    transform: isBooped ? \"translate(\" + x + \"px, \" + y + \"px)\\n            rotate(\" + rotation + \"deg)\\n            scale(\" + scale + \")\" : \"translate(0px, 0px)\\n            rotate(0deg)\\n            scale(1)\",\n    config: springConfig,\n    width: width\n  });\n  React.useEffect(function () {\n    if (!isBooped) {\n      return;\n    }\n\n    var timeoutId = window.setTimeout(function () {\n      setIsBooped(false);\n    }, timing);\n    return function () {\n      window.clearTimeout(timeoutId);\n    };\n  }, [isBooped]);\n  var trigger = React.useCallback(function () {\n    setIsBooped(true);\n  }, []);\n  return [style, trigger];\n}\n\nvar _excluded = [\"children\", \"triggers\"];\n\nvar Boop = function Boop(_ref) {\n  var children = _ref.children,\n      _ref$triggers = _ref.triggers,\n      triggers = _ref$triggers === void 0 ? [] : _ref$triggers,\n      boopConfig = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var _useBoop = useBoop(boopConfig),\n      style = _useBoop[0],\n      trigger = _useBoop[1];\n\n  function isTriggerPresent(trigger) {\n    return triggers.indexOf(trigger) !== -1;\n  }\n\n  return /*#__PURE__*/React.createElement(animated.span, {\n    style: style,\n    onClick: function onClick() {\n      return isTriggerPresent('onClick') && trigger();\n    },\n    onMouseEnter: function onMouseEnter() {\n      return isTriggerPresent('onMouseEnter') && trigger();\n    },\n    onMouseLeave: function onMouseLeave() {\n      return isTriggerPresent('onMouseLeave') && trigger();\n    }\n  }, children);\n};\n\nvar _require = require('html-to-text'),\n    htmlToText = _require.htmlToText;\n\nvar ChatCard$1 = function ChatCard$1(props) {\n  var chat = props.chat;\n\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      activeChat = _useContext.activeChat,\n      setActiveChat = _useContext.setActiveChat;\n\n  if (_$1.isEmpty(chat) || props.loading) return /*#__PURE__*/React.createElement(ChatCard, null);\n  if (!conn || conn === null) return /*#__PURE__*/React.createElement(\"div\", null);\n  var extraStyle = activeChat === chat.id ? styles$2.activeChat : {};\n  var otherPerson = chat.people.find(function (person) {\n    return conn.userName !== person.person.username;\n  });\n  var title = chat.is_direct_chat && otherPerson ? otherPerson.person.username : chat.title;\n  var lastMessage = htmlToText(chat.last_message.text, {});\n\n  if (!lastMessage) {\n    lastMessage = chat.last_message.attachments.length > 0 ? chat.last_message.attachments.length + \" image\" + (chat.last_message.attachments.length > 1 ? 's' : '') : 'Say hello!';\n  }\n\n  function didReadLastMessage(chat) {\n    var didReadLastMessage = true;\n    chat.people.map(function (chat_person) {\n      if (conn.userName === chat_person.person.username) {\n        didReadLastMessage = chat.last_message.id === chat_person.last_read;\n      }\n    });\n    return didReadLastMessage;\n  }\n\n  function daySinceSent(date) {\n    if (!date) return '';\n    return getDateTime(date, conn.offset).toString().substr(4, 6);\n  }\n\n  return /*#__PURE__*/React.createElement(Boop, {\n    triggers: ['onClick', 'onMouseEnter'],\n    x: 3,\n    timing: 60,\n    width: '-webkit-fill-available'\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: function onClick() {\n      return setActiveChat(chat.id);\n    },\n    style: _extends({}, styles$2.chatContainer, extraStyle),\n    className: \"ce-chat-card \" + (activeChat === chat.id && 'ce-active-chat-card')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$2.titleText,\n    className: \"ce-chat-title-text\",\n    id: \"ce-chat-card-title-\" + title\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: !didReadLastMessage(chat) && 'calc(100% - 18px)',\n      overflowX: 'hidden',\n      display: 'inline-block'\n    }\n  }, title), !didReadLastMessage(chat) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-unread-dot\",\n    style: {\n      marginTop: '5px',\n      width: '12px',\n      height: '12px',\n      borderRadius: '6px',\n      backgroundColor: '#1890ff',\n      \"float\": 'right',\n      display: 'inline-block'\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%'\n    },\n    className: \"ce-chat-subtitle\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$2.messageText,\n    className: \"ce-chat-subtitle-text ce-chat-subtitle-message\"\n  }, lastMessage), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-subtitle-text ce-chat-subtitle-date\",\n    style: _extends({}, styles$2.messageText, {\n      textAlign: 'right',\n      width: '25%'\n    })\n  }, daySinceSent(chat.last_message.created)))));\n};\n\nvar styles$2 = {\n  chatContainer: {\n    padding: '16px',\n    paddingBottom: '12px',\n    cursor: 'pointer'\n  },\n  titleText: {\n    fontWeight: '500',\n    paddingBottom: '4px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden'\n  },\n  messageText: {\n    width: '75%',\n    color: 'rgba(153, 153, 153, 1)',\n    fontSize: '14px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    display: 'inline-block'\n  },\n  activeChat: {\n    backgroundColor: '#d9d9d9',\n    border: '0px solid white',\n    borderRadius: '12px'\n  }\n};\nvar interval = 33;\n\nvar ChatList = function ChatList(props) {\n  var didMountRef = useRef(false);\n\n  var _useState = useState(false),\n      loadChats = _useState[0],\n      setLoadChats = _useState[1];\n\n  var _useState2 = useState(true),\n      hasMoreChats = _useState2[0],\n      setHasMoreChats = _useState2[1];\n\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      setChats = _useContext.setChats,\n      setActiveChat = _useContext.setActiveChat;\n\n  var chatList = sortChats(chats ? Object.values(chats) : [{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}]);\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      getLatestChats$1(props, interval, function (chats) {\n        onGetChats(chats);\n        chats.length > 0 && setActiveChat(chats[0].id);\n      });\n    }\n  });\n  useEffect(function () {\n    if (!loadChats || loadChats === 'loading') return;\n    setLoadChats('loading');\n    var chatList = chats !== null ? sortChats(Object.values(chats)) : [];\n\n    if (chatList.length > 0) {\n      var before = chatList[chatList.length - 1].created;\n      getChatsBefore$1(props, before, interval, function (chats) {\n        return onGetChats(chats);\n      });\n    }\n  }, [loadChats]);\n\n  function sortChats(chats) {\n    return chats.sort(function (a, b) {\n      var aDate = a.last_message && a.last_message.created ? getDateTime(a.last_message.created, props.offset) : getDateTime(a.created, props.offset);\n      var bDate = b.last_message && b.last_message.created ? getDateTime(b.last_message.created, props.offset) : getDateTime(b.created, props.offset);\n      return new Date(bDate) - new Date(aDate);\n    });\n  }\n\n  function onGetChats(chatList) {\n    setLoadChats(false);\n    var oldChats = chats !== null ? chats : {};\n\n    var newChats = _$1.mapKeys(_extends({}, chatList), 'id');\n\n    var allChats = _extends({}, oldChats, newChats);\n\n    setChats(allChats);\n    interval > chatList.length && setHasMoreChats(false);\n  }\n\n  function renderChats(chats) {\n    return chats.map(function (chat, index) {\n      if (!chat) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"chat_\" + index\n        });\n      } else if (props.renderChatCard) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"chat_\" + index\n        }, props.renderChatCard(chat, index));\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"chat_\" + index,\n          onClick: function onClick() {\n            return props.onChatClick && props.onChatClick(chat.id);\n          }\n        }, /*#__PURE__*/React.createElement(ChatCard$1, {\n          chat: chat\n        }));\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$3.chatListContainer,\n    className: \"ce-chat-list\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$3.chatsContainer,\n    className: \"ce-chats-container\"\n  }, props.renderNewChatForm ? props.renderNewChatForm(conn) : /*#__PURE__*/React.createElement(NewChatForm, {\n    onClose: props.onClose ? function () {\n      return props.onClose();\n    } : undefined\n  }), renderChats(chatList), hasMoreChats && chatList.length > 0 && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(ChatLoader, {\n    onVisible: function onVisible() {\n      return !loadChats && setLoadChats(true);\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '8px'\n    }\n  }))));\n};\n\nvar styles$3 = {\n  chatListContainer: {\n    height: '100%',\n    maxHeight: '100vh',\n    overflow: 'scroll',\n    overflowX: 'hidden',\n    borderRight: '1px solid #afafaf',\n    backgroundColor: 'white',\n    fontFamily: 'Avenir'\n  },\n  chatsContainer: {\n    width: '100%',\n    height: '100%',\n    backgroundColor: 'white',\n    borderRadius: '0px 0px 24px 24px'\n  }\n};\n\nvar AuthFail = function AuthFail(props) {\n  var project = props.projectID ? props.projectID : props.publicKey;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-login-fail-breaker\",\n    style: {\n      width: '100%',\n      textAlign: 'center',\n      paddingTop: 'calc(50% - 112px)'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-login-fail-text\",\n    style: {\n      color: '#afafaf',\n      fontWeight: '600',\n      fontSize: '14px',\n      marginBottom: '6px',\n      marginRight: '32px',\n      marginLeft: '32px'\n    }\n  }, \"Your credentials are incorrect. Make sure your Project ID, Username, and Password are correct \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://chatengine.io/projects/\" + project\n  }, \"here\"), \".\"), /*#__PURE__*/React.createElement(\"img\", {\n    id: \"ce-login-fail-gif\",\n    style: {\n      width: '50%',\n      maxWidth: '200px'\n    },\n    src: \"https://chat-engine-assets.s3.amazonaws.com/welcome_gifs/no.gif\",\n    alt: \"chat-engine-login-fail\"\n  }));\n};\n\nvar CreateChat = function CreateChat() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-ice-breaker\",\n    style: {\n      width: '100%',\n      textAlign: 'center',\n      paddingTop: 'calc(43% - 112px)'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-ice-breaker-text\",\n    style: {\n      color: '#afafaf',\n      fontWeight: '600',\n      marginBottom: '6px'\n    }\n  }, \"Welcome!\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-ice-breaker-text\",\n    style: {\n      color: '#afafaf'\n    }\n  }, \"Create a new chat to get started.\"), /*#__PURE__*/React.createElement(\"img\", {\n    id: \"ce-ice-breaker-gif\",\n    style: {\n      width: '50%',\n      maxWidth: '200px'\n    },\n    src: \"https://chat-engine-assets.s3.amazonaws.com/welcome_gifs/okay.gif\",\n    alt: \"chat-engine-ice-breaker\"\n  }));\n};\n\nvar IceBreaker = function IceBreaker() {\n  var _useContext = useContext(ChatEngineContext$1),\n      activeChat = _useContext.activeChat;\n\n  var gifs = ['https://chat-engine-assets.s3.amazonaws.com/welcome_gifs/peace.gif', 'https://chat-engine-assets.s3.amazonaws.com/welcome_gifs/thumbsup.gif'];\n  var gif = gifs[(activeChat ? activeChat : 0) % gifs.length];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-ice-breaker\",\n    style: {\n      width: '100%',\n      textAlign: 'center',\n      paddingTop: 'calc(43% - 112px)'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-ice-breaker-text\",\n    style: {\n      color: '#afafaf',\n      fontWeight: '600',\n      fontSize: '14px',\n      marginBottom: '6px'\n    }\n  }, \"No messages here yet...\"), /*#__PURE__*/React.createElement(\"img\", {\n    id: \"ce-ice-breaker-gif\",\n    style: {\n      width: '50%',\n      maxWidth: '200px'\n    },\n    src: gif,\n    alt: \"chat-engine-ice-breaker\"\n  }));\n};\n\nvar RenderTrigger = function RenderTrigger(props) {\n  var _useContext = useContext(ChatEngineContext);\n\n  function useOnScreen(ref) {\n    var _useState = useState(false),\n        isIntersecting = _useState[0],\n        setIntersecting = _useState[1];\n\n    var observer = new IntersectionObserver(function (_ref) {\n      var entry = _ref[0];\n      setIntersecting(entry.isIntersecting);\n\n      if (entry.isIntersecting) {\n        props.onEnter && props.onEnter();\n      } else {\n        props.onLeave && props.onLeave();\n      }\n    });\n    useEffect(function () {\n      observer.observe(ref.current);\n      return function () {\n        observer.disconnect();\n      };\n    }, []);\n    return isIntersecting;\n  }\n\n  var ref = useRef();\n  var isVisible = useOnScreen(ref);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    id: props.id\n  }, props.children);\n};\n\nvar ChatListDrawer = function ChatListDrawer(props) {\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var context = useContext(ChatEngineContext);\n\n  var allProps = _extends({}, props, context.conn);\n\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MenuOutlined, {\n    onClick: function onClick() {\n      return setIsOpen(true);\n    },\n    style: {\n      color: 'rgb(24, 144, 255)',\n      outline: 'none'\n    }\n  }), isOpen && /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$4.drawerContainer\n  }, context.conn !== null && context.conn.renderChatList ? context.conn.renderChatList(context) : /*#__PURE__*/React.createElement(ChatList, _extends({}, allProps, {\n    onClose: function onClose() {\n      return setIsOpen(false);\n    },\n    onChatClick: function onChatClick() {\n      return setIsOpen(false);\n    }\n  }))));\n};\n\nvar styles$4 = {\n  drawerContainer: {\n    position: 'fixed',\n    zIndex: '1',\n    top: '0px',\n    left: '0px',\n    width: '100%',\n    height: '100%',\n    backgroundColor: 'white',\n    textAlign: 'left'\n  },\n  titleContainer: {\n    width: '100%',\n    padding: '24px 0px',\n    textAlign: 'center',\n    color: 'rgb(24, 144, 255)'\n  },\n  titleText: {\n    fontSize: '24px',\n    fontWeight: '600'\n  }\n};\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nvar b = \"function\" === typeof Symbol && Symbol.for,\n    c = b ? Symbol.for(\"react.element\") : 60103,\n    d = b ? Symbol.for(\"react.portal\") : 60106,\n    e = b ? Symbol.for(\"react.fragment\") : 60107,\n    f = b ? Symbol.for(\"react.strict_mode\") : 60108,\n    g = b ? Symbol.for(\"react.profiler\") : 60114,\n    h = b ? Symbol.for(\"react.provider\") : 60109,\n    k = b ? Symbol.for(\"react.context\") : 60110,\n    l = b ? Symbol.for(\"react.async_mode\") : 60111,\n    m = b ? Symbol.for(\"react.concurrent_mode\") : 60111,\n    n = b ? Symbol.for(\"react.forward_ref\") : 60112,\n    p = b ? Symbol.for(\"react.suspense\") : 60113,\n    q = b ? Symbol.for(\"react.suspense_list\") : 60120,\n    r = b ? Symbol.for(\"react.memo\") : 60115,\n    t = b ? Symbol.for(\"react.lazy\") : 60116,\n    v = b ? Symbol.for(\"react.block\") : 60121,\n    w = b ? Symbol.for(\"react.fundamental\") : 60117,\n    x = b ? Symbol.for(\"react.responder\") : 60118,\n    y = b ? Symbol.for(\"react.scope\") : 60119;\n\nfunction z(a) {\n  if (\"object\" === typeof a && null !== a) {\n    var u = a.$$typeof;\n\n    switch (u) {\n      case c:\n        switch (a = a.type, a) {\n          case l:\n          case m:\n          case e:\n          case g:\n          case f:\n          case p:\n            return a;\n\n          default:\n            switch (a = a && a.$$typeof, a) {\n              case k:\n              case n:\n              case t:\n              case r:\n              case h:\n                return a;\n\n              default:\n                return u;\n            }\n\n        }\n\n      case d:\n        return u;\n    }\n  }\n}\n\nfunction A(a) {\n  return z(a) === m;\n}\n\nvar AsyncMode = l;\nvar ConcurrentMode = m;\nvar ContextConsumer = k;\nvar ContextProvider = h;\nvar Element = c;\nvar ForwardRef = n;\nvar Fragment = e;\nvar Lazy = t;\nvar Memo = r;\nvar Portal = d;\nvar Profiler = g;\nvar StrictMode = f;\nvar Suspense = p;\n\nvar isAsyncMode = function (a) {\n  return A(a) || z(a) === l;\n};\n\nvar isConcurrentMode = A;\n\nvar isContextConsumer = function (a) {\n  return z(a) === k;\n};\n\nvar isContextProvider = function (a) {\n  return z(a) === h;\n};\n\nvar isElement = function (a) {\n  return \"object\" === typeof a && null !== a && a.$$typeof === c;\n};\n\nvar isForwardRef = function (a) {\n  return z(a) === n;\n};\n\nvar isFragment = function (a) {\n  return z(a) === e;\n};\n\nvar isLazy = function (a) {\n  return z(a) === t;\n};\n\nvar isMemo = function (a) {\n  return z(a) === r;\n};\n\nvar isPortal = function (a) {\n  return z(a) === d;\n};\n\nvar isProfiler = function (a) {\n  return z(a) === g;\n};\n\nvar isStrictMode = function (a) {\n  return z(a) === f;\n};\n\nvar isSuspense = function (a) {\n  return z(a) === p;\n};\n\nvar isValidElementType = function (a) {\n  return \"string\" === typeof a || \"function\" === typeof a || a === e || a === m || a === g || a === f || a === p || a === q || \"object\" === typeof a && null !== a && (a.$$typeof === t || a.$$typeof === r || a.$$typeof === h || a.$$typeof === k || a.$$typeof === n || a.$$typeof === w || a.$$typeof === x || a.$$typeof === y || a.$$typeof === v);\n};\n\nvar typeOf = z;\nvar reactIs_production_min = {\n  AsyncMode: AsyncMode,\n  ConcurrentMode: ConcurrentMode,\n  ContextConsumer: ContextConsumer,\n  ContextProvider: ContextProvider,\n  Element: Element,\n  ForwardRef: ForwardRef,\n  Fragment: Fragment,\n  Lazy: Lazy,\n  Memo: Memo,\n  Portal: Portal,\n  Profiler: Profiler,\n  StrictMode: StrictMode,\n  Suspense: Suspense,\n  isAsyncMode: isAsyncMode,\n  isConcurrentMode: isConcurrentMode,\n  isContextConsumer: isContextConsumer,\n  isContextProvider: isContextProvider,\n  isElement: isElement,\n  isForwardRef: isForwardRef,\n  isFragment: isFragment,\n  isLazy: isLazy,\n  isMemo: isMemo,\n  isPortal: isPortal,\n  isProfiler: isProfiler,\n  isStrictMode: isStrictMode,\n  isSuspense: isSuspense,\n  isValidElementType: isValidElementType,\n  typeOf: typeOf\n};\nvar reactIs_development = createCommonjsModule(function (module, exports) {\n  if (process.env.NODE_ENV !== \"production\") {\n    (function () {\n      // The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n      // nor polyfill, then a plain number is used for performance.\n      var hasSymbol = typeof Symbol === 'function' && Symbol.for;\n      var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\n      var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\n      var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\n      var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\n      var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\n      var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\n      var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n      // (unstable) APIs that have been removed. Can we remove the symbols?\n\n      var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\n      var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\n      var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\n      var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\n      var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\n      var REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\n      var REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\n      var REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\n      var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\n      var REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\n      var REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\n      function isValidElementType(type) {\n        return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n        type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n      }\n\n      function typeOf(object) {\n        if (typeof object === 'object' && object !== null) {\n          var $$typeof = object.$$typeof;\n\n          switch ($$typeof) {\n            case REACT_ELEMENT_TYPE:\n              var type = object.type;\n\n              switch (type) {\n                case REACT_ASYNC_MODE_TYPE:\n                case REACT_CONCURRENT_MODE_TYPE:\n                case REACT_FRAGMENT_TYPE:\n                case REACT_PROFILER_TYPE:\n                case REACT_STRICT_MODE_TYPE:\n                case REACT_SUSPENSE_TYPE:\n                  return type;\n\n                default:\n                  var $$typeofType = type && type.$$typeof;\n\n                  switch ($$typeofType) {\n                    case REACT_CONTEXT_TYPE:\n                    case REACT_FORWARD_REF_TYPE:\n                    case REACT_LAZY_TYPE:\n                    case REACT_MEMO_TYPE:\n                    case REACT_PROVIDER_TYPE:\n                      return $$typeofType;\n\n                    default:\n                      return $$typeof;\n                  }\n\n              }\n\n            case REACT_PORTAL_TYPE:\n              return $$typeof;\n          }\n        }\n\n        return undefined;\n      } // AsyncMode is deprecated along with isAsyncMode\n\n\n      var AsyncMode = REACT_ASYNC_MODE_TYPE;\n      var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\n      var ContextConsumer = REACT_CONTEXT_TYPE;\n      var ContextProvider = REACT_PROVIDER_TYPE;\n      var Element = REACT_ELEMENT_TYPE;\n      var ForwardRef = REACT_FORWARD_REF_TYPE;\n      var Fragment = REACT_FRAGMENT_TYPE;\n      var Lazy = REACT_LAZY_TYPE;\n      var Memo = REACT_MEMO_TYPE;\n      var Portal = REACT_PORTAL_TYPE;\n      var Profiler = REACT_PROFILER_TYPE;\n      var StrictMode = REACT_STRICT_MODE_TYPE;\n      var Suspense = REACT_SUSPENSE_TYPE;\n      var hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\n      function isAsyncMode(object) {\n        {\n          if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n            hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n            console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n          }\n        }\n        return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n      }\n\n      function isConcurrentMode(object) {\n        return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n      }\n\n      function isContextConsumer(object) {\n        return typeOf(object) === REACT_CONTEXT_TYPE;\n      }\n\n      function isContextProvider(object) {\n        return typeOf(object) === REACT_PROVIDER_TYPE;\n      }\n\n      function isElement(object) {\n        return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n      }\n\n      function isForwardRef(object) {\n        return typeOf(object) === REACT_FORWARD_REF_TYPE;\n      }\n\n      function isFragment(object) {\n        return typeOf(object) === REACT_FRAGMENT_TYPE;\n      }\n\n      function isLazy(object) {\n        return typeOf(object) === REACT_LAZY_TYPE;\n      }\n\n      function isMemo(object) {\n        return typeOf(object) === REACT_MEMO_TYPE;\n      }\n\n      function isPortal(object) {\n        return typeOf(object) === REACT_PORTAL_TYPE;\n      }\n\n      function isProfiler(object) {\n        return typeOf(object) === REACT_PROFILER_TYPE;\n      }\n\n      function isStrictMode(object) {\n        return typeOf(object) === REACT_STRICT_MODE_TYPE;\n      }\n\n      function isSuspense(object) {\n        return typeOf(object) === REACT_SUSPENSE_TYPE;\n      }\n\n      exports.AsyncMode = AsyncMode;\n      exports.ConcurrentMode = ConcurrentMode;\n      exports.ContextConsumer = ContextConsumer;\n      exports.ContextProvider = ContextProvider;\n      exports.Element = Element;\n      exports.ForwardRef = ForwardRef;\n      exports.Fragment = Fragment;\n      exports.Lazy = Lazy;\n      exports.Memo = Memo;\n      exports.Portal = Portal;\n      exports.Profiler = Profiler;\n      exports.StrictMode = StrictMode;\n      exports.Suspense = Suspense;\n      exports.isAsyncMode = isAsyncMode;\n      exports.isConcurrentMode = isConcurrentMode;\n      exports.isContextConsumer = isContextConsumer;\n      exports.isContextProvider = isContextProvider;\n      exports.isElement = isElement;\n      exports.isForwardRef = isForwardRef;\n      exports.isFragment = isFragment;\n      exports.isLazy = isLazy;\n      exports.isMemo = isMemo;\n      exports.isPortal = isPortal;\n      exports.isProfiler = isProfiler;\n      exports.isStrictMode = isStrictMode;\n      exports.isSuspense = isSuspense;\n      exports.isValidElementType = isValidElementType;\n      exports.typeOf = typeOf;\n    })();\n  }\n});\nvar reactIs = createCommonjsModule(function (module) {\n  if (process.env.NODE_ENV === 'production') {\n    module.exports = reactIs_production_min;\n  } else {\n    module.exports = reactIs_development;\n  }\n});\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n/* eslint-disable no-unused-vars */\n\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Object.assign cannot be called with null or undefined');\n  }\n\n  return Object(val);\n}\n\nfunction shouldUseNative() {\n  try {\n    if (!Object.assign) {\n      return false;\n    } // Detect buggy property enumeration order in older V8 versions.\n    // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\n\n    var test1 = new String('abc'); // eslint-disable-line no-new-wrappers\n\n    test1[5] = 'de';\n\n    if (Object.getOwnPropertyNames(test1)[0] === '5') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test2 = {};\n\n    for (var i = 0; i < 10; i++) {\n      test2['_' + String.fromCharCode(i)] = i;\n    }\n\n    var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n      return test2[n];\n    });\n\n    if (order2.join('') !== '0123456789') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test3 = {};\n    'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n      test3[letter] = letter;\n    });\n\n    if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    // We don't expect any of the above to throw, but better to be safe.\n    return false;\n  }\n}\n\nvar objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\n  var from;\n  var to = toObject(target);\n  var symbols;\n\n  for (var s = 1; s < arguments.length; s++) {\n    from = Object(arguments[s]);\n\n    for (var key in from) {\n      if (hasOwnProperty.call(from, key)) {\n        to[key] = from[key];\n      }\n    }\n\n    if (getOwnPropertySymbols) {\n      symbols = getOwnPropertySymbols(from);\n\n      for (var i = 0; i < symbols.length; i++) {\n        if (propIsEnumerable.call(from, symbols[i])) {\n          to[symbols[i]] = from[symbols[i]];\n        }\n      }\n    }\n  }\n\n  return to;\n};\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\nvar ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\nvar printWarning = function () {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret$1 = ReactPropTypesSecret_1;\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function (text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\n\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret$1);\n        } catch (ex) {\n          error = ex;\n        }\n\n        if (error && !(error instanceof Error)) {\n          printWarning((componentName || 'React class') + ': type specification of ' + location + ' `' + typeSpecName + '` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a ' + typeof error + '. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).');\n        }\n\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n          var stack = getStack ? getStack() : '';\n          printWarning('Failed ' + location + ' type: ' + error.message + (stack != null ? stack : ''));\n        }\n      }\n    }\n  }\n}\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\n\n\ncheckPropTypes.resetWarningCache = function () {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n};\n\nvar checkPropTypes_1 = checkPropTypes;\nvar has$1 = Function.call.bind(Object.prototype.hasOwnProperty);\n\nvar printWarning$1 = function () {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning$1 = function (text) {\n    var message = 'Warning: ' + text;\n\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nvar factoryWithTypeCheckers = function (isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n\n  var ANONYMOUS = '<<anonymous>>'; // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker\n  };\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n\n  /*eslint-disable no-self-compare*/\n\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n\n\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  } // Make `instanceof Error` still work for returned errors.\n\n\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret_1) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use `PropTypes.checkPropTypes()` to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n\n          if (!manualPropTypeCallCache[cacheKey] && // Avoid spamming the console because they are often not actionable except for lib authors\n          manualPropTypeWarningCount < 3) {\n            printWarning$1('You are manually calling a React.PropTypes validation ' + 'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' + 'and will throw in the standalone `prop-types` package. ' + 'You may be seeing this warning due to a third-party PropTypes ' + 'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.');\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n\n      var propValue = props[propName];\n\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret_1);\n\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      if (!reactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning$1('Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' + 'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).');\n        } else {\n          printWarning$1('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n\n        if (type === 'symbol') {\n          return String(value);\n        }\n\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n\n      for (var key in propValue) {\n        if (has$1(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning$1('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n\n      if (typeof checker !== 'function') {\n        printWarning$1('Invalid argument supplied to oneOfType. Expected an array of check functions, but ' + 'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.');\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret_1) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          continue;\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      } // We need to check all keys in case some are required but missing from\n      // props.\n\n\n      var allKeys = objectAssign({}, props[propName], shapeTypes);\n\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n\n        if (!checker) {\n          return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' + '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') + '\\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  '));\n        }\n\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n\n        if (error) {\n          return error;\n        }\n      }\n\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n\n      case 'boolean':\n        return !propValue;\n\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    } // falsy value can't be a Symbol\n\n\n    if (!propValue) {\n      return false;\n    } // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n\n\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    } // Fallback for non-spec compliant Symbols which are polyfilled.\n\n\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  } // Equivalent of `typeof` but with special handling for array and regexp.\n\n\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n\n    return propType;\n  } // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n\n\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n\n    var propType = getPropType(propValue);\n\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n\n    return propType;\n  } // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n\n\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n\n      default:\n        return type;\n    }\n  } // Returns class name of the object, if any.\n\n\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes_1;\n  ReactPropTypes.resetWarningCache = checkPropTypes_1.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};\n\nfunction emptyFunction() {}\n\nfunction emptyFunctionWithReset() {}\n\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nvar factoryWithThrowingShims = function () {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret_1) {\n      // It is still safe when called from React.\n      return;\n    }\n\n    var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n    err.name = 'Invariant Violation';\n    throw err;\n  }\n\n  shim.isRequired = shim;\n\n  function getShim() {\n    return shim;\n  } // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};\n\nvar propTypes = createCommonjsModule(function (module) {\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  if (process.env.NODE_ENV !== 'production') {\n    var ReactIs = reactIs; // By explicitly using `prop-types` you are opting into new development behavior.\n    // http://fb.me/prop-types-in-prod\n\n    var throwOnDirectAccess = true;\n    module.exports = factoryWithTypeCheckers(ReactIs.isElement, throwOnDirectAccess);\n  } else {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    module.exports = factoryWithThrowingShims();\n  }\n});\n\nvar PersonRow = function PersonRow(props) {\n  var _useState = useState(false),\n      selected = _useState[0],\n      setSelected = _useState[1];\n\n  var person = props.person,\n      chat = props.chat,\n      conn = props.conn;\n\n  if (!person || !chat) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  if (!conn || conn === null) return /*#__PURE__*/React.createElement(\"div\", null);\n\n  function onRemovePerson() {\n    removePerson$1(props.conn, props.chat.id, props.person.username);\n  }\n\n  function renderPersonText(person) {\n    if (person.first_name && person.first_name !== null) {\n      return \"\" + person.first_name + (person.last_name ? \" \" + person.last_name : '');\n    } else {\n      return person.username;\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-person-container\",\n    onMouseEnter: function onMouseEnter() {\n      return setSelected(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setSelected(false);\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-person-avatar\",\n    style: {\n      padding: '2px',\n      height: '0px'\n    }\n  }, /*#__PURE__*/React.createElement(Avatar$1, {\n    avatar: person.avatar,\n    username: person.username,\n    is_online: person.is_online\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-person-text\",\n    style: {\n      paddingLeft: '52px',\n      height: '44px',\n      position: 'relative',\n      top: '10px',\n      fontSize: '15px'\n    }\n  }, renderPersonText(person)), selected && conn.userName === chat.admin.username && person.username !== chat.admin.username && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-delete-chat\",\n    style: {\n      \"float\": 'right',\n      height: '0px',\n      position: 'relative',\n      bottom: '44px'\n    }\n  }, /*#__PURE__*/React.createElement(Button$1, {\n    theme: \"danger\",\n    icon: \"delete\",\n    onClick: function onClick() {\n      return onRemovePerson();\n    }\n  })));\n};\n\nPersonRow.propTypes = {\n  person: propTypes.object.isRequired,\n  chat: propTypes.object.isRequired,\n  conn: propTypes.object\n};\n\nvar PersonOption = function PersonOption(props) {\n  var _useState = useState(false),\n      focused = _useState[0],\n      setFocused = _useState[1];\n\n  var _props$person = props.person,\n      avatar = _props$person.avatar,\n      username = _props$person.username;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-username-option-\" + username,\n    onMouseEnter: function onMouseEnter() {\n      return setFocused(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setFocused(false);\n    },\n    onClick: function onClick() {\n      return props.onClick && props.onClick();\n    },\n    style: _extends({}, styles$5.option, {\n      backgroundColor: focused ? '#f5f5f5' : 'white'\n    })\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Avatar$1, {\n    username: username,\n    avatar: avatar\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      padding: '12px 4px'\n    }\n  }, props.person.username));\n};\n\nvar styles$5 = {\n  option: {\n    padding: '4px 16px',\n    cursor: 'pointer',\n    fontSize: '15px',\n    display: 'flex'\n  }\n};\nPersonOption.propTypes = {\n  person: propTypes.object.isRequired\n};\n\nvar PersonForm = function PersonForm(props) {\n  var _useState = useState({\n    value: '',\n    others: []\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  function _handleChange(value) {\n    setState(_extends({}, state, {\n      value: value\n    }));\n  }\n\n  function invitePerson(name) {\n    addPerson$1(props.conn, props.chat.id, name, function () {\n      setState(_extends({}, state, {\n        value: ''\n      }));\n      getOthers();\n    });\n  }\n\n  function getOthers() {\n    getOtherPeople$1(props.conn, props.chat.id, function (id, others) {\n      return setState(_extends({}, state, {\n        others: others\n      }));\n    }, function () {});\n  }\n\n  function _renderOption(option) {\n    return /*#__PURE__*/React.createElement(PersonOption, {\n      person: option,\n      onClick: function onClick() {\n        return invitePerson(option.username);\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: '12px'\n    }\n  }, /*#__PURE__*/React.createElement(AutoCompleteInput$1, {\n    style: {\n      width: '100%'\n    },\n    label: \"Type a username\",\n    value: state.value,\n    options: state.others,\n    onFocus: function onFocus() {\n      return getOthers();\n    },\n    handleChange: function handleChange(value) {\n      return _handleChange(value);\n    },\n    renderOption: function renderOption(option) {\n      return _renderOption(option);\n    }\n  }));\n};\n\nPersonForm.propTypes = {\n  chat: propTypes.object.isRequired,\n  conn: propTypes.object.isRequired\n};\n\nvar SettingsBlock = function SettingsBlock(props) {\n  var _useState = useState(true),\n      collapsed = _useState[0],\n      setCollapsed = _useState[1];\n\n  var _useState2 = useState(false),\n      hovered = _useState2[0],\n      setHovered = _useState2[1];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      borderTop: '1px solid #f0f0f0'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: props.id,\n    className: props.className,\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    },\n    onClick: function onClick() {\n      return setCollapsed(!collapsed);\n    },\n    style: {\n      cursor: 'pointer',\n      backgroundColor: hovered ? '#f0f0f0' : '#fff',\n      transition: \"background-color 100ms\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: '17px',\n      padding: '12px',\n      fontWeight: '600'\n    }\n  }, props.label), /*#__PURE__*/React.createElement(LeftOutlined, {\n    style: {\n      \"float\": 'right',\n      position: 'relative',\n      bottom: '30px',\n      right: '12px',\n      transform: collapsed ? \"rotate(0deg)\" : \"rotate(-90deg)\",\n      transition: \"transform 100ms\"\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", null, !collapsed && props.children));\n};\n\nvar PeopleSettings = function PeopleSettings() {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      activeChat = _useContext.activeChat;\n\n  var chat = chats && chats[activeChat];\n\n  if (!chat || chat.is_direct_chat) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  function renderChatPeople(people, chat) {\n    return people.map(function (chatPerson, index) {\n      return /*#__PURE__*/React.createElement(PersonRow, {\n        key: \"person_\" + index,\n        person: chatPerson.person,\n        conn: conn,\n        chat: chat\n      });\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      borderTop: '1px solid #f0f0f0'\n    }\n  }, /*#__PURE__*/React.createElement(SettingsBlock, {\n    label: \"People\",\n    className: \"ce-section-title-container ce-person-title-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '12px'\n    }\n  }), renderChatPeople(chat.people, chat), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '12px'\n    }\n  }), conn && chat && conn.userName === chat.admin.username && /*#__PURE__*/React.createElement(PersonForm, {\n    conn: conn,\n    chat: chat\n  }))));\n};\n\nvar Thumbnail = function Thumbnail(props) {\n  var attachment = props.attachment;\n\n  if (!attachment) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$6.container,\n    className: \"ce-photo-thumbnail\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: '100%'\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    alt: attachment.id,\n    style: styles$6.image,\n    src: attachment.file,\n    className: \"ce-photo-img\",\n    id: \"image-\" + attachment.id\n  }));\n};\n\nvar styles$6 = {\n  container: {\n    position: 'relative',\n    width: 'calc(33% - 8px)',\n    border: '1px solid white',\n    display: 'inline-block',\n    cursor: 'pointer'\n  },\n  image: {\n    top: '0px',\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n    objectFit: 'cover'\n  }\n};\nThumbnail.propTypes = {\n  attachment: propTypes.object.isRequired\n};\n\nvar PhotosSettings = function PhotosSettings() {\n  var _useContext = useContext(ChatEngineContext$1),\n      chats = _useContext.chats,\n      activeChat = _useContext.activeChat;\n\n  var chat = chats && chats[activeChat];\n  if (!chat) return /*#__PURE__*/React.createElement(\"div\", null);\n\n  function renderPhotos(attachments) {\n    return attachments.map(function (attachment, index) {\n      return /*#__PURE__*/React.createElement(Thumbnail, {\n        key: \"person_\" + index,\n        attachment: attachment\n      });\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      borderTop: '1px solid #f0f0f0'\n    },\n    className: \"ce-photo-section\"\n  }, /*#__PURE__*/React.createElement(SettingsBlock, {\n    label: \"Photos\",\n    className: \"ce-section-title-container ce-photo-title-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-photo-feed\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '12px'\n    }\n  }), renderPhotos(chat.attachments))));\n};\n\nvar OptionsSettings = function OptionsSettings() {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      activeChat = _useContext.activeChat;\n\n  var chat = chats && chats[activeChat];\n  if (!chat) return /*#__PURE__*/React.createElement(\"div\", null);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      borderTop: '1px solid #f0f0f0'\n    }\n  }, /*#__PURE__*/React.createElement(SettingsBlock, {\n    id: \"ce-options-drop-down\",\n    label: \"Options\"\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '8px'\n    }\n  }), /*#__PURE__*/React.createElement(Button$1, {\n    value: \"Delete\",\n    theme: \"danger\",\n    icon: \"delete\",\n    id: \"ce-delete-chat-button\",\n    onClick: function onClick() {\n      return deleteChat$1(conn, chat.id, function (data) {});\n    },\n    style: {\n      width: '100%',\n      marginBottom: '12px'\n    }\n  }))));\n};\n\nvar NewMessageForm = function NewMessageForm(props) {\n  var didMountRef = useRef(false);\n\n  var _useState = useState({\n    activeChat: null,\n    value: ''\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  function _handleChange(event) {\n    setState(_extends({}, state, {\n      value: event.target.value\n    }));\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    editChat$1(props.conn, props.chat.id, {\n      title: state.value\n    }, function (data) {});\n  }\n\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n    } else {\n      if (state.activeChat !== props.chat.id) {\n        setState(_extends({}, state, {\n          value: props.chat.title,\n          activeChat: props.chat.id\n        }));\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: function onSubmit(e) {\n      return handleSubmit(e);\n    },\n    className: \"ce-chat-title-form\"\n  }, /*#__PURE__*/React.createElement(TextInput$1, {\n    label: \"Rename this Chat\",\n    value: state.value,\n    \"default\": props.chat.title,\n    handleChange: function handleChange(e) {\n      return _handleChange(e);\n    },\n    style: {\n      fontSize: '16px',\n      fontWeight: '600',\n      textAlign: 'center',\n      border: '0px solid white',\n      width: '100%'\n    }\n  }));\n};\n\nNewMessageForm.propTypes = {\n  chat: propTypes.object.isRequired\n};\n\nvar ChatSettingsTop = function ChatSettingsTop() {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      activeChat = _useContext.activeChat;\n\n  var chat = chats && chats[activeChat];\n  if (!chat || !conn || conn === null) return /*#__PURE__*/React.createElement(\"div\", null);\n  var topPeople = chat.people.slice(0, 3);\n  var otherPerson = getOtherPerson(chat.people);\n\n  function renderOnePerson(people) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        paddingTop: '14px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": 'left',\n        position: 'relative',\n        left: 'calc(50% - 22px)'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar$1, {\n      show_online: false,\n      username: people[0].person.username,\n      avatar: people[0].person.avatar\n    })));\n  }\n\n  function renderTwoPeople(people) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        paddingTop: '14px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": 'left',\n        position: 'relative',\n        left: 'calc(50% - 22px - 15px)'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar$1, {\n      show_online: false,\n      username: people[0].person.username,\n      avatar: people[0].person.avatar\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": 'left',\n        position: 'relative',\n        left: 'calc(50% - 44px - 22px + 15px)'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar$1, {\n      show_online: false,\n      username: people[1].person.username,\n      avatar: people[1].person.avatar\n    })));\n  }\n\n  function renderThreePeople(people) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        paddingTop: '14px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": 'left',\n        position: 'relative',\n        left: 'calc(50% - 22px - 24px)'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar$1, {\n      show_online: false,\n      username: people[0].person.username,\n      avatar: people[0].person.avatar\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": 'left',\n        position: 'relative',\n        left: 'calc(50% - 24px - 44px)'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar$1, {\n      show_online: false,\n      username: people[1].person.username,\n      avatar: people[1].person.avatar\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": 'left',\n        position: 'relative',\n        left: 'calc(50% - 22px - 44px - 44px + 24px)'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar$1, {\n      show_online: false,\n      username: people[2].person.username,\n      avatar: people[2].person.avatar\n    })));\n  }\n\n  function getOtherPerson(people) {\n    return people.find(function (person) {\n      return person.person.username !== conn.userName;\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-settings-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-avatars-row\"\n  }, topPeople.length === 1 && renderOnePerson(topPeople), chat.is_direct_chat && otherPerson && renderOnePerson([otherPerson]), !chat.is_direct_chat && otherPerson && topPeople.length === 2 && renderTwoPeople(topPeople), !chat.is_direct_chat && otherPerson && topPeople.length === 3 && renderThreePeople(topPeople)), chat.is_direct_chat && otherPerson ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: '55px',\n      paddingBottom: '7px',\n      fontSize: '16px',\n      fontWeight: '600',\n      textAlign: 'center',\n      border: '0px solid white',\n      width: '100%'\n    }\n  }, otherPerson.person.username) : /*#__PURE__*/React.createElement(NewMessageForm, {\n    chat: chat,\n    conn: conn\n  }));\n};\n\nvar ChatSettings = function ChatSettings(props) {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      activeChat = _useContext.activeChat;\n\n  var chat = chats && chats[activeChat];\n  if (conn === null) return /*#__PURE__*/React.createElement(\"div\", null);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$7.settingsContainer,\n    className: \"ce-settings\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '90%',\n      paddingLeft: '5%'\n    },\n    className: \"ce-settings-container\"\n  }, props.renderChatSettingsTop ? props.renderChatSettingsTop(conn, chat) : /*#__PURE__*/React.createElement(ChatSettingsTop, null), props.renderPeopleSettings ? props.renderPeopleSettings(conn, chat) : /*#__PURE__*/React.createElement(PeopleSettings, null), props.renderPhotosSettings ? props.renderPhotosSettings(chat) : /*#__PURE__*/React.createElement(PhotosSettings, null), conn && chat && conn.userName === chat.admin.username && /*#__PURE__*/React.createElement(\"div\", null, props.renderOptionsSettings ? props.renderOptionsSettings(conn, chat) : /*#__PURE__*/React.createElement(OptionsSettings, null))));\n};\n\nvar styles$7 = {\n  settingsContainer: {\n    height: '100%',\n    overflow: 'scroll',\n    overflowX: 'hidden',\n    borderLeft: '1px solid #afafaf',\n    backgroundColor: 'white',\n    fontFamily: 'Avenir'\n  }\n};\n\nvar ChatSettingsDrawer = function ChatSettingsDrawer(props) {\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var context = useContext(ChatEngineContext$1);\n\n  var allProps = _extends({}, props, context.conn);\n\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SettingOutlined, {\n    onClick: function onClick() {\n      return setIsOpen(true);\n    },\n    style: {\n      color: 'rgb(24, 144, 255)',\n      outline: 'none'\n    }\n  }), isOpen && /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$8.drawerContainer\n  }, /*#__PURE__*/React.createElement(CloseOutlined, {\n    style: styles$8.closeIcon,\n    onClick: function onClick() {\n      return setIsOpen(false);\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$8.titleContainer\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$8.titleText\n  }, \"Chat Settings\")), context.conn !== null && context.conn.renderChatSettings ? context.conn.renderChatSettings(context) : /*#__PURE__*/React.createElement(ChatSettings, allProps)));\n};\n\nvar styles$8 = {\n  drawerContainer: {\n    position: 'fixed',\n    zIndex: '1',\n    top: '0px',\n    left: '0px',\n    width: '100%',\n    height: '100%',\n    backgroundColor: 'white',\n    textAlign: 'left'\n  },\n  closeIcon: {\n    position: 'absolute',\n    left: '28px',\n    top: '32px'\n  },\n  titleContainer: {\n    width: '100%',\n    padding: '24px 0px',\n    textAlign: 'center',\n    color: 'rgb(24, 144, 255)'\n  },\n  titleText: {\n    fontSize: '24px',\n    fontWeight: '600'\n  }\n};\nsetConfiguration({\n  maxScreenClass: 'xl',\n  gutterWidth: 0\n});\n\nvar ChatHeader = function ChatHeader() {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      activeChat = _useContext.activeChat;\n\n  var chat = chats ? chats[activeChat] : undefined;\n  var otherPerson = chat && conn && chat.people.find(function (person) {\n    return person.person.username !== conn.userName;\n  });\n  var title = chat ? chat.is_direct_chat && otherPerson ? otherPerson.person.username : chat.title : undefined;\n  var text = 'Say hello!';\n\n  if (!chat) {\n    text = 'Loading...';\n  } else if (chat.last_message.created && chat.last_message.created.length > 0) {\n    var dateTime = getDateTime(chat.last_message.created, conn ? conn.offset : undefined);\n    text = \"Active \" + formatDateTime(dateTime);\n  }\n\n  return /*#__PURE__*/React.createElement(Row, {\n    className: \"ce-chat-title\",\n    style: styles$9.titleSection\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 2,\n    sm: 0,\n    style: _extends({}, styles$9.mobileOptiom, {\n      left: '6px'\n    }),\n    className: \"ce-chat-list-mobile-option\"\n  }, /*#__PURE__*/React.createElement(ChatListDrawer, null)), /*#__PURE__*/React.createElement(Col, {\n    xs: 8,\n    sm: 12,\n    style: styles$9.titleContainer,\n    className: \"ce-chat-title-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$9.titleText,\n    className: \"ce-chat-title-text\",\n    id: \"ce-chat-feed-title-\" + title\n  }, title ? title : /*#__PURE__*/React.createElement(LoadingOutlined, null)), /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$9.subtitleText,\n    className: \"ce-chat-subtitle-text\"\n  }, text)), /*#__PURE__*/React.createElement(Col, {\n    xs: 2,\n    sm: 0,\n    style: _extends({}, styles$9.mobileOptiom, {\n      right: '6px'\n    }),\n    className: \"ce-chat-settings-mobile-option\"\n  }, /*#__PURE__*/React.createElement(ChatSettingsDrawer, null)));\n};\n\nvar styles$9 = {\n  titleSection: {\n    position: 'absolute',\n    top: '0px',\n    width: '100%',\n    zIndex: '1',\n    backgroundColor: 'rgb(256, 256, 256, 0.92)'\n  },\n  mobileOptiom: {\n    width: '100%',\n    top: '32px',\n    textAlign: 'center',\n    color: 'rgb(24, 144, 255)',\n    overflow: 'hidden'\n  },\n  titleContainer: {\n    width: '100%',\n    padding: '18px 0px',\n    textAlign: 'center',\n    color: 'rgb(24, 144, 255)',\n    overflowX: 'hidden'\n  },\n  titleText: {\n    fontSize: '24px',\n    fontWeight: '600'\n  },\n  subtitleText: {\n    fontSize: '12px'\n  }\n};\n\nvar DatePartition = function DatePartition(props) {\n  var lastCreated = props.lastCreated,\n      created = props.created;\n\n  function getDate(date) {\n    return date ? date.substr(0, 10) : null;\n  }\n\n  var lastDate = getDate(lastCreated);\n  var thisDate = getDate(created);\n  if (lastCreated && lastDate === thisDate) return /*#__PURE__*/React.createElement(\"div\", null);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$a.dateText,\n    className: \"ce-message-date-text\"\n  }, formatDateTime(getDateTime(created, props.offset)));\n};\n\nvar styles$a = {\n  dateText: {\n    width: '100%',\n    textAlign: 'center',\n    paddingTop: '4px',\n    paddingBottom: '10px',\n    fontSize: '15px',\n    color: 'rgba(0, 0, 0, .40)'\n  }\n};\nvar images = ['jpg', 'jpeg', 'png', 'gif', 'tiff'];\n\nvar isImage = function isImage(fileName) {\n  var dotSplit = fileName.split('.');\n  return dotSplit.length > 0 && images.indexOf(dotSplit[dotSplit.length - 1].toLowerCase()) !== -1;\n};\n\nvar getFileName = function getFileName(fileUrl) {\n  var slashSplit = fileUrl.split('/');\n  var nameAndHash = slashSplit[slashSplit.length - 1];\n  return nameAndHash.split('?')[0];\n};\n\nvar _loadingContainer, _thumbnail;\n\nvar Thumbnail$1 = function Thumbnail(props) {\n  var _useState = useState(false),\n      hovered = _useState[0],\n      setHovered = _useState[1];\n\n  var attachment = props.attachment;\n\n  var style = _extends({}, styles$b.thumbnail, {\n    border: hovered ? '1px solid #1890ff' : '1px solid #fff'\n  });\n\n  if (!attachment) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$b.loadingContainer\n    }, /*#__PURE__*/React.createElement(LoadingOutlined, {\n      style: {\n        color: 'white',\n        padding: '4px',\n        fontSize: '24px'\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"img\", {\n    onClick: function onClick() {\n      return window.open(attachment.file);\n    },\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    },\n    src: attachment.file,\n    alt: 'thumb-nail',\n    style: style\n  });\n};\n\nvar styles$b = {\n  loadingContainer: (_loadingContainer = {\n    width: '100%',\n    cursor: 'pointer',\n    textAlign: 'right',\n    display: 'inline-block',\n    objectFit: 'cover',\n    borderRadius: '0.3em',\n    marginRight: '2px',\n    marginBottom: '4px',\n    height: '30vw'\n  }, _loadingContainer[\"width\"] = '30vw', _loadingContainer.maxHeight = '200px', _loadingContainer.maxWidth = '200px', _loadingContainer.minHeight = '100px', _loadingContainer.minWidth = '100px', _loadingContainer.backgroundColor = '#d9d9d9', _loadingContainer),\n  thumbnail: (_thumbnail = {\n    width: '100%',\n    cursor: 'pointer',\n    textAlign: 'right',\n    display: 'inline',\n    objectFit: 'cover',\n    borderRadius: '0.3em',\n    paddingRight: '2px',\n    height: '30vw'\n  }, _thumbnail[\"width\"] = '30vw', _thumbnail.maxHeight = '200px', _thumbnail.maxWidth = '200px', _thumbnail.minHeight = '100px', _thumbnail.minWidth = '100px', _thumbnail)\n};\n\nvar FileView = function FileView(props) {\n  var _useState = useState(false),\n      hovered = _useState[0],\n      setHovered = _useState[1];\n\n  var attachment = props.attachment;\n\n  var style = _extends({}, styles$c.fileView, {\n    color: hovered ? '#1890ff' : '#434343',\n    border: hovered ? '1px solid #1890ff' : '1px solid #434343'\n  });\n\n  if (!attachment) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$c.loadingContainer\n    }, /*#__PURE__*/React.createElement(LoadingOutlined, {\n      style: {\n        color: 'white',\n        padding: '4px',\n        fontSize: '24px'\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: style,\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    },\n    onClick: function onClick() {\n      return window.open(attachment.file);\n    }\n  }, /*#__PURE__*/React.createElement(FileOutlined, null), ' ', getFileName(attachment.file));\n};\n\nvar styles$c = {\n  loadingContainer: {\n    display: 'inline-block',\n    borderRadius: '14px',\n    marginRight: '2px',\n    height: '48px',\n    width: '136px',\n    marginBottom: '4px',\n    marginLeft: '4px',\n    backgroundColor: '#d9d9d9'\n  },\n  fileView: {\n    padding: '12px',\n    borderRadius: '14px',\n    display: 'inline-block',\n    marginBottom: '4px',\n    marginRight: '2px',\n    cursor: 'pointer'\n  }\n};\nvar colors = ['#D64045', '#5B3000', '#00CC99', '#467599', '#1D3354', '#8F250C', '#6153CC', '#961D4E', '#A29F15', '#0CAADC', '#FF5154', '#FA7921', '#688E26', '#550527', '#A10702', '#FF1053', '#6C6EA0', '#100B00'];\n\nfunction stringToNumber(str) {\n  var sum = 0;\n\n  for (var i = 0; i < str.length; i++) {\n    sum = sum + str.charCodeAt(i) * i - 97;\n  }\n\n  return sum;\n}\n\nfunction stringToColor(str) {\n  if (!str) {\n    return 'black';\n  } else {\n    return colors[stringToNumber(str) % colors.length];\n  }\n}\n\nvar Dot = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Dot, _Component);\n\n  function Dot() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      avatar: ''\n    };\n    return _this;\n  }\n\n  var _proto = Dot.prototype;\n\n  _proto.updateImg = function updateImg() {\n    var avatar = this.props.avatar;\n    avatar = avatar && avatar !== null ? avatar : '';\n\n    if (avatar.split('?')[0] !== this.state.avatar.split('?')[0]) {\n      this.setState({\n        avatar: avatar\n      });\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateImg();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.updateImg();\n  };\n\n  _proto.render = function render() {\n    var username = this.props.username;\n    var color = stringToColor(username);\n    var customStyle = this.props.style ? this.props.style : {};\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-avatar-dot\",\n      style: _extends({}, styles$d.dot, customStyle, {\n        backgroundColor: this.state.avatar ? 'white' : color,\n        backgroundImage: this.state.avatar && \"url(\" + this.state.avatar + \")\",\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        backgroundSize: '14px',\n        width: this.props.visible ? '13px' : '0px',\n        height: this.props.visible ? '13px' : '0px'\n      })\n    });\n  };\n\n  return Dot;\n}(Component);\n\nvar styles$d = {\n  dot: {\n    borderRadius: '13px',\n    textAlign: 'center',\n    transition: \"all .33s ease\",\n    WebkitTransition: \"all .33s ease\",\n    MozTransition: \"all .33s ease\"\n  }\n};\nDot.propTypes = {\n  avatar: propTypes.string,\n  username: propTypes.string,\n  style: propTypes.object\n};\n\nvar Body = function Body(props) {\n  var text = props.text ? props.text : '';\n  text = text.replaceAll(\"<p>\", \"<div>\").replaceAll(\"</p>\", \"</div>\");\n  text = text.replaceAll(\"<a \", \"<a style=\\\"color: \" + (props.myMessage ? 'white' : '#1890ff') + \";\\\" \");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce_message\",\n    dangerouslySetInnerHTML: {\n      __html: text\n    }\n  });\n};\n\nsetConfiguration({\n  maxScreenClass: 'xl'\n});\n\nvar Message = function Message(props) {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn;\n\n  var _useState = useState(false),\n      hovered = _useState[0],\n      setHovered = _useState[1];\n\n  function renderReads() {\n    var chat = props.chat,\n        message = props.message;\n\n    if (!chat) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n\n    return chat.people.map(function (chatPerson, index) {\n      return /*#__PURE__*/React.createElement(Dot, {\n        key: \"read_\" + index,\n        avatar: chatPerson.person.avatar,\n        username: chatPerson.person.username,\n        visible: message.id === chatPerson.last_read,\n        style: {\n          \"float\": 'right',\n          marginLeft: '4px'\n        }\n      });\n    });\n  }\n\n  function renderImages() {\n    var message = props.message;\n    var attachments = message && message.attachments ? message.attachments : [];\n    return attachments.map(function (attachment, index) {\n      var fileName = getFileName(attachment.file ? attachment.file : attachment.name);\n\n      if (isImage(fileName)) {\n        return /*#__PURE__*/React.createElement(Thumbnail$1, {\n          attachment: attachment.file && attachment,\n          key: \"attachment_\" + index\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"attachment\" + index\n        });\n      }\n    });\n  }\n\n  function renderFiles() {\n    var message = props.message;\n    var attachments = message && message.attachments ? message.attachments : [];\n    return attachments.map(function (attachment, index) {\n      var fileName = getFileName(attachment.file ? attachment.file : attachment.name);\n\n      if (!isImage(fileName)) {\n        return /*#__PURE__*/React.createElement(FileView, {\n          attachment: attachment.file && attachment,\n          key: \"attachment_\" + index\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"attachment\" + index\n        });\n      }\n    });\n  }\n\n  var lastMessage = props.lastMessage,\n      message = props.message,\n      nextMessage = props.nextMessage;\n\n  if (!message) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  var attachments = message && message.attachments && message.attachments;\n  var topRightRadius = !lastMessage || lastMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em';\n  var bottomRightRadius = !nextMessage || nextMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em';\n  var borderRadius = \"1.3em \" + topRightRadius + \" \" + bottomRightRadius + \" 1.3em\";\n  var paddingBottom = !nextMessage || nextMessage.sender_username !== message.sender_username ? '12px' : '2px';\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-message-row ce-my-message\",\n    style: {\n      width: '100%',\n      textAlign: 'right',\n      paddingBottom: paddingBottom\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'auto'\n    },\n    className: \"ce-my-message-attachments-container ce-my-message-images-container\"\n  }, renderImages()), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'auto'\n    },\n    className: \"ce-my-message-attachments-container ce-my-message-files-container\"\n  }, renderFiles()), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      paddingRight: '2px'\n    },\n    className: \"ce-message-bubble-row ce-my-message-bubble-row\"\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    sm: 12,\n    md: 12\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ce-message-timestamp ce-my-message-timestamp\",\n    style: _extends({}, styles$e.timeTag, {\n      opacity: hovered ? '1' : '0'\n    })\n  }, formatTime(getDateTime(message.created, conn !== null && conn.offset))), !attachments || message.text && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\\n                                ce-message-bubble \\n                                ce-my-message-bubble \\n                                \" + (props.sending && 'ce-my-message-sinding-bubble') + \"\\n                            \",\n    style: _extends({}, styles$e.myMessage, {\n      borderRadius: borderRadius\n    }, {\n      backgroundColor: props.sending ? '#40a9ff' : 'rgb(24, 144, 255)'\n    }),\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    }\n  }, /*#__PURE__*/React.createElement(Body, {\n    myMessage: true,\n    text: message.text\n  }))), /*#__PURE__*/React.createElement(Col, {\n    xs: 1,\n    sm: 2,\n    md: 3\n  }), /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    className: \"ce-reads-row ce-my-reads-row\"\n  }, renderReads())));\n};\n\nvar styles$e = {\n  myMessage: {\n    color: 'white',\n    cursor: 'pointer',\n    \"float\": 'right',\n    textAlign: 'left',\n    padding: '12px',\n    fontSize: '15px',\n    whiteSpace: 'pre-line',\n    overflowWrap: 'anywhere',\n    maxWidth: 'calc(100% - 100px)',\n    transition: \"all .33s ease\",\n    WebkitTransition: \"all .33s ease\",\n    MozTransition: \"all .33s ease\"\n  },\n  timeTag: {\n    position: 'relative',\n    top: 'calc(50% - 12px)',\n    right: '8px',\n    fontSize: '14px',\n    color: 'rgb(24, 144, 255)',\n    transition: \"all .15s ease\",\n    WebkitTransition: \"all .15s ease\",\n    MozTransition: \"all .15s ease\"\n  }\n};\nsetConfiguration({\n  maxScreenClass: 'xl'\n});\n\nvar TheirMessage = function TheirMessage(props) {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn;\n\n  var _useState = useState(false),\n      hovered = _useState[0],\n      setHovered = _useState[1];\n\n  function renderReads() {\n    var chat = props.chat,\n        message = props.message;\n\n    if (!chat) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n\n    return chat.people.map(function (person, index) {\n      return /*#__PURE__*/React.createElement(Dot$1, {\n        key: \"read_\" + index,\n        avatar: person.person.avatar,\n        username: person.person.username,\n        visible: message.id === person.last_read,\n        style: {\n          \"float\": 'left',\n          marginLeft: '4px'\n        }\n      });\n    });\n  }\n\n  function renderImages() {\n    var message = props.message;\n    var attachments = message && message.attachments ? message.attachments : [];\n    return attachments.map(function (attachment, index) {\n      var fileName = getFileName(attachment.file);\n\n      if (isImage(fileName)) {\n        return /*#__PURE__*/React.createElement(Thumbnail$1, {\n          attachment: attachment,\n          key: \"attachment_\" + index\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"attachment\" + index\n        });\n      }\n    });\n  }\n\n  function renderFiles() {\n    var message = props.message;\n    var attachments = message && message.attachments ? message.attachments : [];\n    return attachments.map(function (attachment, index) {\n      var fileName = getFileName(attachment.file);\n\n      if (!isImage(fileName)) {\n        return /*#__PURE__*/React.createElement(FileView, {\n          attachment: attachment,\n          key: \"attachment_\" + index\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"attachment\" + index\n        });\n      }\n    });\n  }\n\n  var lastMessage = props.lastMessage,\n      message = props.message,\n      nextMessage = props.nextMessage;\n\n  if (!message) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  var attachments = message && message.attachments && message.attachments;\n  var topLeftRadius = !lastMessage || lastMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em';\n  var bottomLeftRadius = !nextMessage || nextMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em';\n  var borderRadius = topLeftRadius + \" 1.3em 1.3em \" + bottomLeftRadius;\n  var paddingBottom = !nextMessage || nextMessage.sender_username !== message.sender_username ? '12px' : '2px';\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      paddingBottom: paddingBottom\n    },\n    className: \"ce-message-row ce-their-message\"\n  }, (!lastMessage || lastMessage.sender_username !== message.sender_username) && /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$f.nameText,\n    className: \"ce-their-message-sender\"\n  }, message.sender_username), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      paddingLeft: '2px'\n    },\n    className: \"ce-their-message-row\"\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    sm: 12,\n    md: 12\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '0px'\n    },\n    className: \"ce-their-message-avatar\"\n  }, (!nextMessage || nextMessage.sender_username !== message.sender_username) && /*#__PURE__*/React.createElement(Avatar$1, {\n    show_online: false,\n    username: message.sender_username,\n    avatar: message.sender && message.sender.avatar\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'auto',\n      paddingLeft: '50px'\n    },\n    className: \"ce-their-message-attachments-container ce-their-message-images-container\"\n  }, renderImages()), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'auto',\n      paddingLeft: '50px'\n    },\n    className: \"ce-their-message-attachments-container ce-their-message-files-container\"\n  }, renderFiles()), !attachments || message.text && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingLeft: '48px'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-message-bubble ce-their-message-bubble\",\n    style: _extends({}, styles$f.theirMessage, {\n      borderRadius: borderRadius\n    }),\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    }\n  }, /*#__PURE__*/React.createElement(Body, {\n    text: message.text\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ce-message-timestamp ce-their-message-timestamp\",\n    style: _extends({}, styles$f.timeTag, {\n      opacity: hovered ? '1' : '0'\n    })\n  }, formatTime(getDateTime(message.created, conn !== null && conn.offset)))), /*#__PURE__*/React.createElement(Col, {\n    xs: 9,\n    style: {\n      marginLeft: '48px'\n    },\n    className: \"ce-reads-row ce-their-reads-row\"\n  }, renderReads())));\n};\n\nvar styles$f = {\n  theirMessage: {\n    cursor: 'pointer',\n    color: 'black',\n    \"float\": 'left',\n    padding: '12px',\n    fontSize: '15px',\n    whiteSpace: 'pre-line',\n    backgroundColor: '#f1f0f0',\n    overflowWrap: 'anywhere',\n    maxWidth: 'calc(100% - 100px)',\n    transition: \"all .33s ease\",\n    WebkitTransition: \"all .33s ease\",\n    MozTransition: \"all .33s ease\"\n  },\n  nameText: {\n    paddingLeft: '62px',\n    paddingBottom: '2px',\n    color: 'rgba(0, 0, 0, .40)',\n    fontSize: '15px'\n  },\n  timeTag: {\n    position: 'relative',\n    top: 'calc(50% - 12px)',\n    left: '8px',\n    fontSize: '14px',\n    color: 'rgba(0, 0, 0, 0.4)',\n    transition: \"all .15s ease\",\n    WebkitTransition: \"all .15s ease\",\n    MozTransition: \"all .15s ease\"\n  }\n};\n\nvar Message$1 = function Message$1(props) {\n  var lastMessage = props.lastMessage,\n      message = props.message,\n      nextMessage = props.nextMessage,\n      chat = props.chat;\n\n  var _useContext = useContext(ChatEngineContext),\n      conn = _useContext.conn;\n\n  if (!message || !chat) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  if (!conn || conn === null) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-message-and-date\"\n  }, /*#__PURE__*/React.createElement(DatePartition, {\n    lastCreated: lastMessage ? lastMessage.created : null,\n    created: message.created,\n    offset: conn.offset\n  }), message.sender_username === conn.userName || message.sender_username === conn.senderUsername ? /*#__PURE__*/React.createElement(Message, {\n    chat: chat,\n    conn: conn,\n    sending: !message.id,\n    lastMessage: lastMessage,\n    message: message,\n    nextMessage: nextMessage\n  }) : /*#__PURE__*/React.createElement(TheirMessage, {\n    chat: chat,\n    conn: conn,\n    lastMessage: lastMessage,\n    message: message,\n    nextMessage: nextMessage\n  }));\n};\n\nvar Messages = function Messages(props) {\n  var _useContext = useContext(ChatEngineContext),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      messages = _useContext.messages,\n      activeChat = _useContext.activeChat,\n      setIsBottomVisible = _useContext.setIsBottomVisible;\n\n  var chat = chats && chats[activeChat];\n  var keys = Object.keys(messages);\n  if (!conn || conn === null || !chat) return /*#__PURE__*/React.createElement(\"div\", null);\n  return keys.map(function (key, index) {\n    var message = messages[key];\n    var lastMessageKey = index === 0 ? null : keys[index - 1];\n    var nextMessageKey = index === keys.length - 1 ? null : keys[index + 1];\n\n    if (props.renderMessageBubble) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"message_\" + index\n      }, index === keys.length - 1 && /*#__PURE__*/React.createElement(RenderTrigger, {\n        id: \"ce-first-message-render-trigger\",\n        onEnter: function onEnter() {\n          return setIsBottomVisible(true);\n        },\n        onLeave: function onLeave() {\n          return setIsBottomVisible(false);\n        }\n      }), props.renderMessageBubble(conn, chat, messages[lastMessageKey], message, messages[nextMessageKey]));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: \"message_\" + index,\n      id: \"ce-message-\" + message.id\n    }, index === keys.length - 1 && /*#__PURE__*/React.createElement(RenderTrigger, {\n      id: \"ce-last-message-render-trigger\",\n      onEnter: function onEnter() {\n        return setIsBottomVisible(true);\n      },\n      onLeave: function onLeave() {\n        return setIsBottomVisible(false);\n      }\n    }), /*#__PURE__*/React.createElement(Message$1, {\n      chat: chat,\n      message: message,\n      lastMessage: messages[lastMessageKey],\n      nextMessage: messages[nextMessageKey]\n    }));\n  });\n};\n\nvar IsTyping = function IsTyping() {\n  var didMountRef = useRef(false);\n\n  var _useState = useState(Date.now()),\n      currentTime = _useState[0],\n      setCurrentTime = _useState[1];\n\n  var _useContext = useContext(ChatEngineContext),\n      conn = _useContext.conn,\n      activeChat = _useContext.activeChat,\n      typingCounter = _useContext.typingCounter;\n\n  var typers = typingCounter && typingCounter[activeChat] ? typingCounter[activeChat] : [];\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      setInterval(function () {\n        setCurrentTime(Date.now());\n      }, 1000);\n    }\n  });\n  if (!conn || conn === null) return /*#__PURE__*/React.createElement(\"div\", null);\n  return /*#__PURE__*/React.createElement(\"div\", null, Object.keys(typers).map(function (username, index) {\n    if (conn.userName !== username && currentTime < typers[username] + 2000) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"typer_\" + index,\n        className: \"ce-user-typing-text\",\n        style: {\n          color: stringToColor(username),\n          padding: '2px',\n          paddingLeft: '12px'\n        }\n      }, username + \" is typing...\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"typer_\" + index\n      });\n    }\n  }));\n};\n\nvar images$1 = ['jpg', 'jpeg', 'png', 'gif', 'tiff'];\n\nvar isImage$1 = function isImage(fileName) {\n  var dotSplit = fileName.split('.');\n  return dotSplit.length > 0 && images$1.indexOf(dotSplit[dotSplit.length - 1].toLowerCase()) !== -1;\n};\n\nvar FilePreview = function FilePreview(props) {\n  var _useState = useState(false),\n      hovered = _useState[0],\n      setHovered = _useState[1];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    },\n    style: _extends({}, styles$g.filePreview, {\n      paddingRight: hovered ? '6px' : '26px'\n    })\n  }, /*#__PURE__*/React.createElement(FileOutlined, null), ' ', props.file && props.file.name, \" \", ' ', hovered && /*#__PURE__*/React.createElement(CloseCircleTwoTone, {\n    style: styles$g.closeIcon,\n    onClick: function onClick() {\n      return props.onRemove && props.onRemove();\n    }\n  }));\n};\n\nvar styles$g = {\n  filePreview: {\n    padding: '12px',\n    display: 'inline-block',\n    position: \"relative\",\n    border: '1px solid #40a9ff',\n    color: '#434343',\n    borderRadius: '14px'\n  },\n  closeIcon: {}\n};\n\nvar FilesRow = function FilesRow(props) {\n  function renderFiles() {\n    return props.files.map(function (file, index) {\n      if (!isImage$1(file.name)) {\n        return /*#__PURE__*/React.createElement(FilePreview, {\n          file: file,\n          key: \"thumb_\" + index,\n          onRemove: function onRemove() {\n            return props.onRemove && props.onRemove(index);\n          }\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"no_file_\" + index\n        });\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-message-files-row\",\n    style: {\n      width: '100%',\n      padding: props.files.lenth > 0 ? '6px 16px' : '0px'\n    }\n  }, renderFiles());\n};\n\nvar Thumbnail$2 = function Thumbnail(props) {\n  var _useState = useState(false),\n      hovered = _useState[0],\n      setHovered = _useState[1];\n\n  var _useState2 = useState(''),\n      blob = _useState2[0],\n      setBlob = _useState2[1];\n\n  useEffect(function () {\n    setBlob(URL.createObjectURL(props.file));\n  }, [props.file]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '6px',\n      display: 'inline-block',\n      position: \"relative\"\n    },\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: styles$h.imageSquare,\n    alt: props.file ? props.file.name : '',\n    src: blob\n  }), hovered && /*#__PURE__*/React.createElement(CloseCircleTwoTone, {\n    style: styles$h.closeIcon,\n    onClick: function onClick() {\n      return props.onRemove && props.onRemove();\n    }\n  }));\n};\n\nvar styles$h = {\n  imageSquare: {\n    height: '108px',\n    width: '108px',\n    border: '1px solid #afafaf',\n    borderRadius: '8px',\n    objectFit: 'cover',\n    display: 'inline'\n  },\n  closeIcon: {\n    position: 'absolute',\n    bottom: 'calc(100% - 32px)',\n    left: '96px',\n    width: '0px',\n    cursor: 'pointer'\n  }\n};\n\nvar ImagesRow = function ImagesRow(props) {\n  function renderFiles() {\n    return props.files.map(function (file, index) {\n      if (isImage$1(file.name)) {\n        return /*#__PURE__*/React.createElement(Thumbnail$2, {\n          file: file,\n          key: \"thumb_\" + index,\n          onRemove: function onRemove() {\n            return props.onRemove && props.onRemove(index);\n          }\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"no_thumb_\" + index\n        });\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-message-images-row\",\n    style: {\n      width: '100%',\n      paddingLeft: '12px'\n    }\n  }, renderFiles());\n};\n\nvar AttachmentsInput = function AttachmentsInput(props) {\n  var _useState = useState({\n    hovered: false\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  function onSelect(event) {\n    var files = Array.from(event.target.files);\n    props.onSelectFiles && props.onSelectFiles(files);\n  }\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"uploader\",\n    encType: \"multipart/form-data\",\n    style: {\n      height: '0px'\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"files\",\n    id: \"upload-document-button\"\n  }, /*#__PURE__*/React.createElement(PaperClipOutlined, {\n    className: \"ce-attachment-icon\",\n    onMouseEnter: function onMouseEnter() {\n      return setState(_extends({}, state, {\n        hovered: true\n      }));\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setState(_extends({}, state, {\n        hovered: false\n      }));\n    },\n    style: _extends({}, styles$i.icon, {\n      color: state.hovered ? '#06c' : '#444'\n    })\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    multiple: true,\n    id: \"files\",\n    style: {\n      visibility: \"hidden\"\n    },\n    type: \"file\",\n    onChange: function onChange(e) {\n      return onSelect(e);\n    },\n    onClick: function onClick(e) {\n      return e.target.value = null;\n    }\n  }));\n};\n\nvar styles$i = {\n  icon: {\n    background: 'none',\n    border: 'none',\n    cursor: 'pointer',\n    display: 'inline-block',\n    \"float\": 'left',\n    height: '24px',\n    padding: '4px 5px',\n    width: '28px'\n  }\n};\n\nvar SendButton = function SendButton() {\n  var _useState = useState(false),\n      hover = _useState[0],\n      setHover = _useState[1];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"0px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-send-message-button\",\n    onMouseEnter: function onMouseEnter() {\n      return setHover(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHover(false);\n    },\n    style: {\n      cursor: 'pointer',\n      backgroundColor: hover ? '#40a9ff' : '#1890ff',\n      display: 'inline-block',\n      padding: '5px 9px',\n      borderRadius: '8px'\n    }\n  }, /*#__PURE__*/React.createElement(ArrowUpOutlined, {\n    style: {\n      color: 'white'\n    }\n  })));\n};\n\nvar modules = {\n  toolbar: {\n    container: \"#toolbar\"\n  }\n};\nvar formats = ['bold', 'italic', 'underline', 'strike', 'code', 'list', 'bullet', 'indent', 'link', 'code'];\n\nvar FormHtmlEditor = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(FormHtmlEditor, _Component);\n\n  function FormHtmlEditor(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    if (document) {\n      _this.quill = require('react-quill');\n    }\n\n    return _this;\n  }\n\n  var _proto = FormHtmlEditor.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var Quill = this.quill;\n    if (!Quill) return /*#__PURE__*/React.createElement(\"div\", null);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-quill-container\"\n    }, /*#__PURE__*/React.createElement(Quill, {\n      theme: \"snow\",\n      modules: modules,\n      formats: formats,\n      value: this.props.value,\n      onChange: this.props.onChange,\n      onKeyDown: function onKeyDown(e) {\n        if (e.keyCode === 13) {\n          _this2.props.onSubmit();\n        }\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"toolbar\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ql-bold\"\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ql-italic\"\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ql-underline\"\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ql-strike\"\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ql-code\"\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ql-link\"\n    }), /*#__PURE__*/React.createElement(AttachmentsInput, {\n      onSelectFiles: function onSelectFiles(attachments) {\n        return _this2.props.onAttach(attachments);\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-send-button-container\",\n      onClick: this.props.onSubmit.bind(this),\n      style: {\n        position: 'absolute',\n        right: '5px',\n        bottom: '37px'\n      }\n    }, /*#__PURE__*/React.createElement(SendButton, null))), /*#__PURE__*/React.createElement(\"style\", null, \"\\n                /*!\\n                * Quill Editor v1.3.7\\n                * https://quilljs.com/\\n                * Copyright (c) 2014, Jason Chen\\n                * Copyright (c) 2013, salesforce.com\\n                */\\n                .ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li::before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:0;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6,.ql-editor ol,.ql-editor p,.ql-editor pre,.ql-editor ul{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li::before{content:{};}.ql-editor ul[data-checked=false]{pointer-events:none}.ql-editor ul[data-checked=false]>li *,.ql-editor ul[data-checked=true]>li *{pointer-events:all}.ql-editor ul[data-checked=false]>li::before,.ql-editor ul[data-checked=true]>li::before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li::before{content:{};}.ql-editor li:not(.ql-direction-rtl)::before{margin-left:-1.5em;margin-right:.3em;text-align:right}.ql-editor li.ql-direction-rtl::before{margin-left:.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) '. '}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) '. '}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) '. '}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) '. '}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) '. '}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) '. '}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) '. '}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) '. '}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) '. '}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) '. '}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank::before{color:rgba(0,0,0,.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow .ql-toolbar:after,.ql-snow.ql-toolbar:after{clear:both;content:'';display:table}.ql-snow .ql-toolbar button,.ql-snow.ql-toolbar button{background:0 0;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow .ql-toolbar button svg,.ql-snow.ql-toolbar button svg{float:left;height:100%}.ql-snow .ql-toolbar button:active:hover,.ql-snow.ql-toolbar button:active:hover{outline:0}.ql-snow .ql-toolbar input.ql-image[type=file],.ql-snow.ql-toolbar input.ql-image[type=file]{display:none}.ql-snow .ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar button.ql-active,.ql-snow .ql-toolbar button:focus,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar button.ql-active,.ql-snow.ql-toolbar button:focus,.ql-snow.ql-toolbar button:hover{color:#06c}.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill{fill:#06c}.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter{stroke:#06c}@media (pointer:coarse){.ql-snow .ql-toolbar button:hover:not(.ql-active),.ql-snow.ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow{box-sizing:border-box}.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:'';display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-stroke.ql-thin,.ql-snow .ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label::before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-item::before,.ql-snow .ql-picker.ql-header .ql-picker-label::before{content:'Normal'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"1\\\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"1\\\"]::before{content:'Heading 1'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"2\\\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"2\\\"]::before{content:'Heading 2'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"3\\\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"3\\\"]::before{content:'Heading 3'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"4\\\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"4\\\"]::before{content:'Heading 4'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"5\\\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"5\\\"]::before{content:'Heading 5'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"6\\\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"6\\\"]::before{content:'Heading 6'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"1\\\"]::before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"2\\\"]::before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"3\\\"]::before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"4\\\"]::before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"5\\\"]::before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"6\\\"]::before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-item::before,.ql-snow .ql-picker.ql-font .ql-picker-label::before{content:'Sans Serif'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before{content:'Serif'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before{content:'Monospace'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-item::before,.ql-snow .ql-picker.ql-size .ql-picker-label::before{content:'Normal'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before{content:'Small'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before{content:'Large'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before{content:'Huge'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:rgba(0,0,0,.2) 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label{border-color:#ccc}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip::before{content:\\\"Visit URL:\\\";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action::after{border-right:1px solid #ccc;content:'Edit';margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove::before{content:'Remove';margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action::after{border-right:0;content:'Save';padding-right:0}.ql-snow .ql-tooltip[data-mode=link]::before{content:\\\"Enter link:\\\"}.ql-snow .ql-tooltip[data-mode=formula]::before{content:\\\"Enter formula:\\\"}.ql-snow .ql-tooltip[data-mode=video]::before{content:\\\"Enter video:\\\"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}\\n                \"));\n  };\n\n  return FormHtmlEditor;\n}(Component);\n\nvar _this$3 = undefined;\n\nvar NewMessageForm$1 = function NewMessageForm() {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      activeChat = _useContext.activeChat,\n      messages = _useContext.messages,\n      setMessages = _useContext.setMessages;\n\n  var _useState = useState(0),\n      iter = _useState[0],\n      setIter = _useState[1];\n\n  var _useState2 = useState(''),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var _useState3 = useState(0),\n      trigger = _useState3[0],\n      setTrigger = _useState3[1];\n\n  var _useState4 = useState([]),\n      attachments = _useState4[0],\n      setAttachments = _useState4[1];\n\n  function _onRemove(index) {\n    var newAttachments = attachments;\n    newAttachments.splice(index, 1);\n    setAttachments(newAttachments);\n    setIter(iter + 1);\n  }\n\n  function handleChange(value) {\n    setValue(value);\n    setTrigger((trigger + 1) % 4);\n\n    if (trigger === 1) {\n      conn && isTyping$1(conn, activeChat);\n    }\n  }\n\n  function handleSubmit() {\n    if (!conn) return;\n    var text = value.trim();\n\n    if (text.length > 11 && text.slice(-11) === '<p><br></p>') {\n      text = text.substr(0, text.length - 11);\n    }\n\n    var custom_json = {\n      sender_id: Date.now().toString()\n    };\n    var sender_username = conn.userName ? conn.userName : conn.senderUsername;\n    var created = new Date().toISOString().replace('T', ' ').replace('Z', Math.floor(Math.random() * 1000) + \"+00:00\");\n    var data = {\n      text: text,\n      attachments: attachments,\n      custom_json: custom_json,\n      sender_username: sender_username,\n      chat: activeChat,\n      created: created\n    };\n\n    if (text.length > 0 || attachments.length > 0) {\n      sendMessage$1(conn, activeChat, data, function () {});\n    }\n\n    setValue('');\n    setAttachments([]);\n\n    var newMessages = _extends({}, messages);\n\n    newMessages[data.created] = data;\n    setMessages(newMessages);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"msg-form-container\",\n    style: styles$j.NewMessageFormContainer,\n    className: \"ce-message-form-container\"\n  }, /*#__PURE__*/React.createElement(ImagesRow, {\n    files: attachments,\n    onRemove: function onRemove(i) {\n      return _onRemove(i);\n    }\n  }), /*#__PURE__*/React.createElement(FilesRow, {\n    files: attachments,\n    onRemove: function onRemove(i) {\n      return _onRemove(i);\n    }\n  }), /*#__PURE__*/React.createElement(FormHtmlEditor, {\n    theme: \"snow\",\n    value: value,\n    onChange: handleChange.bind(_this$3),\n    onSubmit: handleSubmit.bind(_this$3),\n    onAttach: setAttachments.bind(_this$3)\n  }));\n};\n\nvar styles$j = {\n  NewMessageFormContainer: {\n    position: 'absolute',\n    bottom: '0px',\n    width: '100%',\n    backgroundColor: 'white'\n  }\n};\n\nvar ScrollDownBar = function ScrollDownBar(props) {\n  var didMountRef = useRef(false);\n\n  var _useState = useState(false),\n      isVisible = _useState[0],\n      setIsVisible = _useState[1];\n\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      isBottomVisible = _useContext.isBottomVisible;\n\n  var chat = props.chat;\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      setTimeout(function () {\n        return setIsVisible(true);\n      }, props.renderDelay ? props.renderDelay : 0);\n    }\n  });\n  if (conn === null || !chat || chat === null) return /*#__PURE__*/React.createElement(\"div\", null);\n  var lastReadMessage = undefined;\n  chat.people.map(function (person) {\n    if (person.person.username === conn.userName) {\n      lastReadMessage = person.last_read;\n    }\n  });\n\n  if (!isVisible || isBottomVisible || chat.last_message.id === undefined || chat.last_message.id === lastReadMessage) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      zIndex: '1',\n      bottom: '94px',\n      left: 'calc(50% - 78px)',\n      position: 'absolute',\n      fontSize: '15px',\n      padding: '10px 22px',\n      color: 'white',\n      backgroundColor: '#389e0d',\n      borderRadius: '1.3em',\n      cursor: 'pointer'\n    },\n    id: \"ce-scroll-down-bar\",\n    onClick: function onClick() {\n      return animateScroll.scrollToBottom({\n        duration: 333,\n        containerId: \"ce-feed-container\"\n      });\n    }\n  }, /*#__PURE__*/React.createElement(CaretDownOutlined, null), conn.userName ? ' Unread Messages' : ' Scroll to Bottom');\n};\n\nvar initial = 45;\nvar count = initial;\nvar interval$1 = 33;\n\nvar ChatFeed = function ChatFeed(props) {\n  var _useState = useState(false),\n      hasFetchedMessages = _useState[0],\n      setHasFetchedMessages = _useState[1];\n\n  var _useState2 = useState(null),\n      currentChat = _useState2[0],\n      setCurrentChat = _useState2[1];\n\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      setChats = _useContext.setChats,\n      messages = _useContext.messages,\n      setMessages = _useContext.setMessages,\n      activeChat = _useContext.activeChat,\n      setActiveChat = _useContext.setActiveChat,\n      loadMoreMessages = _useContext.loadMoreMessages,\n      setLoadMoreMessages = _useContext.setLoadMoreMessages,\n      isBottomVisible = _useContext.isBottomVisible,\n      typingCounter = _useContext.typingCounter;\n\n  var typers = typingCounter && typingCounter[activeChat] ? typingCounter[activeChat] : [];\n  var chat = chats && chats[currentChat];\n\n  var needsIceBreaker = hasFetchedMessages && _$1.isEmpty(messages);\n\n  function onReadMessage(chat) {\n    if (chats) {\n      var newChats = _extends({}, chats);\n\n      newChats[chat.id] = chat;\n      setChats(newChats);\n    }\n  }\n\n  function onGetMessages(chatId, messages, scrollDownTo) {\n    setHasFetchedMessages(true);\n    setMessages(_$1.mapKeys(messages, 'created'));\n\n    if (messages.length > 0) {\n      var message = messages[messages.length - 1];\n\n      if (props.userName && props.userName !== message.sender_username) {\n        readMessage$1(conn, chatId, message.id, function (chat) {\n          return onReadMessage(chat);\n        });\n      }\n    }\n\n    if (scrollDownTo) {\n      animateScroll.scrollToBottom({\n        duration: 0,\n        containerId: scrollDownTo\n      });\n    }\n\n    props.onGetMessages && props.onGetMessages(chatId, messages);\n  }\n\n  function loadMessages(loadMoreMessages) {\n    if (loadMoreMessages) {\n      count = count + interval$1;\n      setLoadMoreMessages(false);\n      getLatestMessages$1(conn, activeChat, count, function (chatId, messages) {\n        return onGetMessages(chatId, messages, false);\n      });\n    } else if (conn && !props.activeChat && activeChat !== null && activeChat !== currentChat) {\n      count = initial;\n      setCurrentChat(activeChat);\n      getLatestMessages$1(conn, activeChat, count, function (chatId, messages) {\n        return onGetMessages(chatId, messages, 'ce-feed-container');\n      });\n    } else if (conn && props.activeChat && props.activeChat !== currentChat) {\n      count = initial;\n      setActiveChat(props.activeChat);\n      setCurrentChat(props.activeChat);\n      getLatestMessages$1(conn, props.activeChat, count, function (chatId, messages) {\n        return onGetMessages(chatId, messages, 'ce-feed-container');\n      });\n    }\n  }\n\n  useEffect(function () {\n    loadMessages(false);\n  }, [conn, activeChat, currentChat]);\n  useEffect(function () {\n    loadMessages(loadMoreMessages);\n  }, [loadMoreMessages]);\n\n  function getMyLastMessage(userName, chat) {\n    var lastReadMessage = undefined;\n    chat.people.map(function (person) {\n      if (person.person.username === userName) {\n        lastReadMessage = person.last_read;\n      }\n    });\n    return lastReadMessage;\n  }\n\n  useEffect(function () {\n    if (isBottomVisible && !_$1.isEmpty(messages)) {\n      setTimeout(function () {\n        animateScroll.scrollToBottom({\n          duration: 333,\n          containerId: 'ce-feed-container'\n        });\n      }, 100);\n\n      if (getMyLastMessage(conn.userName, chat) && getMyLastMessage(conn.userName, chat) !== chat.last_message.id) {\n        readMessage$1(conn, currentChat, chat.last_message.id, function (chat) {\n          return onReadMessage(chat);\n        });\n      }\n    }\n  }, [messages, isBottomVisible]);\n\n  if (conn === undefined) {\n    return /*#__PURE__*/React.createElement(AuthFail, props);\n  } else if (conn && chats !== null && _$1.isEmpty(chats)) {\n    return /*#__PURE__*/React.createElement(CreateChat, null);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-feed\",\n    style: {\n      height: '100%',\n      maxHeight: '100vh',\n      backgroundColor: '#f0f0f0'\n    }\n  }, props.renderChatHeader ? props.renderChatHeader(chat) : /*#__PURE__*/React.createElement(ChatHeader, null), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-feed-container\",\n    style: styles$k.feedContainer,\n    className: \"ce-chat-feed-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '88px'\n    },\n    className: \"ce-feed-container-top\"\n  }), Object.keys(messages).length > 0 && /*#__PURE__*/React.createElement(RenderTrigger, {\n    onEnter: function onEnter() {\n      return setLoadMoreMessages(true);\n    }\n  }), needsIceBreaker && props.renderIceBreaker && props.renderIceBreaker(chat), needsIceBreaker && !props.renderIceBreaker && /*#__PURE__*/React.createElement(IceBreaker, null), /*#__PURE__*/React.createElement(Messages, props), props.renderIsTyping ? props.renderIsTyping(typers) : /*#__PURE__*/React.createElement(IsTyping, null), props.renderScrollDownBar ? props.renderScrollDownBar(chat) : /*#__PURE__*/React.createElement(ScrollDownBar, {\n    chat: chat,\n    renderDelay: 3000\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '86px'\n    },\n    className: \"ce-feed-container-bottom\"\n  })), props.renderNewMessageForm ? props.renderNewMessageForm(props, currentChat) : /*#__PURE__*/React.createElement(NewMessageForm$1, null));\n};\n\nvar styles$k = {\n  feedContainer: {\n    width: '100%',\n    height: '100%',\n    maxHeight: '100vh',\n    overflowX: 'hidden',\n    overflowY: 'scroll',\n    backgroundColor: 'white'\n  }\n};\nsetConfiguration({\n  maxScreenClass: 'xl',\n  gutterWidth: 0\n});\n\nvar ChatEngine = function ChatEngine(props) {\n  var context = useContext(ChatEngineContext);\n  var height = props.height;\n\n  var propsAndContext = _extends({}, props, context);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-engine\",\n    style: {\n      textAlign: 'left',\n      backgroundColor: 'white'\n    }\n  }, /*#__PURE__*/React.createElement(Socket$1, props), /*#__PURE__*/React.createElement(Row, {\n    className: \"ce-wrapper\"\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 0,\n    sm: 3,\n    style: {\n      height: height ? height : ''\n    },\n    className: \"ce-chat-list-column\"\n  }, props.renderChatList ? props.renderChatList(propsAndContext) : /*#__PURE__*/React.createElement(ChatList, _extends({}, propsAndContext, {\n    onChatClick: function onChatClick(chatID) {\n      if (props.renderChatFeed) {\n        getLatestMessages$1(props, chatID, 45, function (id, list) {\n          context.setMessages(_extends({}, _$1.mapKeys(list, 'created')));\n        });\n      }\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    sm: 6,\n    style: {\n      height: height ? height : ''\n    },\n    className: \"ce-chat-feed-column\"\n  }, props.renderChatFeed ? props.renderChatFeed(propsAndContext) : /*#__PURE__*/React.createElement(ChatFeed, propsAndContext)), /*#__PURE__*/React.createElement(Col, {\n    xs: 0,\n    sm: 3,\n    style: {\n      height: height ? height : ''\n    },\n    className: \"ce-settings-column\"\n  }, props.renderChatSettings ? props.renderChatSettings(props) : /*#__PURE__*/React.createElement(ChatSettings, props))));\n};\n\nvar ChatEngineApp = function ChatEngineApp(props) {\n  if (useContext(ChatEngineContext)) {\n    return /*#__PURE__*/React.createElement(ChatEngine, props);\n  } else {\n    return /*#__PURE__*/React.createElement(ChatEngineWrapper, null, /*#__PURE__*/React.createElement(ChatEngine, props));\n  }\n};\n\nvar _dangerButton;\n\nvar Button = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Button, _Component);\n\n  function Button() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      hovered: false\n    };\n    return _this;\n  }\n\n  var _proto = Button.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        value = _this$props.value,\n        icon = _this$props.icon,\n        theme = _this$props.theme,\n        style = _this$props.style,\n        id = _this$props.id,\n        type = _this$props.type,\n        _onClick = _this$props.onClick;\n    var customStyle = style ? style : {};\n    var hoverStyle = this.state.hovered ? styles$l.hoverButton : {};\n    var themeStyle = theme === 'danger' ? styles$l.dangerButton : styles$l.button;\n    return /*#__PURE__*/React.createElement(\"button\", {\n      id: id,\n      type: type,\n      onClick: function onClick() {\n        return _onClick && _onClick();\n      },\n      onMouseEnter: function onMouseEnter() {\n        return _this2.setState({\n          hovered: true\n        });\n      },\n      onMouseLeave: function onMouseLeave() {\n        return _this2.setState({\n          hovered: false\n        });\n      },\n      style: _extends({}, themeStyle, customStyle, hoverStyle),\n      className: \"ce-primary-button \" + (theme === 'danger' ? 'ce-danger-button' : '')\n    }, icon === 'plus' && /*#__PURE__*/React.createElement(PlusOutlined, null), icon === 'delete' && /*#__PURE__*/React.createElement(DeleteOutlined, null), icon === 'user-add' && /*#__PURE__*/React.createElement(UserAddOutlined, null), value && icon ? \" \" + value : value);\n  };\n\n  return Button;\n}(Component);\n\nvar styles$l = {\n  button: {\n    color: 'white',\n    border: 'none',\n    outline: 'none',\n    height: '36px',\n    fontSize: '15px',\n    cursor: 'pointer',\n    padding: '8px 16px',\n    borderRadius: '33px',\n    backgroundColor: '#1890ff'\n  },\n  dangerButton: (_dangerButton = {\n    color: 'red',\n    border: 'none',\n    outline: 'none',\n    height: '36px',\n    fontSize: '15px',\n    cursor: 'pointer',\n    padding: '8px 16px',\n    borderRadius: '33px',\n    backgroundColor: 'white'\n  }, _dangerButton[\"border\"] = '1px solid red', _dangerButton),\n  hoverButton: {\n    opacity: '0.66'\n  }\n};\nButton.propTypes = {\n  value: propTypes.string,\n  onClick: propTypes.func,\n  style: propTypes.object,\n  id: propTypes.string,\n  icon: propTypes.oneOf([undefined, 'plus', 'delete', 'user-add']),\n  theme: propTypes.oneOf([undefined, 'danger']),\n  type: propTypes.oneOf([undefined, 'submit'])\n};\n\nvar Avatar = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Avatar, _Component);\n\n  function Avatar() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      avatar: ''\n    };\n    return _this;\n  }\n\n  var _proto = Avatar.prototype;\n\n  _proto.updateImg = function updateImg() {\n    var avatar = this.props.avatar;\n    avatar = avatar && avatar !== null ? avatar : '';\n\n    if (avatar.split('?')[0] !== this.state.avatar.split('?')[0]) {\n      this.setState({\n        avatar: avatar\n      });\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateImg();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.updateImg();\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        username = _this$props.username,\n        is_online = _this$props.is_online;\n    var customStyle = this.props.style ? this.props.style : {};\n    var text = username ? username.substring(0, 2).toUpperCase() : '';\n    var color = stringToColor(username);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '48px',\n        height: '48px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '0px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-avatar\",\n      style: _extends({}, styles$m.avatar, customStyle, {\n        backgroundColor: this.state.avatar ? 'white' : color,\n        backgroundImage: this.state.avatar && \"url(\" + this.state.avatar + \")\",\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        backgroundSize: '48px'\n      })\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-avatar-text\",\n      style: styles$m.avatarText\n    }, !this.state.avatar && text))), this.props.show_online !== false && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-avatar-status\",\n      style: _extends({}, styles$m.status, {\n        backgroundColor: is_online ? '#52c41a' : '#f5222d'\n      })\n    }));\n  };\n\n  return Avatar;\n}(Component);\n\nvar styles$m = {\n  avatar: {\n    width: '44px',\n    height: '44px',\n    borderRadius: '22px',\n    color: 'white',\n    textAlign: 'center'\n  },\n  avatarText: {\n    color: 'white',\n    paddingTop: '12px',\n    fontSize: '15px',\n    fontWeight: '600'\n  },\n  status: {\n    width: '8px',\n    height: '8px',\n    borderRadius: '100%',\n    border: '2px solid white'\n  }\n};\nAvatar.propTypes = {\n  avatar: propTypes.string,\n  username: propTypes.string,\n  style: propTypes.object,\n  is_online: propTypes.bool,\n  show_online: propTypes.bool\n};\n\nvar TextInput = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TextInput, _Component);\n\n  function TextInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      focused: false,\n      value: null\n    };\n    return _this;\n  }\n\n  var _proto = TextInput.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var value = this.props[\"default\"];\n\n    if (value) {\n      var event = {\n        target: {\n          value: value\n        }\n      };\n      this.props.handleChange(event);\n      this.setState({\n        value: value\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var customStyle = this.props.style ? this.props.style : {};\n    var defaultStyle = this.state.focused ? styles$n.focusInput : styles$n.input;\n    return /*#__PURE__*/React.createElement(\"input\", {\n      id: this.props.id,\n      autoFocus: this.props.autoFocus,\n      className: \"ce-input ce-text-input\",\n      value: this.props.value,\n      placeholder: this.props.label,\n      style: _extends({}, defaultStyle, customStyle),\n      onBlur: function onBlur() {\n        _this2.setState({\n          focused: false\n        });\n\n        _this2.props.onBlur && _this2.props.onBlur();\n      },\n      onFocus: function onFocus() {\n        _this2.setState({\n          focused: true\n        });\n\n        _this2.props.onFocus && _this2.props.onFocus();\n      },\n      type: this.props.type ? this.props.type : \"text\",\n      onChange: function onChange(e) {\n        return _this2.props.handleChange && _this2.props.handleChange(e);\n      }\n    });\n  };\n\n  return TextInput;\n}(Component);\n\nvar styles$n = {\n  input: {\n    height: '36px',\n    fontSize: '15px',\n    outline: 'none',\n    borderRadius: '24px',\n    border: '1px solid #d9d9d9',\n    padding: '0px 12px',\n    boxSizing: 'border-box'\n  },\n  focusInput: {\n    height: '36px',\n    fontSize: '15px',\n    outline: 'none',\n    borderRadius: '24px',\n    border: '1px solid #1890ff',\n    padding: '0px 12px',\n    boxSizing: 'border-box'\n  }\n};\nTextInput.propTypes = {\n  \"default\": propTypes.string,\n  value: propTypes.string,\n  label: propTypes.string,\n  type: propTypes.oneOf(['text', 'password', 'number']),\n  autoFocus: propTypes.bool,\n  id: propTypes.string,\n  style: propTypes.object,\n  handleChange: propTypes.func,\n  onFocus: propTypes.func,\n  onBlur: propTypes.func\n};\n\nvar AutoCompleteInput = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(AutoCompleteInput, _Component);\n\n  function AutoCompleteInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      focused: false,\n      showAll: false\n    };\n    return _this;\n  }\n\n  var _proto = AutoCompleteInput.prototype;\n\n  _proto.onFocus = function onFocus() {\n    this.onChange('', true);\n    this.setState({\n      focused: true\n    });\n    this.props.onFocus && this.props.onFocus();\n  };\n\n  _proto.onBlur = function onBlur() {\n    this.setState({\n      focused: false\n    });\n    this.props.onBlur && this.props.onBlur();\n  };\n\n  _proto.onChange = function onChange(value, showAll) {\n    this.setState({\n      showAll: showAll\n    });\n    this.props.handleChange && this.props.handleChange(value);\n  };\n\n  _proto.getNames = function getNames() {\n    var _this2 = this;\n\n    var count = 0;\n    var max = this.props.max ? this.props.max : 3;\n    var results = [];\n    this.props.options.map(function (option) {\n      if (JSON.stringify(option).toLowerCase().indexOf(_this2.props.value.toLowerCase()) !== -1 && count < max) {\n        count = count + 1;\n        results.push(option);\n      }\n    });\n    return results;\n  };\n\n  _proto.renderOptions = function renderOptions() {\n    var _this3 = this;\n\n    if (!this.props.value && !this.state.showAll) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n\n    var results = this.getNames();\n    return results.map(function (option, index) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"option_\" + index,\n        className: \"ce-autocomplete-option\"\n      }, _this3.props.renderOption && _this3.props.renderOption(option), index === results.length - 1 && /*#__PURE__*/React.createElement(\"div\", {\n        style: styles$o.close,\n        className: \"ce-autocomplete-close\",\n        onClick: function onClick() {\n          return _this3.onChange('', false);\n        }\n      }, /*#__PURE__*/React.createElement(CloseOutlined, null)));\n    });\n  };\n\n  _proto.render = function render() {\n    var _this4 = this;\n\n    var options = this.props.options;\n    var customStyle = this.props.style ? this.props.style : {};\n\n    var defaultStyle = _extends({}, styles$o.input, {\n      border: this.state.focused ? '1px solid #1890ff' : '1px solid #d9d9d9'\n    });\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"ce-add-username-input\",\n      className: \"ce-input ce-autocomplete-input\",\n      value: this.props.value,\n      placeholder: this.props.label,\n      style: _extends({}, defaultStyle, customStyle),\n      type: this.props.type ? this.props.type : \"text\",\n      onBlur: function onBlur() {\n        return _this4.onBlur();\n      },\n      onFocus: function onFocus() {\n        return _this4.onFocus();\n      },\n      onChange: function onChange(e) {\n        return _this4.onChange(e.target.value, true);\n      }\n    }), options && options.length > 0 && this.state.showAll && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-autocomplete-options\",\n      style: {\n        borderRadius: '19px',\n        border: '1px solid #afafaf',\n        overflow: 'hidden'\n      }\n    }, this.props.options && this.renderOptions()));\n  };\n\n  return AutoCompleteInput;\n}(Component);\n\nvar styles$o = {\n  input: {\n    height: '36px',\n    fontSize: '15px',\n    outline: 'none',\n    borderRadius: '24px',\n    padding: '0px 12px',\n    boxSizing: 'border-box',\n    fontFamily: 'Avenir'\n  },\n  close: {\n    cursor: 'pointer',\n    textAlign: 'center',\n    padding: '8px 12px',\n    fontSize: '15px',\n    borderRadius: '24px'\n  }\n};\nAutoCompleteInput.propTypes = {\n  \"default\": propTypes.string,\n  value: propTypes.string,\n  options: propTypes.arrayOf(propTypes.object),\n  max: propTypes.number,\n  label: propTypes.string,\n  type: propTypes.oneOf(['text', 'number']),\n  style: propTypes.object,\n  handleChange: propTypes.func,\n  onFocus: propTypes.func,\n  onBlur: propTypes.func\n};\n\nfunction getChats(props, callback) {\n  axios.get(getApiUrl(props) + \"/chats/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    props.onGetChats && props.onGetChats(response.data);\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Chats Error', error);\n  });\n}\n\nfunction newChat(props, data, callback) {\n  axios.post(getApiUrl(props) + \"/chats/\", data, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('New Chat Error', error);\n  });\n}\n\nfunction getLatestChats(props, count, callback) {\n  axios.get(getApiUrl(props) + \"/chats/latest/\" + count + \"/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    props.onGetChats && props.onGetChats(response.data);\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Chats Error', error);\n  });\n}\n\nfunction getChatsBefore(props, before, count, callback) {\n  axios.put(getApiUrl(props) + \"/chats/latest/\" + count + \"/\", {\n    before: before\n  }, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    props.onGetChats && props.onGetChats(response.data);\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Chats Before Error', error);\n  });\n}\n\nfunction getOrCreateChat(props, data, callback) {\n  axios.put(getApiUrl(props) + \"/chats/\", data, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Get or Create Chat Error', error);\n  });\n}\n\nfunction getChat(props, chatId, callback) {\n  axios.get(getApiUrl(props) + \"/chats/\" + chatId + \"/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Get Chat Error', error);\n  });\n}\n\nfunction editChat(props, chatId, data, callback) {\n  axios.patch(getApiUrl(props) + \"/chats/\" + chatId + \"/\", data, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Edit Chat Error', error);\n  });\n}\n\nfunction deleteChat(props, chatId, callback) {\n  axios[\"delete\"](getApiUrl(props) + \"/chats/\" + chatId + \"/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Chat Error', error);\n  });\n}\n\nfunction addPerson(props, chatId, userName, callback) {\n  axios.post(getApiUrl(props) + \"/chats/\" + chatId + \"/people/\", {\n    username: userName\n  }, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('New Person Error', error);\n  });\n}\n\nfunction removePerson(props, chatId, userName, callback) {\n  axios.put(getApiUrl(props) + \"/chats/\" + chatId + \"/people/\", {\n    username: userName\n  }, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Person Error', error);\n  });\n}\n\nfunction getOtherPeople(props, chatId, successCallback, errorCallback) {\n  axios.get(getApiUrl(props) + \"/chats/\" + chatId + \"/others/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    props.onGetOtherPeople && props.onGetOtherPeople(chatId, response.data);\n    successCallback && successCallback(chatId, response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Other People Error', error);\n    errorCallback && errorCallback();\n  });\n}\n\nfunction getMyData(props, callback) {\n  axios.get(getApiUrl(props) + \"/users/me/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Get Myself Error', error);\n  });\n}\n\nfunction editMyData(props, data, callback) {\n  axios.patch(getApiUrl(props) + \"/chats/me/\", data, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Edit Myself Error', error);\n  });\n}\n\nfunction leaveChat(props, chatId, callback) {\n  axios[\"delete\"](getApiUrl(props) + \"/chats/\" + chatId + \"/people/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Person Error', error);\n  });\n}\n\nfunction getMessages(props, chatId, callback) {\n  axios.get(getApiUrl(props) + \"/chats/\" + chatId + \"/messages/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    props.onGetMessages && props.onGetMessages(chatId, response.data);\n    callback && callback(chatId, response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Messages Error', error);\n  });\n}\n\nfunction getLatestMessages(props, chatId, count, callback) {\n  if (!getHeaders(props)) return;\n  axios.get(getApiUrl(props) + \"/chats/\" + chatId + \"/messages/latest/\" + count + \"/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    props.onGetMessages && props.onGetMessages(chatId, response.data);\n    callback && callback(chatId, response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Latest Messages Error', error);\n  });\n}\n\nfunction sendMessage(props, chatId, data, callback) {\n  var formdata = new FormData();\n\n  if (data.attachments) {\n    for (var i = 0; i < data.attachments.length; i++) {\n      formdata.append('attachments', data.attachments[i], data.attachments[i].name);\n    }\n  } else if (data.files) {\n    for (var _i = 0; _i < data.files.length; _i++) {\n      formdata.append('attachments', data.files[_i], data.files[_i].name);\n    }\n  }\n\n  if (data.created) {\n    formdata.append('created', data.created);\n  }\n\n  formdata.append('text', data.text);\n  formdata.append('sender_username', data.sender_username);\n  formdata.append('custom_json', JSON.stringify(data.custom_json ? data.custom_json : {}));\n  axios.post(getApiUrl(props) + \"/chats/\" + chatId + \"/messages/\", formdata, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Send Messages Error', error);\n  });\n}\n\nfunction getMessage(props, chatId, messageId, callback) {\n  axios.get(getApiUrl(props) + \"/chats/\" + chatId + \"/messages/\" + messageId + \"/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(chatId, response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Message Error', error);\n  });\n}\n\nfunction editMessage(props, chatId, messageId, data, callback) {\n  axios.patch(getApiUrl(props) + \"/chats/\" + chatId + \"/messages/\" + messageId + \"/\", data, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Messages Error', error);\n  });\n}\n\nfunction readMessage(props, chatId, messageId, callback) {\n  axios.patch(getApiUrl(props) + \"/chats/\" + chatId + \"/people/\", {\n    last_read: messageId\n  }, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Read Message Error', error);\n  });\n}\n\nfunction deleteMessage(props, chatId, messageId, callback) {\n  axios[\"delete\"](getApiUrl(props) + \"/chats/\" + chatId + \"/messages/\" + messageId + \"/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Messages Error', error);\n  });\n}\n\nfunction isTyping(props, chatId, callback) {\n  axios.post(getApiUrl(props) + \"/chats/\" + chatId + \"/typing/\", {}, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {});\n}\n\nvar ImagesInput = function ImagesInput(props) {\n  var _React$createElement;\n\n  var _useState = useState({\n    hovered: false\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  function onSelect(event) {\n    var files = Array.from(event.target.files);\n    props.onSelectFiles && props.onSelectFiles(files);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", (_React$createElement = {\n    className: \"uploader\",\n    encType: \"multipart/form-data\",\n    style: {\n      height: '0px'\n    }\n  }, _React$createElement[\"className\"] = \"ce-upload-document-form\", _React$createElement), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"files\",\n    id: \"ce-upload-document-button\"\n  }, /*#__PURE__*/React.createElement(PaperClipOutlined, {\n    id: \"ce-upload-document-icon\",\n    onMouseEnter: function onMouseEnter() {\n      return setState(_extends({}, state, {\n        hovered: true\n      }));\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setState(_extends({}, state, {\n        hovered: false\n      }));\n    },\n    style: _extends({}, {\n      cursor: 'pointer',\n      position: 'absolute',\n      bottom: '20px',\n      right: '63px',\n      fontSize: '18px'\n    }, {\n      color: state.hovered ? '#69c0ff' : '#1890ff'\n    })\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"files\",\n    accept: \"image/x-png,image/gif,image/jpeg\",\n    style: {\n      visibility: \"hidden\"\n    },\n    type: \"file\",\n    onChange: function onChange(e) {\n      return onSelect(e);\n    },\n    onClick: function onClick(e) {\n      return e.target.value = null;\n    }\n  }));\n};\n\nvar MessageInput = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(MessageInput, _Component);\n\n  function MessageInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      value: null,\n      height: 0\n    };\n    return _this;\n  }\n\n  var _proto = MessageInput.prototype;\n\n  _proto.resize = function resize() {\n    var textarea = document.getElementById(\"msg-textarea\");\n    textarea.style.height = \"\";\n    textarea.style.height = Math.min(textarea.scrollHeight, 150) + \"px\";\n    this.setState({\n      height: Math.min(textarea.scrollHeight, 150)\n    });\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.resize();\n  };\n\n  _proto.handleChange = function handleChange(e) {\n    this.resize();\n    this.props.handleChange && this.props.handleChange(e);\n  };\n\n  _proto.onKeyDown = function onKeyDown(e) {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n\n      if (this.props.value.length > 0) {\n        this.props.onSubmit && this.props.onSubmit(e);\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return /*#__PURE__*/React.createElement(\"input\", {\n      id: \"msg-textarea\",\n      className: \"ce-input ce-textarea-input\",\n      style: styles$p.input,\n      value: this.props.value,\n      placeholder: this.props.label,\n      onChange: function onChange(e) {\n        return _this2.handleChange(e);\n      },\n      onKeyDown: function onKeyDown(e) {\n        return _this2.onKeyDown(e);\n      }\n    });\n  };\n\n  return MessageInput;\n}(Component);\n\nvar styles$p = {\n  input: {\n    border: '1px solid white',\n    width: 'calc(100% - 100px)',\n    outline: 'none',\n    fontSize: '15px',\n    fontFamily: 'Avenir',\n    paddingLeft: '12px',\n    paddingRight: '12px',\n    position: 'relative',\n    left: '12px',\n    resize: 'none',\n    overflowX: 'hidden'\n  }\n};\nvar _this$4 = undefined;\n\nvar MessageFormSocial = function MessageFormSocial() {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      activeChat = _useContext.activeChat,\n      messages = _useContext.messages,\n      setMessages = _useContext.setMessages;\n\n  var _useState = useState(0),\n      iter = _useState[0],\n      setIter = _useState[1];\n\n  var _useState2 = useState(''),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var _useState3 = useState(0),\n      trigger = _useState3[0],\n      setTrigger = _useState3[1];\n\n  var _useState4 = useState([]),\n      attachments = _useState4[0],\n      setAttachments = _useState4[1];\n\n  if (!conn || conn === null) return /*#__PURE__*/React.createElement(\"div\", null);\n\n  function _onRemove(index) {\n    var newAttachments = attachments;\n    newAttachments.splice(index, 1);\n    setAttachments(newAttachments);\n    setIter(iter + 1);\n  }\n\n  function handleChange(e) {\n    setValue(e.target.value);\n    setTrigger((trigger + 1) % 4);\n\n    if (trigger === 1) {\n      conn && isTyping$1(conn, activeChat);\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!conn) return;\n    var text = value.trim();\n\n    if (text.length > 11 && text.slice(-11) === '<p><br></p>') {\n      text = text.substr(0, text.length - 11);\n    }\n\n    var custom_json = {\n      sender_id: Date.now().toString()\n    };\n    var sender_username = conn.userName ? conn.userName : conn.senderUsername;\n    var created = new Date().toISOString().replace('T', ' ').replace('Z', Math.floor(Math.random() * 1000) + \"+00:00\");\n    var data = {\n      text: text,\n      attachments: attachments,\n      custom_json: custom_json,\n      sender_username: sender_username,\n      chat: activeChat,\n      created: created\n    };\n\n    if (text.length > 0 || attachments.length > 0) {\n      sendMessage$1(conn, activeChat, data, function () {});\n    }\n\n    setValue('');\n    setAttachments([]);\n\n    var newMessages = _extends({}, messages);\n\n    newMessages[data.created] = data;\n    setMessages(newMessages);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-social-msg-form-container\",\n    style: styles$q.messageFormContainer,\n    className: \"ce-social-message-form-container\"\n  }, /*#__PURE__*/React.createElement(ImagesRow, {\n    files: attachments,\n    onRemove: function onRemove(i) {\n      return _onRemove(i);\n    }\n  }), /*#__PURE__*/React.createElement(FilesRow, {\n    files: attachments,\n    onRemove: function onRemove(i) {\n      return _onRemove(i);\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit.bind(_this$4),\n    className: \"ce-social-message-form\",\n    style: styles$q.messageForm\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    icon: \"send\",\n    type: \"submit\",\n    id: \"ce-send-message-button\",\n    style: styles$q.sendMessage\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"send-icon\",\n    style: styles$q.sendIcon,\n    src: \"https://chat-engine-assets.s3.amazonaws.com/send.png\",\n    alt: \"chat-engine-send-button\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$q.inputContainer,\n    className: \"ce-message-input-form\"\n  }, /*#__PURE__*/React.createElement(ImagesInput, {\n    onSelectFiles: function onSelectFiles(attachments) {\n      return setAttachments(attachments);\n    }\n  }), /*#__PURE__*/React.createElement(MessageInput, {\n    value: value,\n    label: \"Send a message...\",\n    handleChange: handleChange.bind(_this$4),\n    onSubmit: handleSubmit.bind(_this$4)\n  }))));\n};\n\nvar styles$q = {\n  messageFormContainer: {\n    position: 'absolute',\n    bottom: '0px',\n    width: '100%',\n    backgroundColor: 'white'\n  },\n  messageForm: {\n    paddingTop: \"22px\",\n    marginRight: \"10px\",\n    width: '100%'\n  },\n  inputContainer: {\n    minHeight: '36px',\n    paddingBottom: '16px',\n    width: '100%'\n  },\n  sendMessage: {\n    width: \"40px\",\n    height: \"40px\",\n    borderRadius: \"50%\",\n    borderWidth: \"0px\",\n    padding: \"0px\",\n    outline: \"none\",\n    color: \"white\",\n    backgroundColor: 'rgb(24, 144, 255)',\n    cursor: \"pointer\",\n    position: 'absolute',\n    bottom: '12px',\n    right: '10px',\n    zIndex: '10'\n  },\n  sendIcon: {\n    width: \"20px\",\n    transform: \"rotate(-20deg)\",\n    marginLeft: \"5px\"\n  }\n};\nexport { AutoCompleteInput, Avatar, Button, ChatCard$1 as ChatCard, ChatEngineApp as ChatEngine, ChatEngineContext, ChatEngineWrapper, ChatFeed, ChatHeader, ChatList, ChatSettings, ChatSettingsTop, ChatSocket, Dot, IceBreaker, IsTyping, Message$1 as MessageBubble, MessageFormSocial, NewChatForm, NewMessageForm$1 as NewMessageForm, OptionsSettings, PeopleSettings, PhotosSettings, ScrollDownBar, Socket$1 as Socket, TextInput, addPerson, deleteChat, deleteMessage, editChat, editMessage, editMyData, getChat, getChats, getChatsBefore, getLatestChats, getLatestMessages, getMessage, getMessages, getMyData, getOrCreateChat, getOtherPeople, isTyping, leaveChat, newChat, readMessage, removePerson, sendMessage };","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","useRef","Component","_$1","ChatEngineContext","ChatEngineContext$1","readMessage","readMessage$1","getLatestChats","getLatestChats$1","getLatestMessages","getLatestMessages$1","getChat","getChat$1","TextInput","TextInput$1","Button","Button$1","newChat","newChat$1","getChatsBefore","getChatsBefore$1","Avatar","Avatar$1","removePerson","removePerson$1","AutoCompleteInput","AutoCompleteInput$1","addPerson","addPerson$1","getOtherPeople","getOtherPeople$1","deleteChat","deleteChat$1","editChat","editChat$1","Dot","Dot$1","isTyping","isTyping$1","sendMessage","sendMessage$1","WebSocket","axios","LoadingOutlined","CloseOutlined","MenuOutlined","LeftOutlined","SettingOutlined","FileOutlined","CloseCircleTwoTone","PaperClipOutlined","ArrowUpOutlined","CaretDownOutlined","PlusOutlined","DeleteOutlined","UserAddOutlined","useSpring","animated","setConfiguration","Row","Col","animateScroll","ChatEngineWrapper","props","_useState","conn","setConn","_useState2","creds","setCreds","_useState3","sessionToken","setSessionToken","_useState4","chats","setChats","_useState5","messages","setMessages","_useState6","activeChat","setActiveChat","_useState7","typingCounter","setTypingCounter","_useState8","loadMoreMessages","setLoadMoreMessages","_useState9","isBottomVisible","setIsBottomVisible","value","createElement","Provider","children","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_inheritsLoose","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","getDateTime","date","offset","replace","year","substr","month","day","hour","minute","second","d","Date","setHours","getHours","options","weekday","formatTime","dateTime","time","toLocaleString","split","slice","formatDate","formatDateTime","_this","undefined","socketRef","pingIntervalID","timeIntervalID","minLag","initialLoadTime","now","Socket","handleEvent","event","eventJSON","JSON","parse","console","log","action","setShouldPongBy","sessionKey","projectID","userName","userSecret","localStorage","removeItem","onFailAuth","chat","data","newChats","id","onNewChat","handleEditChat","_chat","_","isEmpty","sortedChats","sortChats","parseInt","onDeleteChat","onAddPerson","onRemovePerson","_eventJSON$data","message","newMessages","created","sender_username","onNewMessage","_eventJSON$data2","_id","_message","onEditMessage","_eventJSON$data3","_id2","_message2","onDeleteMessage","_extends2","_extends3","_eventJSON$data4","_id3","person","newTypingCounter","onTyping","Promise","resolve","e","reject","_useContext","clearInterval","values","sort","a","b","aDate","last_message","bDate","onConnect","renderChatFeed","renderChatList","mapKeys","list","onEditChat","development","wsStart","rootHost","url","reconnect","reconnectIntervalInMilliSeconds","childRef","ref","onOpen","onError","onMessage","bind","onClose","getApiUrl","getHeaders","chatID","publicKey","chatAccessKey","userPassword","getOrCreateSession","callback","errorFunc","get","headers","then","response","error","Socket$1","didMountRef","isHidden","setIsHidden","current","getSession","getItem","token","setItem","status","setTimeout","_reRender","reRender","_this$1","socketRef$1","pingIntervalID$1","timeIntervalID$1","minLag$1","SocketChild","shouldPongBy","onGetChat","project","ChatSocket","hide","setHide","ChatLoader","useOnScreen","isIntersecting","setIntersecting","observer","IntersectionObserver","_ref","entry","onVisible","observe","disconnect","isVisible","style","textAlign","backgroundColor","margin","borderRadius","fontSize","padding","_this$2","NewChatForm","setValue","selected","setSelected","_handleChange","handleSubmit","preventDefault","trim","title","height","styles","closeIcon","onClick","className","newChatContainer","marginLeft","onSubmit","autoFocus","label","onBlur","width","handleChange","fontWeight","position","top","icon","left","ChatCard","styles$1","chatContainer","titleText","animation","loadingBar","marginBottom","messageText","marginTop","paddingBottom","cursor","whiteSpace","overflow","color","display","useBoop","_ref$x","x","_ref$y","y","_ref$rotation","rotation","_ref$scale","scale","_ref$timing","timing","_ref$springConfig","springConfig","tension","friction","_ref$width","_React$useState","isBooped","setIsBooped","backfaceVisibility","transform","config","timeoutId","window","clearTimeout","trigger","useCallback","_excluded","Boop","_ref$triggers","triggers","boopConfig","_useBoop","isTriggerPresent","span","onMouseEnter","onMouseLeave","_require","require","htmlToText","ChatCard$1","loading","extraStyle","styles$2","otherPerson","people","find","username","is_direct_chat","lastMessage","text","attachments","didReadLastMessage","map","chat_person","last_read","daySinceSent","toString","overflowX","border","interval","ChatList","loadChats","setLoadChats","hasMoreChats","setHasMoreChats","chatList","onGetChats","before","oldChats","allChats","renderChats","index","renderChatCard","onChatClick","styles$3","chatListContainer","chatsContainer","renderNewChatForm","maxHeight","borderRight","fontFamily","AuthFail","paddingTop","marginRight","href","maxWidth","src","alt","CreateChat","IceBreaker","gifs","gif","RenderTrigger","onEnter","onLeave","ChatListDrawer","isOpen","setIsOpen","context","allProps","outline","styles$4","drawerContainer","zIndex","titleContainer","createCommonjsModule","fn","module","exports","Symbol","for","c","f","g","h","k","l","m","n","q","r","t","v","w","z","u","$$typeof","type","A","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","reactIs_production_min","reactIs_development","process","env","NODE_ENV","hasSymbol","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_ASYNC_MODE_TYPE","REACT_CONCURRENT_MODE_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_BLOCK_TYPE","REACT_FUNDAMENTAL_TYPE","REACT_RESPONDER_TYPE","REACT_SCOPE_TYPE","object","$$typeofType","hasWarnedAboutDeprecatedIsAsyncMode","reactIs","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","shouldUseNative","test1","String","getOwnPropertyNames","test2","fromCharCode","order2","join","test3","forEach","letter","err","objectAssign","from","to","symbols","s","ReactPropTypesSecret","ReactPropTypesSecret_1","printWarning","ReactPropTypesSecret$1","loggedTypeFailures","has","Function","Error","checkPropTypes","typeSpecs","location","componentName","getStack","typeSpecName","name","ex","stack","resetWarningCache","checkPropTypes_1","has$1","printWarning$1","emptyFunctionThatReturnsNull","factoryWithTypeCheckers","isValidElement","throwOnDirectAccess","ITERATOR_SYMBOL","iterator","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","iteratorFn","ANONYMOUS","ReactPropTypes","array","createPrimitiveTypeChecker","bool","func","number","string","symbol","any","createAnyTypeChecker","arrayOf","createArrayOfTypeChecker","element","createElementTypeChecker","elementType","createElementTypeTypeChecker","instanceOf","createInstanceTypeChecker","node","createNodeChecker","objectOf","createObjectOfTypeChecker","oneOf","createEnumTypeChecker","oneOfType","createUnionTypeChecker","shape","createShapeTypeChecker","exact","createStrictShapeTypeChecker","is","PropTypeError","createChainableTypeChecker","validate","manualPropTypeCallCache","manualPropTypeWarningCount","checkType","isRequired","propName","propFullName","secret","cacheKey","chainedCheckType","expectedType","propValue","propType","getPropType","preciseType","getPreciseType","typeChecker","Array","isArray","expectedClass","expectedClassName","actualClassName","getClassName","expectedValues","valuesString","stringify","replacer","arrayOfTypeCheckers","checker","getPostfixForTypeWarning","isNode","shapeTypes","allKeys","every","step","entries","next","done","isSymbol","RegExp","PropTypes","emptyFunction","emptyFunctionWithReset","factoryWithThrowingShims","shim","getShim","propTypes","ReactIs","PersonRow","renderPersonText","first_name","last_name","avatar","is_online","paddingLeft","admin","bottom","theme","PersonOption","focused","setFocused","_props$person","styles$5","option","PersonForm","others","state","setState","invitePerson","getOthers","_renderOption","onFocus","renderOption","SettingsBlock","collapsed","setCollapsed","hovered","setHovered","borderTop","transition","right","PeopleSettings","renderChatPeople","chatPerson","Thumbnail","attachment","styles$6","container","image","file","objectFit","PhotosSettings","renderPhotos","OptionsSettings","NewMessageForm","ChatSettingsTop","topPeople","getOtherPerson","renderOnePerson","show_online","renderTwoPeople","renderThreePeople","ChatSettings","styles$7","settingsContainer","renderChatSettingsTop","renderPeopleSettings","renderPhotosSettings","renderOptionsSettings","borderLeft","ChatSettingsDrawer","styles$8","renderChatSettings","maxScreenClass","gutterWidth","ChatHeader","styles$9","titleSection","xs","sm","mobileOptiom","subtitleText","DatePartition","lastCreated","getDate","lastDate","thisDate","styles$a","dateText","images","isImage","fileName","dotSplit","toLowerCase","getFileName","fileUrl","slashSplit","nameAndHash","_loadingContainer","_thumbnail","Thumbnail$1","styles$b","thumbnail","loadingContainer","open","minHeight","minWidth","paddingRight","FileView","styles$c","fileView","colors","stringToNumber","str","sum","charCodeAt","stringToColor","_Component","_len","args","_key","concat","_proto","updateImg","componentDidMount","componentDidUpdate","render","customStyle","styles$d","dot","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","visible","WebkitTransition","MozTransition","Body","replaceAll","myMessage","dangerouslySetInnerHTML","__html","Message","renderReads","renderImages","renderFiles","nextMessage","topRightRadius","bottomRightRadius","md","styles$e","timeTag","opacity","sending","overflowWrap","TheirMessage","topLeftRadius","bottomLeftRadius","styles$f","nameText","sender","theirMessage","Message$1","senderUsername","Messages","lastMessageKey","nextMessageKey","renderMessageBubble","IsTyping","currentTime","setCurrentTime","typers","setInterval","images$1","isImage$1","FilePreview","styles$g","filePreview","onRemove","FilesRow","files","lenth","Thumbnail$2","blob","setBlob","URL","createObjectURL","styles$h","imageSquare","ImagesRow","AttachmentsInput","onSelect","onSelectFiles","encType","htmlFor","styles$i","multiple","visibility","onChange","background","SendButton","hover","setHover","modules","toolbar","formats","FormHtmlEditor","document","quill","_this2","Quill","onKeyDown","keyCode","onAttach","_this$3","NewMessageForm$1","iter","setIter","setTrigger","setAttachments","_onRemove","newAttachments","splice","custom_json","sender_id","toISOString","Math","floor","random","styles$j","NewMessageFormContainer","ScrollDownBar","setIsVisible","renderDelay","lastReadMessage","scrollToBottom","duration","containerId","initial","count","interval$1","ChatFeed","hasFetchedMessages","setHasFetchedMessages","currentChat","setCurrentChat","needsIceBreaker","onReadMessage","onGetMessages","chatId","scrollDownTo","loadMessages","getMyLastMessage","renderChatHeader","styles$k","feedContainer","renderIceBreaker","renderIsTyping","renderScrollDownBar","renderNewMessageForm","overflowY","ChatEngine","propsAndContext","ChatEngineApp","_dangerButton","_this$props","_onClick","hoverStyle","styles$l","hoverButton","themeStyle","dangerButton","button","substring","toUpperCase","styles$m","avatarText","defaultStyle","styles$n","focusInput","input","placeholder","boxSizing","showAll","getNames","max","results","push","renderOptions","_this3","styles$o","close","_this4","getChats","post","put","getOrCreateChat","patch","successCallback","errorCallback","onGetOtherPeople","getMyData","editMyData","leaveChat","getMessages","formdata","FormData","append","_i","getMessage","messageId","editMessage","deleteMessage","ImagesInput","_React$createElement","accept","MessageInput","resize","textarea","getElementById","min","scrollHeight","styles$p","_this$4","MessageFormSocial","styles$q","messageFormContainer","messageForm","sendIcon","inputContainer","borderWidth","MessageBubble"],"sources":["/home/lenovo/Desktop/chatapp/node_modules/react-chat-engine/dist/index.modern.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect, useRef, Component } from 'react';\nimport _$1 from 'lodash';\nimport { ChatEngineContext as ChatEngineContext$1, readMessage as readMessage$1, getLatestChats as getLatestChats$1, getLatestMessages as getLatestMessages$1, getChat as getChat$1, TextInput as TextInput$1, Button as Button$1, newChat as newChat$1, getChatsBefore as getChatsBefore$1, Avatar as Avatar$1, removePerson as removePerson$1, AutoCompleteInput as AutoCompleteInput$1, addPerson as addPerson$1, getOtherPeople as getOtherPeople$1, deleteChat as deleteChat$1, editChat as editChat$1, Dot as Dot$1, isTyping as isTyping$1, sendMessage as sendMessage$1 } from 'react-chat-engine';\nimport { WebSocket } from 'nextjs-websocket';\nimport axios from 'axios';\nimport { LoadingOutlined, CloseOutlined, MenuOutlined, LeftOutlined, SettingOutlined, FileOutlined, CloseCircleTwoTone, PaperClipOutlined, ArrowUpOutlined, CaretDownOutlined, PlusOutlined, DeleteOutlined, UserAddOutlined } from '@ant-design/icons';\nimport { useSpring, animated } from 'react-spring';\nimport { setConfiguration, Row, Col } from 'react-grid-system';\nimport { animateScroll } from 'react-scroll';\n\nvar ChatEngineContext = createContext();\nvar ChatEngineWrapper = function ChatEngineWrapper(props) {\n  var _useState = useState(null),\n      conn = _useState[0],\n      setConn = _useState[1];\n\n  var _useState2 = useState(null),\n      creds = _useState2[0],\n      setCreds = _useState2[1];\n\n  var _useState3 = useState(''),\n      sessionToken = _useState3[0],\n      setSessionToken = _useState3[1];\n\n  var _useState4 = useState(null),\n      chats = _useState4[0],\n      setChats = _useState4[1];\n\n  var _useState5 = useState({}),\n      messages = _useState5[0],\n      setMessages = _useState5[1];\n\n  var _useState6 = useState(null),\n      activeChat = _useState6[0],\n      setActiveChat = _useState6[1];\n\n  var _useState7 = useState({}),\n      typingCounter = _useState7[0],\n      setTypingCounter = _useState7[1];\n\n  var _useState8 = useState(false),\n      loadMoreMessages = _useState8[0],\n      setLoadMoreMessages = _useState8[1];\n\n  var _useState9 = useState(false),\n      isBottomVisible = _useState9[0],\n      setIsBottomVisible = _useState9[1];\n\n  var value = {\n    conn: conn,\n    setConn: setConn,\n    creds: creds,\n    setCreds: setCreds,\n    sessionToken: sessionToken,\n    setSessionToken: setSessionToken,\n    chats: chats,\n    setChats: setChats,\n    messages: messages,\n    setMessages: setMessages,\n    activeChat: activeChat,\n    setActiveChat: setActiveChat,\n    typingCounter: typingCounter,\n    setTypingCounter: setTypingCounter,\n    loadMoreMessages: loadMoreMessages,\n    setLoadMoreMessages: setLoadMoreMessages,\n    isBottomVisible: isBottomVisible,\n    setIsBottomVisible: setIsBottomVisible\n  };\n  return /*#__PURE__*/React.createElement(ChatEngineContext.Provider, {\n    value: value\n  }, props.children);\n};\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction getDateTime(date, offset) {\n  if (!date) return '';\n  date = date.replace(' ', 'T');\n  offset = offset ? offset : 0;\n  var year = date.substr(0, 4);\n  var month = date.substr(5, 2);\n  var day = date.substr(8, 2);\n  var hour = date.substr(11, 2);\n  var minute = date.substr(14, 2);\n  var second = date.substr(17, 2);\n  var d = new Date(year + \"-\" + month + \"-\" + day + \"T\" + hour + \":\" + minute + \":\" + second);\n  d.setHours(d.getHours() + offset);\n  return d;\n}\nvar options = {\n  weekday: 'short',\n  month: 'short',\n  day: 'numeric',\n  year: 'numeric'\n};\nfunction formatTime(dateTime) {\n  var time = dateTime.toLocaleString('en-US');\n  return time.split(' ')[1].slice(0, -3) + ' ' + time.slice(-2);\n}\nfunction formatDate(dateTime) {\n  return dateTime.toLocaleString('en-US', options);\n}\nfunction formatDateTime(dateTime) {\n  return formatTime(dateTime) + ', ' + formatDate(dateTime);\n}\n\nvar _this = undefined;\nvar socketRef = undefined;\nvar pingIntervalID = 0;\nvar timeIntervalID = 0;\nvar minLag = 15 * 1000;\nvar initialLoadTime = Date.now() + 10 * 1000;\n\nvar Socket = function Socket(props) {\n  var handleEvent = function handleEvent(event) {\n    try {\n      var eventJSON = JSON.parse(event);\n      console.log('eventJSON.action', eventJSON.action);\n\n      if (eventJSON.action === 'pong') {\n        setShouldPongBy(Date.now() + minLag);\n      } else if (eventJSON.action === 'login_error') {\n        var sessionKey = props.projectID + \"/\" + props.userName + \"/\" + props.userSecret;\n        localStorage.removeItem(sessionKey);\n        props.onFailAuth && props.onFailAuth(conn);\n      } else if (eventJSON.action === 'new_chat') {\n        var chat = eventJSON.data;\n\n        if (chats) {\n          var newChats = _extends({}, chats);\n\n          newChats[chat.id] = chat;\n          setChats(newChats);\n          setActiveChat(chat.id);\n        }\n\n        props.onNewChat && props.onNewChat(eventJSON.data);\n      } else if (eventJSON.action === 'edit_chat') {\n        handleEditChat(eventJSON.data);\n      } else if (eventJSON.action === 'delete_chat') {\n        var _chat = eventJSON.data;\n\n        if (chats) {\n          chats[_chat.id] = undefined;\n          setChats(chats);\n\n          if (!_.isEmpty(chats)) {\n            var sortedChats = sortChats(chats);\n            setActiveChat(sortedChats[0] ? parseInt(sortedChats[0].id) : 0);\n          }\n        }\n\n        props.onDeleteChat && props.onDeleteChat(_chat);\n      } else if (eventJSON.action === 'add_person') {\n        handleEditChat(eventJSON.data);\n        props.onAddPerson && props.onAddPerson(eventJSON.data);\n      } else if (eventJSON.action === 'remove_person') {\n        handleEditChat(eventJSON.data);\n        props.onRemovePerson && props.onRemovePerson(eventJSON.data);\n      } else if (eventJSON.action === 'new_message') {\n        var _eventJSON$data = eventJSON.data,\n            id = _eventJSON$data.id,\n            message = _eventJSON$data.message;\n\n        if (parseInt(id) === parseInt(activeChat)) {\n          var newMessages = _extends({}, messages);\n\n          newMessages[message.created] = message;\n          setMessages(newMessages);\n        }\n\n        if (message.sender_username !== props.userName && isBottomVisible) {\n          readMessage$1(conn, activeChat, message.id, function (chat) {\n            return handleEditChat(chat);\n          });\n        }\n\n        props.onNewMessage && props.onNewMessage(id, message);\n      } else if (eventJSON.action === 'edit_message') {\n        var _eventJSON$data2 = eventJSON.data,\n            _id = _eventJSON$data2.id,\n            _message = _eventJSON$data2.message;\n\n        if (_id === activeChat) {\n          messages[_message.created] = _message;\n          setMessages(messages);\n        }\n\n        props.onEditMessage && props.onEditMessage(_id, _message);\n      } else if (eventJSON.action === 'delete_message') {\n        var _eventJSON$data3 = eventJSON.data,\n            _id2 = _eventJSON$data3.id,\n            _message2 = _eventJSON$data3.message;\n\n        if (_id2 === activeChat) {\n          messages[_message2.created] = undefined;\n          setMessages(messages);\n        }\n\n        props.onDeleteMessage && props.onDeleteMessage(_id2, _message2);\n      } else if (eventJSON.action === 'is_typing') {\n        var _extends2, _extends3;\n\n        var _eventJSON$data4 = eventJSON.data,\n            _id3 = _eventJSON$data4.id,\n            person = _eventJSON$data4.person;\n\n        var newTypingCounter = _extends({}, typingCounter);\n\n        newTypingCounter = _extends({}, newTypingCounter, (_extends3 = {}, _extends3[_id3] = _extends({}, newTypingCounter[_id3], (_extends2 = {}, _extends2[person] = Date.now(), _extends2)), _extends3));\n        setTypingCounter(newTypingCounter);\n        props.onTyping && props.onTyping(_id3, person);\n      }\n\n      return Promise.resolve();\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var _useState = useState(Date.now());\n\n  var _useState2 = useState(Date.now() + minLag),\n      setShouldPongBy = _useState2[1];\n\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      sessionToken = _useContext.sessionToken,\n      chats = _useContext.chats,\n      setChats = _useContext.setChats,\n      messages = _useContext.messages,\n      setMessages = _useContext.setMessages,\n      activeChat = _useContext.activeChat,\n      setActiveChat = _useContext.setActiveChat,\n      typingCounter = _useContext.typingCounter,\n      setTypingCounter = _useContext.setTypingCounter,\n      isBottomVisible = _useContext.isBottomVisible;\n\n  useEffect(function () {\n    return function () {\n      clearInterval(pingIntervalID);\n      clearInterval(timeIntervalID);\n    };\n  }, []);\n\n  function sortChats(chats) {\n    return Object.values(chats).sort(function (a, b) {\n      var aDate = a.last_message.created ? getDateTime(a.last_message.created, props.offset) : getDateTime(a.created, props.offset);\n      var bDate = b.last_message.created ? getDateTime(b.last_message.created, props.offset) : getDateTime(b.created, props.offset);\n      return new Date(bDate) - new Date(aDate);\n    });\n  }\n\n  function onConnect() {\n    if (Date.now() > initialLoadTime || conn.renderChatFeed || conn.renderChatList) {\n      console.log('Refresh');\n      getLatestChats$1(conn, 25, function (chats) {\n        return setChats(_.mapKeys(chats, 'id'));\n      });\n      getLatestMessages$1(conn, activeChat, 45, function (id, list) {\n        setMessages(_extends({}, messages, _.mapKeys(list, 'created')));\n      });\n    }\n\n    props.onConnect && props.onConnect(conn);\n  }\n\n  function handleEditChat(chat) {\n    if (chats) {\n      var newChats = _extends({}, chats);\n\n      newChats[chat.id] = chat;\n      setChats(newChats);\n    }\n\n    props.onEditChat && props.onEditChat(chat);\n  }\n\n  var development = props.development;\n  var wsStart = development ? 'ws://' : 'wss://';\n  var rootHost = development ? '127.0.0.1:8000' : 'api.chatengine.io';\n  if (!sessionToken || sessionToken === '') return /*#__PURE__*/React.createElement(\"div\", null);\n  return /*#__PURE__*/React.createElement(WebSocket, {\n    url: \"\" + wsStart + rootHost + \"/person_v4/?session_token=\" + sessionToken,\n    reconnect: true,\n    reconnectIntervalInMilliSeconds: 3000,\n    childRef: function childRef(ref) {\n      return socketRef = ref;\n    },\n    onOpen: onConnect,\n    onError: function onError(e) {\n      return console.log('Socket Error', e);\n    },\n    onMessage: handleEvent.bind(_this),\n    onClose: function onClose() {\n      return console.log('Socket Closed');\n    }\n  });\n};\n\nfunction getApiUrl(props) {\n  if (props && props.development) {\n    return 'http://127.0.0.1:8000';\n  }\n\n  return 'https://api.chatengine.io';\n}\n\nfunction getHeaders(props) {\n  if (!props) {\n    return;\n  } else if (props.chatID) {\n    return {\n      'public-key': props.publicKey ? props.publicKey : props.projectID,\n      'chat-id': props.chatID,\n      'access-key': props.chatAccessKey\n    };\n  } else {\n    return {\n      'Public-Key': props.publicKey ? props.publicKey : props.projectID,\n      'User-Name': props.userName,\n      'User-Secret': props.userPassword ? props.userPassword : props.userSecret\n    };\n  }\n}\n\nfunction getOrCreateSession(props, callback, errorFunc) {\n  axios.get(getApiUrl(props) + \"/users/me/session/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Get or Create Session Error', error);\n    errorFunc && errorFunc(error);\n  });\n}\n\nvar Socket$1 = function Socket$1(props) {\n  var didMountRef = useRef(false);\n\n  var _useState = useState(false),\n      isHidden = _useState[0],\n      setIsHidden = _useState[1];\n\n  var _useContext = useContext(ChatEngineContext$1),\n      setConn = _useContext.setConn,\n      setCreds = _useContext.setCreds,\n      setSessionToken = _useContext.setSessionToken;\n\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      getSession();\n    }\n  });\n\n  function getSession() {\n    var sessionKey = props.projectID + \"/\" + props.userName + \"/\" + props.userSecret;\n\n    if (localStorage.getItem(sessionKey) !== null) {\n      setConn(props);\n      setCreds(props);\n      setSessionToken(localStorage.getItem(sessionKey));\n      console.log('Local fetch!');\n      return;\n    }\n\n    getOrCreateSession(props, function (data) {\n      setConn(props);\n      setCreds(props);\n      setSessionToken(data.token);\n      localStorage.setItem(sessionKey, data.token);\n    }, function (e) {\n      if (e.response && e.response.status === 403) {\n        console.log(\"Your login credentials were not correct: \\n\\n                        Project ID: \" + props.projectID + \" \\n\\n                        Username: \" + props.userName + \" \\n\\n                        User Secret: \" + props.userSecret + \"\\n\\n                        Double check these credentials to make sure they're correct.\\n\\n                        If all three are correct, try resetting the username and secret in the Online Dashboard or Private API.\");\n        setConn(undefined);\n        setCreds(undefined);\n        localStorage.removeItem(sessionKey);\n        props.onFailAuth && props.onFailAuth(props);\n      }\n\n      setTimeout(function () {\n        return getSession();\n      }, 10 * 1000);\n    });\n  }\n\n  function _reRender() {\n    setIsHidden(true);\n    setTimeout(function () {\n      return setIsHidden(false);\n    }, 100);\n  }\n\n  if (isHidden) return /*#__PURE__*/React.createElement(\"div\", null);\n  return /*#__PURE__*/React.createElement(Socket, _extends({}, props, {\n    reRender: function reRender() {\n      return _reRender();\n    }\n  }));\n};\n\nvar _this$1 = undefined;\nvar socketRef$1 = undefined;\nvar pingIntervalID$1 = 0;\nvar timeIntervalID$1 = 0;\nvar minLag$1 = 15 * 1000;\nvar reconnect = Date.now() + 10 * 1000;\n\nvar SocketChild = function SocketChild(props) {\n  var _useState = useState(Date.now()),\n      now = _useState[0];\n\n  var _useState2 = useState(Date.now() + minLag$1),\n      shouldPongBy = _useState2[0],\n      setShouldPongBy = _useState2[1];\n\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      setConn = _useContext.setConn,\n      setCreds = _useContext.setCreds,\n      chats = _useContext.chats,\n      setChats = _useContext.setChats,\n      messages = _useContext.messages,\n      setMessages = _useContext.setMessages,\n      activeChat = _useContext.activeChat,\n      setActiveChat = _useContext.setActiveChat,\n      typingCounter = _useContext.typingCounter,\n      setTypingCounter = _useContext.setTypingCounter;\n\n  useEffect(function () {\n    if (now > shouldPongBy) {\n      console.log('shouldPongBy', shouldPongBy);\n      console.log('now', now);\n      props.reRender && props.reRender();\n      setShouldPongBy(Date.now() + minLag$1);\n    }\n  }, [now, shouldPongBy]);\n  useEffect(function () {\n    return function () {\n      clearInterval(pingIntervalID$1);\n      clearInterval(timeIntervalID$1);\n    };\n  }, []);\n\n  function onEditChat(chat) {\n    if (chats) {\n      var newChats = _extends({}, chats);\n\n      newChats[chat.id] = chat;\n      setChats(newChats);\n    }\n\n    props.onEditChat && props.onEditChat(chat);\n  }\n\n  function onGetChat(chat) {\n    if (activeChat === null) {\n      setActiveChat(chat.id);\n    }\n\n    setChats(_$1.mapKeys([chat], 'id'));\n  }\n\n  function onConnect(conn) {\n    setConn(conn);\n    setCreds(conn);\n    getChat$1(conn, props.chatID, function (chat) {\n      return onGetChat(chat);\n    });\n\n    if (Date.now() > reconnect) {\n      getLatestMessages$1(conn, props.chatID, 45, function (id, list) {\n        setMessages(_extends({}, messages, _$1.mapKeys(list, 'created')));\n      });\n    }\n\n    props.onConnect && props.onConnect(conn);\n  }\n\n  function handleEvent(event) {\n    var eventJSON = JSON.parse(event);\n\n    if (eventJSON.action === 'pong') {\n      setShouldPongBy(Date.now() + minLag$1);\n    } else if (eventJSON.action === 'login_error') {\n      console.log(\"Your chat auth credentials were not correct: \\n\\n                Project ID: \" + props.projectID + \" \\n\\n                Chat ID: \" + props.chatID + \" \\n\\n                Access Key: \" + props.chatAccessKey + \"\\n\\n                Double check these credentials to make sure they're correct.\\n\\n                If all three are correct, try resetting the username and secret in the Online Dashboard or Private API.\");\n      setConn(undefined);\n      setCreds(undefined);\n      props.onFailAuth && props.onFailAuth(conn);\n    } else if (eventJSON.action === 'edit_chat') {\n      onEditChat(eventJSON.data);\n    } else if (eventJSON.action === 'delete_chat') {\n      var chat = eventJSON.data;\n\n      if (chats) {\n        chats[chat.id] = undefined;\n        setChats(chats);\n      }\n\n      props.onDeleteChat && props.onDeleteChat(chat);\n    } else if (eventJSON.action === 'add_person') {\n      onEditChat(eventJSON.data);\n      props.onAddPerson && props.onAddPerson(eventJSON.data);\n    } else if (eventJSON.action === 'remove_person') {\n      onEditChat(eventJSON.data);\n      props.onRemovePerson && props.onRemovePerson(eventJSON.data);\n    } else if (eventJSON.action === 'new_message') {\n      var _eventJSON$data = eventJSON.data,\n          id = _eventJSON$data.id,\n          message = _eventJSON$data.message;\n\n      if (id === activeChat) {\n        var newMessages = _extends({}, messages);\n\n        newMessages[message.created] = message;\n        setMessages(newMessages);\n      }\n\n      props.onNewMessage && props.onNewMessage(id, message);\n    } else if (eventJSON.action === 'edit_message') {\n      var _eventJSON$data2 = eventJSON.data,\n          _id = _eventJSON$data2.id,\n          _message = _eventJSON$data2.message;\n\n      if (_id === activeChat) {\n        messages[_message.created] = _message;\n        setMessages(messages);\n      }\n\n      props.onEditMessage && props.onEditMessage(_id, _message);\n    } else if (eventJSON.action === 'delete_message') {\n      var _eventJSON$data3 = eventJSON.data,\n          _id2 = _eventJSON$data3.id,\n          _message2 = _eventJSON$data3.message;\n\n      if (_id2 === activeChat) {\n        messages[_message2.created] = undefined;\n        setMessages(messages);\n      }\n\n      props.onDeleteMessage && props.onDeleteMessage(_id2, _message2);\n    } else if (eventJSON.action === 'is_typing') {\n      var _extends2, _extends3;\n\n      var _eventJSON$data4 = eventJSON.data,\n          _id3 = _eventJSON$data4.id,\n          person = _eventJSON$data4.person;\n\n      var newTypingCounter = _extends({}, typingCounter);\n\n      newTypingCounter = _extends({}, newTypingCounter, (_extends3 = {}, _extends3[_id3] = _extends({}, newTypingCounter[_id3], (_extends2 = {}, _extends2[person] = Date.now(), _extends2)), _extends3));\n      setTypingCounter(newTypingCounter);\n      props.onTyping && props.onTyping(_id3, person);\n    }\n  }\n\n  function onClose() {\n    props.reRender && props.reRender();\n  }\n\n  var development = props.development,\n      publicKey = props.publicKey,\n      projectID = props.projectID,\n      chatID = props.chatID,\n      chatAccessKey = props.chatAccessKey;\n  var wsStart = development ? 'ws://' : 'wss://';\n  var rootHost = development ? '127.0.0.1:8000' : 'api.chatengine.io';\n  var project = publicKey ? publicKey : projectID;\n  return /*#__PURE__*/React.createElement(WebSocket, {\n    reconnect: true,\n    childRef: function childRef(ref) {\n      return socketRef$1 = ref;\n    },\n    url: \"\" + wsStart + rootHost + \"/chat/?projectID=\" + project + \"&chatID=\" + chatID + \"&accessKey=\" + chatAccessKey,\n    onOpen: onConnect.bind(_this$1, props),\n    onClose: onClose.bind(_this$1),\n    onError: function onError(e) {\n      return console.log('Socket Error', e);\n    },\n    onMessage: handleEvent.bind(_this$1),\n    reconnectIntervalInMilliSeconds: 3000\n  });\n};\n\nvar ChatSocket = function ChatSocket(props) {\n  var _useState = useState(false),\n      hide = _useState[0],\n      setHide = _useState[1];\n\n  function _reRender() {\n    setHide(true);\n    setTimeout(function () {\n      return setHide(false);\n    }, 100);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", null, !hide && /*#__PURE__*/React.createElement(SocketChild, _extends({}, props, {\n    reRender: function reRender() {\n      return _reRender();\n    }\n  })));\n};\n\nvar ChatLoader = function ChatLoader(props) {\n  function useOnScreen(ref) {\n    var _useState = useState(false),\n        isIntersecting = _useState[0],\n        setIntersecting = _useState[1];\n\n    var observer = new IntersectionObserver(function (_ref) {\n      var entry = _ref[0];\n      setIntersecting(entry.isIntersecting);\n\n      if (entry.isIntersecting) {\n        props.onVisible();\n      }\n    });\n    useEffect(function () {\n      observer.observe(ref.current);\n      return function () {\n        observer.disconnect();\n      };\n    }, []);\n    return isIntersecting;\n  }\n\n  var ref = useRef();\n  var isVisible = useOnScreen(ref);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      backgroundColor: '#e2e2e2',\n      margin: '4px',\n      borderRadius: '4px'\n    }\n  }, /*#__PURE__*/React.createElement(LoadingOutlined, {\n    style: {\n      fontSize: '21px',\n      padding: '24px'\n    }\n  })));\n};\n\nvar _this$2 = undefined;\n\nvar NewChatForm = function NewChatForm(props) {\n  var _useContext = useContext(ChatEngineContext),\n      conn = _useContext.conn;\n\n  var _useState = useState(''),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var _useState2 = useState(false),\n      selected = _useState2[0],\n      setSelected = _useState2[1];\n\n  function _handleChange(event) {\n    setValue(event.target.value);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    if (conn && value.trim().length > 0) {\n      newChat$1(conn, {\n        title: value\n      }, function () {\n        return setSelected(false);\n      });\n    }\n\n    setValue('');\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", null, props.onClose && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '0px'\n    }\n  }, /*#__PURE__*/React.createElement(CloseOutlined, {\n    style: styles.closeIcon,\n    onClick: function onClick() {\n      return props.onClose();\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-form-container\",\n    style: _extends({}, styles.newChatContainer, {\n      marginLeft: props.onClose ? '40px' : '0px'\n    })\n  }, selected ? /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit.bind(_this$2)\n  }, /*#__PURE__*/React.createElement(TextInput$1, {\n    autoFocus: true,\n    label: \"Chat Title\",\n    value: value,\n    id: \"ce-new-chat-title-field\",\n    onBlur: function onBlur() {\n      return setSelected(false);\n    },\n    style: {\n      width: '100%'\n    },\n    handleChange: function handleChange(e) {\n      return _handleChange(e);\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '0px'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontWeight: '600',\n      fontSize: '24px',\n      position: 'relative',\n      top: '4px',\n      width: 'calc(100% - 48px)'\n    }\n  }, \"My Chats\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      textAlign: 'right'\n    }\n  }, /*#__PURE__*/React.createElement(Button$1, {\n    icon: \"plus\",\n    id: \"new-chat-plus-button\",\n    onClick: function onClick() {\n      return setSelected(true);\n    }\n  })))));\n};\nvar styles = {\n  closeIcon: {\n    position: 'relative',\n    top: '26px',\n    left: '18px',\n    fontSize: '16px'\n  },\n  newChatContainer: {\n    padding: '16px 14px',\n    backgroundColor: 'white'\n  }\n};\n\nvar ChatCard = function ChatCard() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$1.chatContainer,\n    className: \"ce-chat-card ce-chat-card-loading\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: _extends({}, styles$1.titleText, {\n      animation: \"spin 2s linear infinite\"\n    }),\n    className: \"ce-chat-title-text\",\n    id: \"ce-chat-card-title-loading\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-card-loading-bar\",\n    style: _extends({}, styles$1.loadingBar, {\n      marginBottom: '8px',\n      height: '16px',\n      width: '100%'\n    })\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%'\n    },\n    className: \"ce-chat-subtitle\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$1.messageText,\n    className: \"ce-chat-subtitle-text ce-chat-subtitle-message\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-card-loading-bar\",\n    style: _extends({}, styles$1.loadingBar, {\n      width: '45%'\n    })\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-card-loading-bar\",\n    style: _extends({}, styles$1.loadingBar, {\n      \"float\": 'right',\n      marginTop: '6px',\n      width: '20%'\n    })\n  })));\n};\n\nvar styles$1 = {\n  chatContainer: {\n    padding: '16px',\n    paddingBottom: '12px',\n    cursor: 'pointer'\n  },\n  titleText: {\n    fontWeight: '500',\n    paddingBottom: '4px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden'\n  },\n  messageText: {\n    width: '75%',\n    color: 'rgba(153, 153, 153, 1)',\n    fontSize: '14px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    display: 'inline-block'\n  },\n  loadingBar: {\n    borderRadius: '4px',\n    backgroundColor: '#e2e2e2',\n    height: '12px',\n    display: 'inline-block'\n  }\n};\n\nfunction useBoop(_ref) {\n  var _ref$x = _ref.x,\n      x = _ref$x === void 0 ? 0 : _ref$x,\n      _ref$y = _ref.y,\n      y = _ref$y === void 0 ? 0 : _ref$y,\n      _ref$rotation = _ref.rotation,\n      rotation = _ref$rotation === void 0 ? 0 : _ref$rotation,\n      _ref$scale = _ref.scale,\n      scale = _ref$scale === void 0 ? 1 : _ref$scale,\n      _ref$timing = _ref.timing,\n      timing = _ref$timing === void 0 ? 150 : _ref$timing,\n      _ref$springConfig = _ref.springConfig,\n      springConfig = _ref$springConfig === void 0 ? {\n    tension: 300,\n    friction: 10\n  } : _ref$springConfig,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 'auto' : _ref$width;\n\n  var _React$useState = React.useState(false),\n      isBooped = _React$useState[0],\n      setIsBooped = _React$useState[1];\n\n  var style = useSpring({\n    display: 'inline-block',\n    backfaceVisibility: 'hidden',\n    transform: isBooped ? \"translate(\" + x + \"px, \" + y + \"px)\\n            rotate(\" + rotation + \"deg)\\n            scale(\" + scale + \")\" : \"translate(0px, 0px)\\n            rotate(0deg)\\n            scale(1)\",\n    config: springConfig,\n    width: width\n  });\n  React.useEffect(function () {\n    if (!isBooped) {\n      return;\n    }\n\n    var timeoutId = window.setTimeout(function () {\n      setIsBooped(false);\n    }, timing);\n    return function () {\n      window.clearTimeout(timeoutId);\n    };\n  }, [isBooped]);\n  var trigger = React.useCallback(function () {\n    setIsBooped(true);\n  }, []);\n  return [style, trigger];\n}\n\nvar _excluded = [\"children\", \"triggers\"];\n\nvar Boop = function Boop(_ref) {\n  var children = _ref.children,\n      _ref$triggers = _ref.triggers,\n      triggers = _ref$triggers === void 0 ? [] : _ref$triggers,\n      boopConfig = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var _useBoop = useBoop(boopConfig),\n      style = _useBoop[0],\n      trigger = _useBoop[1];\n\n  function isTriggerPresent(trigger) {\n    return triggers.indexOf(trigger) !== -1;\n  }\n\n  return /*#__PURE__*/React.createElement(animated.span, {\n    style: style,\n    onClick: function onClick() {\n      return isTriggerPresent('onClick') && trigger();\n    },\n    onMouseEnter: function onMouseEnter() {\n      return isTriggerPresent('onMouseEnter') && trigger();\n    },\n    onMouseLeave: function onMouseLeave() {\n      return isTriggerPresent('onMouseLeave') && trigger();\n    }\n  }, children);\n};\n\nvar _require = require('html-to-text'),\n    htmlToText = _require.htmlToText;\n\nvar ChatCard$1 = function ChatCard$1(props) {\n  var chat = props.chat;\n\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      activeChat = _useContext.activeChat,\n      setActiveChat = _useContext.setActiveChat;\n\n  if (_$1.isEmpty(chat) || props.loading) return /*#__PURE__*/React.createElement(ChatCard, null);\n  if (!conn || conn === null) return /*#__PURE__*/React.createElement(\"div\", null);\n  var extraStyle = activeChat === chat.id ? styles$2.activeChat : {};\n  var otherPerson = chat.people.find(function (person) {\n    return conn.userName !== person.person.username;\n  });\n  var title = chat.is_direct_chat && otherPerson ? otherPerson.person.username : chat.title;\n  var lastMessage = htmlToText(chat.last_message.text, {});\n\n  if (!lastMessage) {\n    lastMessage = chat.last_message.attachments.length > 0 ? chat.last_message.attachments.length + \" image\" + (chat.last_message.attachments.length > 1 ? 's' : '') : 'Say hello!';\n  }\n\n  function didReadLastMessage(chat) {\n    var didReadLastMessage = true;\n    chat.people.map(function (chat_person) {\n      if (conn.userName === chat_person.person.username) {\n        didReadLastMessage = chat.last_message.id === chat_person.last_read;\n      }\n    });\n    return didReadLastMessage;\n  }\n\n  function daySinceSent(date) {\n    if (!date) return '';\n    return getDateTime(date, conn.offset).toString().substr(4, 6);\n  }\n\n  return /*#__PURE__*/React.createElement(Boop, {\n    triggers: ['onClick', 'onMouseEnter'],\n    x: 3,\n    timing: 60,\n    width: '-webkit-fill-available'\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: function onClick() {\n      return setActiveChat(chat.id);\n    },\n    style: _extends({}, styles$2.chatContainer, extraStyle),\n    className: \"ce-chat-card \" + (activeChat === chat.id && 'ce-active-chat-card')\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$2.titleText,\n    className: \"ce-chat-title-text\",\n    id: \"ce-chat-card-title-\" + title\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: !didReadLastMessage(chat) && 'calc(100% - 18px)',\n      overflowX: 'hidden',\n      display: 'inline-block'\n    }\n  }, title), !didReadLastMessage(chat) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-unread-dot\",\n    style: {\n      marginTop: '5px',\n      width: '12px',\n      height: '12px',\n      borderRadius: '6px',\n      backgroundColor: '#1890ff',\n      \"float\": 'right',\n      display: 'inline-block'\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%'\n    },\n    className: \"ce-chat-subtitle\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$2.messageText,\n    className: \"ce-chat-subtitle-text ce-chat-subtitle-message\"\n  }, lastMessage), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-subtitle-text ce-chat-subtitle-date\",\n    style: _extends({}, styles$2.messageText, {\n      textAlign: 'right',\n      width: '25%'\n    })\n  }, daySinceSent(chat.last_message.created)))));\n};\n\nvar styles$2 = {\n  chatContainer: {\n    padding: '16px',\n    paddingBottom: '12px',\n    cursor: 'pointer'\n  },\n  titleText: {\n    fontWeight: '500',\n    paddingBottom: '4px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden'\n  },\n  messageText: {\n    width: '75%',\n    color: 'rgba(153, 153, 153, 1)',\n    fontSize: '14px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    display: 'inline-block'\n  },\n  activeChat: {\n    backgroundColor: '#d9d9d9',\n    border: '0px solid white',\n    borderRadius: '12px'\n  }\n};\n\nvar interval = 33;\n\nvar ChatList = function ChatList(props) {\n  var didMountRef = useRef(false);\n\n  var _useState = useState(false),\n      loadChats = _useState[0],\n      setLoadChats = _useState[1];\n\n  var _useState2 = useState(true),\n      hasMoreChats = _useState2[0],\n      setHasMoreChats = _useState2[1];\n\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      setChats = _useContext.setChats,\n      setActiveChat = _useContext.setActiveChat;\n\n  var chatList = sortChats(chats ? Object.values(chats) : [{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}]);\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      getLatestChats$1(props, interval, function (chats) {\n        onGetChats(chats);\n        chats.length > 0 && setActiveChat(chats[0].id);\n      });\n    }\n  });\n  useEffect(function () {\n    if (!loadChats || loadChats === 'loading') return;\n    setLoadChats('loading');\n    var chatList = chats !== null ? sortChats(Object.values(chats)) : [];\n\n    if (chatList.length > 0) {\n      var before = chatList[chatList.length - 1].created;\n      getChatsBefore$1(props, before, interval, function (chats) {\n        return onGetChats(chats);\n      });\n    }\n  }, [loadChats]);\n\n  function sortChats(chats) {\n    return chats.sort(function (a, b) {\n      var aDate = a.last_message && a.last_message.created ? getDateTime(a.last_message.created, props.offset) : getDateTime(a.created, props.offset);\n      var bDate = b.last_message && b.last_message.created ? getDateTime(b.last_message.created, props.offset) : getDateTime(b.created, props.offset);\n      return new Date(bDate) - new Date(aDate);\n    });\n  }\n\n  function onGetChats(chatList) {\n    setLoadChats(false);\n    var oldChats = chats !== null ? chats : {};\n\n    var newChats = _$1.mapKeys(_extends({}, chatList), 'id');\n\n    var allChats = _extends({}, oldChats, newChats);\n\n    setChats(allChats);\n    interval > chatList.length && setHasMoreChats(false);\n  }\n\n  function renderChats(chats) {\n    return chats.map(function (chat, index) {\n      if (!chat) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"chat_\" + index\n        });\n      } else if (props.renderChatCard) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"chat_\" + index\n        }, props.renderChatCard(chat, index));\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"chat_\" + index,\n          onClick: function onClick() {\n            return props.onChatClick && props.onChatClick(chat.id);\n          }\n        }, /*#__PURE__*/React.createElement(ChatCard$1, {\n          chat: chat\n        }));\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$3.chatListContainer,\n    className: \"ce-chat-list\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$3.chatsContainer,\n    className: \"ce-chats-container\"\n  }, props.renderNewChatForm ? props.renderNewChatForm(conn) : /*#__PURE__*/React.createElement(NewChatForm, {\n    onClose: props.onClose ? function () {\n      return props.onClose();\n    } : undefined\n  }), renderChats(chatList), hasMoreChats && chatList.length > 0 && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(ChatLoader, {\n    onVisible: function onVisible() {\n      return !loadChats && setLoadChats(true);\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '8px'\n    }\n  }))));\n};\n\nvar styles$3 = {\n  chatListContainer: {\n    height: '100%',\n    maxHeight: '100vh',\n    overflow: 'scroll',\n    overflowX: 'hidden',\n    borderRight: '1px solid #afafaf',\n    backgroundColor: 'white',\n    fontFamily: 'Avenir'\n  },\n  chatsContainer: {\n    width: '100%',\n    height: '100%',\n    backgroundColor: 'white',\n    borderRadius: '0px 0px 24px 24px'\n  }\n};\n\nvar AuthFail = function AuthFail(props) {\n  var project = props.projectID ? props.projectID : props.publicKey;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-login-fail-breaker\",\n    style: {\n      width: '100%',\n      textAlign: 'center',\n      paddingTop: 'calc(50% - 112px)'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-login-fail-text\",\n    style: {\n      color: '#afafaf',\n      fontWeight: '600',\n      fontSize: '14px',\n      marginBottom: '6px',\n      marginRight: '32px',\n      marginLeft: '32px'\n    }\n  }, \"Your credentials are incorrect. Make sure your Project ID, Username, and Password are correct \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://chatengine.io/projects/\" + project\n  }, \"here\"), \".\"), /*#__PURE__*/React.createElement(\"img\", {\n    id: \"ce-login-fail-gif\",\n    style: {\n      width: '50%',\n      maxWidth: '200px'\n    },\n    src: \"https://chat-engine-assets.s3.amazonaws.com/welcome_gifs/no.gif\",\n    alt: \"chat-engine-login-fail\"\n  }));\n};\n\nvar CreateChat = function CreateChat() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-ice-breaker\",\n    style: {\n      width: '100%',\n      textAlign: 'center',\n      paddingTop: 'calc(43% - 112px)'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-ice-breaker-text\",\n    style: {\n      color: '#afafaf',\n      fontWeight: '600',\n      marginBottom: '6px'\n    }\n  }, \"Welcome!\"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-ice-breaker-text\",\n    style: {\n      color: '#afafaf'\n    }\n  }, \"Create a new chat to get started.\"), /*#__PURE__*/React.createElement(\"img\", {\n    id: \"ce-ice-breaker-gif\",\n    style: {\n      width: '50%',\n      maxWidth: '200px'\n    },\n    src: \"https://chat-engine-assets.s3.amazonaws.com/welcome_gifs/okay.gif\",\n    alt: \"chat-engine-ice-breaker\"\n  }));\n};\n\nvar IceBreaker = function IceBreaker() {\n  var _useContext = useContext(ChatEngineContext$1),\n      activeChat = _useContext.activeChat;\n\n  var gifs = ['https://chat-engine-assets.s3.amazonaws.com/welcome_gifs/peace.gif', 'https://chat-engine-assets.s3.amazonaws.com/welcome_gifs/thumbsup.gif'];\n  var gif = gifs[(activeChat ? activeChat : 0) % gifs.length];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-ice-breaker\",\n    style: {\n      width: '100%',\n      textAlign: 'center',\n      paddingTop: 'calc(43% - 112px)'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-ice-breaker-text\",\n    style: {\n      color: '#afafaf',\n      fontWeight: '600',\n      fontSize: '14px',\n      marginBottom: '6px'\n    }\n  }, \"No messages here yet...\"), /*#__PURE__*/React.createElement(\"img\", {\n    id: \"ce-ice-breaker-gif\",\n    style: {\n      width: '50%',\n      maxWidth: '200px'\n    },\n    src: gif,\n    alt: \"chat-engine-ice-breaker\"\n  }));\n};\n\nvar RenderTrigger = function RenderTrigger(props) {\n  var _useContext = useContext(ChatEngineContext);\n\n  function useOnScreen(ref) {\n    var _useState = useState(false),\n        isIntersecting = _useState[0],\n        setIntersecting = _useState[1];\n\n    var observer = new IntersectionObserver(function (_ref) {\n      var entry = _ref[0];\n      setIntersecting(entry.isIntersecting);\n\n      if (entry.isIntersecting) {\n        props.onEnter && props.onEnter();\n      } else {\n        props.onLeave && props.onLeave();\n      }\n    });\n    useEffect(function () {\n      observer.observe(ref.current);\n      return function () {\n        observer.disconnect();\n      };\n    }, []);\n    return isIntersecting;\n  }\n\n  var ref = useRef();\n  var isVisible = useOnScreen(ref);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    id: props.id\n  }, props.children);\n};\n\nvar ChatListDrawer = function ChatListDrawer(props) {\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var context = useContext(ChatEngineContext);\n\n  var allProps = _extends({}, props, context.conn);\n\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(MenuOutlined, {\n    onClick: function onClick() {\n      return setIsOpen(true);\n    },\n    style: {\n      color: 'rgb(24, 144, 255)',\n      outline: 'none'\n    }\n  }), isOpen && /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$4.drawerContainer\n  }, context.conn !== null && context.conn.renderChatList ? context.conn.renderChatList(context) : /*#__PURE__*/React.createElement(ChatList, _extends({}, allProps, {\n    onClose: function onClose() {\n      return setIsOpen(false);\n    },\n    onChatClick: function onChatClick() {\n      return setIsOpen(false);\n    }\n  }))));\n};\nvar styles$4 = {\n  drawerContainer: {\n    position: 'fixed',\n    zIndex: '1',\n    top: '0px',\n    left: '0px',\n    width: '100%',\n    height: '100%',\n    backgroundColor: 'white',\n    textAlign: 'left'\n  },\n  titleContainer: {\n    width: '100%',\n    padding: '24px 0px',\n    textAlign: 'center',\n    color: 'rgb(24, 144, 255)'\n  },\n  titleText: {\n    fontSize: '24px',\n    fontWeight: '600'\n  }\n};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}var AsyncMode=l;var ConcurrentMode=m;var ContextConsumer=k;var ContextProvider=h;var Element=c;var ForwardRef=n;var Fragment=e;var Lazy=t;var Memo=r;var Portal=d;\nvar Profiler=g;var StrictMode=f;var Suspense=p;var isAsyncMode=function(a){return A(a)||z(a)===l};var isConcurrentMode=A;var isContextConsumer=function(a){return z(a)===k};var isContextProvider=function(a){return z(a)===h};var isElement=function(a){return \"object\"===typeof a&&null!==a&&a.$$typeof===c};var isForwardRef=function(a){return z(a)===n};var isFragment=function(a){return z(a)===e};var isLazy=function(a){return z(a)===t};\nvar isMemo=function(a){return z(a)===r};var isPortal=function(a){return z(a)===d};var isProfiler=function(a){return z(a)===g};var isStrictMode=function(a){return z(a)===f};var isSuspense=function(a){return z(a)===p};\nvar isValidElementType=function(a){return \"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};var typeOf=z;\n\nvar reactIs_production_min = {\n\tAsyncMode: AsyncMode,\n\tConcurrentMode: ConcurrentMode,\n\tContextConsumer: ContextConsumer,\n\tContextProvider: ContextProvider,\n\tElement: Element,\n\tForwardRef: ForwardRef,\n\tFragment: Fragment,\n\tLazy: Lazy,\n\tMemo: Memo,\n\tPortal: Portal,\n\tProfiler: Profiler,\n\tStrictMode: StrictMode,\n\tSuspense: Suspense,\n\tisAsyncMode: isAsyncMode,\n\tisConcurrentMode: isConcurrentMode,\n\tisContextConsumer: isContextConsumer,\n\tisContextProvider: isContextProvider,\n\tisElement: isElement,\n\tisForwardRef: isForwardRef,\n\tisFragment: isFragment,\n\tisLazy: isLazy,\n\tisMemo: isMemo,\n\tisPortal: isPortal,\n\tisProfiler: isProfiler,\n\tisStrictMode: isStrictMode,\n\tisSuspense: isSuspense,\n\tisValidElementType: isValidElementType,\n\ttypeOf: typeOf\n};\n\nvar reactIs_development = createCommonjsModule(function (module, exports) {\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n});\n\nvar reactIs = createCommonjsModule(function (module) {\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = reactIs_production_min;\n} else {\n  module.exports = reactIs_development;\n}\n});\n\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nvar objectAssign = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nvar ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret$1 = ReactPropTypesSecret_1;\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret$1);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n};\n\nvar checkPropTypes_1 = checkPropTypes;\n\nvar has$1 = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning$1 = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning$1 = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nvar factoryWithTypeCheckers = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret_1) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning$1(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret_1);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!reactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning$1(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning$1('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has$1(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning$1('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning$1(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret_1) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = objectAssign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret_1);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes_1;\n  ReactPropTypes.resetWarningCache = checkPropTypes_1.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nvar factoryWithThrowingShims = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret_1) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  }  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  }  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\nvar propTypes = createCommonjsModule(function (module) {\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = reactIs;\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = factoryWithTypeCheckers(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = factoryWithThrowingShims();\n}\n});\n\nvar PersonRow = function PersonRow(props) {\n  var _useState = useState(false),\n      selected = _useState[0],\n      setSelected = _useState[1];\n\n  var person = props.person,\n      chat = props.chat,\n      conn = props.conn;\n\n  if (!person || !chat) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  if (!conn || conn === null) return /*#__PURE__*/React.createElement(\"div\", null);\n\n  function onRemovePerson() {\n    removePerson$1(props.conn, props.chat.id, props.person.username);\n  }\n\n  function renderPersonText(person) {\n    if (person.first_name && person.first_name !== null) {\n      return \"\" + person.first_name + (person.last_name ? \" \" + person.last_name : '');\n    } else {\n      return person.username;\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-person-container\",\n    onMouseEnter: function onMouseEnter() {\n      return setSelected(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setSelected(false);\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-person-avatar\",\n    style: {\n      padding: '2px',\n      height: '0px'\n    }\n  }, /*#__PURE__*/React.createElement(Avatar$1, {\n    avatar: person.avatar,\n    username: person.username,\n    is_online: person.is_online\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-person-text\",\n    style: {\n      paddingLeft: '52px',\n      height: '44px',\n      position: 'relative',\n      top: '10px',\n      fontSize: '15px'\n    }\n  }, renderPersonText(person)), selected && conn.userName === chat.admin.username && person.username !== chat.admin.username && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-delete-chat\",\n    style: {\n      \"float\": 'right',\n      height: '0px',\n      position: 'relative',\n      bottom: '44px'\n    }\n  }, /*#__PURE__*/React.createElement(Button$1, {\n    theme: \"danger\",\n    icon: \"delete\",\n    onClick: function onClick() {\n      return onRemovePerson();\n    }\n  })));\n};\nPersonRow.propTypes = {\n  person: propTypes.object.isRequired,\n  chat: propTypes.object.isRequired,\n  conn: propTypes.object\n};\n\nvar PersonOption = function PersonOption(props) {\n  var _useState = useState(false),\n      focused = _useState[0],\n      setFocused = _useState[1];\n\n  var _props$person = props.person,\n      avatar = _props$person.avatar,\n      username = _props$person.username;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-username-option-\" + username,\n    onMouseEnter: function onMouseEnter() {\n      return setFocused(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setFocused(false);\n    },\n    onClick: function onClick() {\n      return props.onClick && props.onClick();\n    },\n    style: _extends({}, styles$5.option, {\n      backgroundColor: focused ? '#f5f5f5' : 'white'\n    })\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Avatar$1, {\n    username: username,\n    avatar: avatar\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      padding: '12px 4px'\n    }\n  }, props.person.username));\n};\nvar styles$5 = {\n  option: {\n    padding: '4px 16px',\n    cursor: 'pointer',\n    fontSize: '15px',\n    display: 'flex'\n  }\n};\nPersonOption.propTypes = {\n  person: propTypes.object.isRequired\n};\n\nvar PersonForm = function PersonForm(props) {\n  var _useState = useState({\n    value: '',\n    others: []\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  function _handleChange(value) {\n    setState(_extends({}, state, {\n      value: value\n    }));\n  }\n\n  function invitePerson(name) {\n    addPerson$1(props.conn, props.chat.id, name, function () {\n      setState(_extends({}, state, {\n        value: ''\n      }));\n      getOthers();\n    });\n  }\n\n  function getOthers() {\n    getOtherPeople$1(props.conn, props.chat.id, function (id, others) {\n      return setState(_extends({}, state, {\n        others: others\n      }));\n    }, function () {});\n  }\n\n  function _renderOption(option) {\n    return /*#__PURE__*/React.createElement(PersonOption, {\n      person: option,\n      onClick: function onClick() {\n        return invitePerson(option.username);\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: '12px'\n    }\n  }, /*#__PURE__*/React.createElement(AutoCompleteInput$1, {\n    style: {\n      width: '100%'\n    },\n    label: \"Type a username\",\n    value: state.value,\n    options: state.others,\n    onFocus: function onFocus() {\n      return getOthers();\n    },\n    handleChange: function handleChange(value) {\n      return _handleChange(value);\n    },\n    renderOption: function renderOption(option) {\n      return _renderOption(option);\n    }\n  }));\n};\nPersonForm.propTypes = {\n  chat: propTypes.object.isRequired,\n  conn: propTypes.object.isRequired\n};\n\nvar SettingsBlock = function SettingsBlock(props) {\n  var _useState = useState(true),\n      collapsed = _useState[0],\n      setCollapsed = _useState[1];\n\n  var _useState2 = useState(false),\n      hovered = _useState2[0],\n      setHovered = _useState2[1];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      borderTop: '1px solid #f0f0f0'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: props.id,\n    className: props.className,\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    },\n    onClick: function onClick() {\n      return setCollapsed(!collapsed);\n    },\n    style: {\n      cursor: 'pointer',\n      backgroundColor: hovered ? '#f0f0f0' : '#fff',\n      transition: \"background-color 100ms\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: '17px',\n      padding: '12px',\n      fontWeight: '600'\n    }\n  }, props.label), /*#__PURE__*/React.createElement(LeftOutlined, {\n    style: {\n      \"float\": 'right',\n      position: 'relative',\n      bottom: '30px',\n      right: '12px',\n      transform: collapsed ? \"rotate(0deg)\" : \"rotate(-90deg)\",\n      transition: \"transform 100ms\"\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", null, !collapsed && props.children));\n};\n\nvar PeopleSettings = function PeopleSettings() {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      activeChat = _useContext.activeChat;\n\n  var chat = chats && chats[activeChat];\n\n  if (!chat || chat.is_direct_chat) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  function renderChatPeople(people, chat) {\n    return people.map(function (chatPerson, index) {\n      return /*#__PURE__*/React.createElement(PersonRow, {\n        key: \"person_\" + index,\n        person: chatPerson.person,\n        conn: conn,\n        chat: chat\n      });\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      borderTop: '1px solid #f0f0f0'\n    }\n  }, /*#__PURE__*/React.createElement(SettingsBlock, {\n    label: \"People\",\n    className: \"ce-section-title-container ce-person-title-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '12px'\n    }\n  }), renderChatPeople(chat.people, chat), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '12px'\n    }\n  }), conn && chat && conn.userName === chat.admin.username && /*#__PURE__*/React.createElement(PersonForm, {\n    conn: conn,\n    chat: chat\n  }))));\n};\n\nvar Thumbnail = function Thumbnail(props) {\n  var attachment = props.attachment;\n\n  if (!attachment) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$6.container,\n    className: \"ce-photo-thumbnail\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: '100%'\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    alt: attachment.id,\n    style: styles$6.image,\n    src: attachment.file,\n    className: \"ce-photo-img\",\n    id: \"image-\" + attachment.id\n  }));\n};\nvar styles$6 = {\n  container: {\n    position: 'relative',\n    width: 'calc(33% - 8px)',\n    border: '1px solid white',\n    display: 'inline-block',\n    cursor: 'pointer'\n  },\n  image: {\n    top: '0px',\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n    objectFit: 'cover'\n  }\n};\nThumbnail.propTypes = {\n  attachment: propTypes.object.isRequired\n};\n\nvar PhotosSettings = function PhotosSettings() {\n  var _useContext = useContext(ChatEngineContext$1),\n      chats = _useContext.chats,\n      activeChat = _useContext.activeChat;\n\n  var chat = chats && chats[activeChat];\n  if (!chat) return /*#__PURE__*/React.createElement(\"div\", null);\n\n  function renderPhotos(attachments) {\n    return attachments.map(function (attachment, index) {\n      return /*#__PURE__*/React.createElement(Thumbnail, {\n        key: \"person_\" + index,\n        attachment: attachment\n      });\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      borderTop: '1px solid #f0f0f0'\n    },\n    className: \"ce-photo-section\"\n  }, /*#__PURE__*/React.createElement(SettingsBlock, {\n    label: \"Photos\",\n    className: \"ce-section-title-container ce-photo-title-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-photo-feed\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '12px'\n    }\n  }), renderPhotos(chat.attachments))));\n};\n\nvar OptionsSettings = function OptionsSettings() {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      activeChat = _useContext.activeChat;\n\n  var chat = chats && chats[activeChat];\n  if (!chat) return /*#__PURE__*/React.createElement(\"div\", null);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      borderTop: '1px solid #f0f0f0'\n    }\n  }, /*#__PURE__*/React.createElement(SettingsBlock, {\n    id: \"ce-options-drop-down\",\n    label: \"Options\"\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '8px'\n    }\n  }), /*#__PURE__*/React.createElement(Button$1, {\n    value: \"Delete\",\n    theme: \"danger\",\n    icon: \"delete\",\n    id: \"ce-delete-chat-button\",\n    onClick: function onClick() {\n      return deleteChat$1(conn, chat.id, function (data) {});\n    },\n    style: {\n      width: '100%',\n      marginBottom: '12px'\n    }\n  }))));\n};\n\nvar NewMessageForm = function NewMessageForm(props) {\n  var didMountRef = useRef(false);\n\n  var _useState = useState({\n    activeChat: null,\n    value: ''\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  function _handleChange(event) {\n    setState(_extends({}, state, {\n      value: event.target.value\n    }));\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    editChat$1(props.conn, props.chat.id, {\n      title: state.value\n    }, function (data) {});\n  }\n\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n    } else {\n      if (state.activeChat !== props.chat.id) {\n        setState(_extends({}, state, {\n          value: props.chat.title,\n          activeChat: props.chat.id\n        }));\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: function onSubmit(e) {\n      return handleSubmit(e);\n    },\n    className: \"ce-chat-title-form\"\n  }, /*#__PURE__*/React.createElement(TextInput$1, {\n    label: \"Rename this Chat\",\n    value: state.value,\n    \"default\": props.chat.title,\n    handleChange: function handleChange(e) {\n      return _handleChange(e);\n    },\n    style: {\n      fontSize: '16px',\n      fontWeight: '600',\n      textAlign: 'center',\n      border: '0px solid white',\n      width: '100%'\n    }\n  }));\n};\nNewMessageForm.propTypes = {\n  chat: propTypes.object.isRequired\n};\n\nvar ChatSettingsTop = function ChatSettingsTop() {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      activeChat = _useContext.activeChat;\n\n  var chat = chats && chats[activeChat];\n  if (!chat || !conn || conn === null) return /*#__PURE__*/React.createElement(\"div\", null);\n  var topPeople = chat.people.slice(0, 3);\n  var otherPerson = getOtherPerson(chat.people);\n\n  function renderOnePerson(people) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        paddingTop: '14px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": 'left',\n        position: 'relative',\n        left: 'calc(50% - 22px)'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar$1, {\n      show_online: false,\n      username: people[0].person.username,\n      avatar: people[0].person.avatar\n    })));\n  }\n\n  function renderTwoPeople(people) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        paddingTop: '14px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": 'left',\n        position: 'relative',\n        left: 'calc(50% - 22px - 15px)'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar$1, {\n      show_online: false,\n      username: people[0].person.username,\n      avatar: people[0].person.avatar\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": 'left',\n        position: 'relative',\n        left: 'calc(50% - 44px - 22px + 15px)'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar$1, {\n      show_online: false,\n      username: people[1].person.username,\n      avatar: people[1].person.avatar\n    })));\n  }\n\n  function renderThreePeople(people) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        paddingTop: '14px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": 'left',\n        position: 'relative',\n        left: 'calc(50% - 22px - 24px)'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar$1, {\n      show_online: false,\n      username: people[0].person.username,\n      avatar: people[0].person.avatar\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": 'left',\n        position: 'relative',\n        left: 'calc(50% - 24px - 44px)'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar$1, {\n      show_online: false,\n      username: people[1].person.username,\n      avatar: people[1].person.avatar\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        \"float\": 'left',\n        position: 'relative',\n        left: 'calc(50% - 22px - 44px - 44px + 24px)'\n      }\n    }, /*#__PURE__*/React.createElement(Avatar$1, {\n      show_online: false,\n      username: people[2].person.username,\n      avatar: people[2].person.avatar\n    })));\n  }\n\n  function getOtherPerson(people) {\n    return people.find(function (person) {\n      return person.person.username !== conn.userName;\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-settings-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-avatars-row\"\n  }, topPeople.length === 1 && renderOnePerson(topPeople), chat.is_direct_chat && otherPerson && renderOnePerson([otherPerson]), !chat.is_direct_chat && otherPerson && topPeople.length === 2 && renderTwoPeople(topPeople), !chat.is_direct_chat && otherPerson && topPeople.length === 3 && renderThreePeople(topPeople)), chat.is_direct_chat && otherPerson ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: '55px',\n      paddingBottom: '7px',\n      fontSize: '16px',\n      fontWeight: '600',\n      textAlign: 'center',\n      border: '0px solid white',\n      width: '100%'\n    }\n  }, otherPerson.person.username) : /*#__PURE__*/React.createElement(NewMessageForm, {\n    chat: chat,\n    conn: conn\n  }));\n};\n\nvar ChatSettings = function ChatSettings(props) {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      activeChat = _useContext.activeChat;\n\n  var chat = chats && chats[activeChat];\n  if (conn === null) return /*#__PURE__*/React.createElement(\"div\", null);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$7.settingsContainer,\n    className: \"ce-settings\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '90%',\n      paddingLeft: '5%'\n    },\n    className: \"ce-settings-container\"\n  }, props.renderChatSettingsTop ? props.renderChatSettingsTop(conn, chat) : /*#__PURE__*/React.createElement(ChatSettingsTop, null), props.renderPeopleSettings ? props.renderPeopleSettings(conn, chat) : /*#__PURE__*/React.createElement(PeopleSettings, null), props.renderPhotosSettings ? props.renderPhotosSettings(chat) : /*#__PURE__*/React.createElement(PhotosSettings, null), conn && chat && conn.userName === chat.admin.username && /*#__PURE__*/React.createElement(\"div\", null, props.renderOptionsSettings ? props.renderOptionsSettings(conn, chat) : /*#__PURE__*/React.createElement(OptionsSettings, null))));\n};\nvar styles$7 = {\n  settingsContainer: {\n    height: '100%',\n    overflow: 'scroll',\n    overflowX: 'hidden',\n    borderLeft: '1px solid #afafaf',\n    backgroundColor: 'white',\n    fontFamily: 'Avenir'\n  }\n};\n\nvar ChatSettingsDrawer = function ChatSettingsDrawer(props) {\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var context = useContext(ChatEngineContext$1);\n\n  var allProps = _extends({}, props, context.conn);\n\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SettingOutlined, {\n    onClick: function onClick() {\n      return setIsOpen(true);\n    },\n    style: {\n      color: 'rgb(24, 144, 255)',\n      outline: 'none'\n    }\n  }), isOpen && /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$8.drawerContainer\n  }, /*#__PURE__*/React.createElement(CloseOutlined, {\n    style: styles$8.closeIcon,\n    onClick: function onClick() {\n      return setIsOpen(false);\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$8.titleContainer\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$8.titleText\n  }, \"Chat Settings\")), context.conn !== null && context.conn.renderChatSettings ? context.conn.renderChatSettings(context) : /*#__PURE__*/React.createElement(ChatSettings, allProps)));\n};\nvar styles$8 = {\n  drawerContainer: {\n    position: 'fixed',\n    zIndex: '1',\n    top: '0px',\n    left: '0px',\n    width: '100%',\n    height: '100%',\n    backgroundColor: 'white',\n    textAlign: 'left'\n  },\n  closeIcon: {\n    position: 'absolute',\n    left: '28px',\n    top: '32px'\n  },\n  titleContainer: {\n    width: '100%',\n    padding: '24px 0px',\n    textAlign: 'center',\n    color: 'rgb(24, 144, 255)'\n  },\n  titleText: {\n    fontSize: '24px',\n    fontWeight: '600'\n  }\n};\n\nsetConfiguration({\n  maxScreenClass: 'xl',\n  gutterWidth: 0\n});\n\nvar ChatHeader = function ChatHeader() {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      activeChat = _useContext.activeChat;\n\n  var chat = chats ? chats[activeChat] : undefined;\n  var otherPerson = chat && conn && chat.people.find(function (person) {\n    return person.person.username !== conn.userName;\n  });\n  var title = chat ? chat.is_direct_chat && otherPerson ? otherPerson.person.username : chat.title : undefined;\n  var text = 'Say hello!';\n\n  if (!chat) {\n    text = 'Loading...';\n  } else if (chat.last_message.created && chat.last_message.created.length > 0) {\n    var dateTime = getDateTime(chat.last_message.created, conn ? conn.offset : undefined);\n    text = \"Active \" + formatDateTime(dateTime);\n  }\n\n  return /*#__PURE__*/React.createElement(Row, {\n    className: \"ce-chat-title\",\n    style: styles$9.titleSection\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 2,\n    sm: 0,\n    style: _extends({}, styles$9.mobileOptiom, {\n      left: '6px'\n    }),\n    className: \"ce-chat-list-mobile-option\"\n  }, /*#__PURE__*/React.createElement(ChatListDrawer, null)), /*#__PURE__*/React.createElement(Col, {\n    xs: 8,\n    sm: 12,\n    style: styles$9.titleContainer,\n    className: \"ce-chat-title-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$9.titleText,\n    className: \"ce-chat-title-text\",\n    id: \"ce-chat-feed-title-\" + title\n  }, title ? title : /*#__PURE__*/React.createElement(LoadingOutlined, null)), /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$9.subtitleText,\n    className: \"ce-chat-subtitle-text\"\n  }, text)), /*#__PURE__*/React.createElement(Col, {\n    xs: 2,\n    sm: 0,\n    style: _extends({}, styles$9.mobileOptiom, {\n      right: '6px'\n    }),\n    className: \"ce-chat-settings-mobile-option\"\n  }, /*#__PURE__*/React.createElement(ChatSettingsDrawer, null)));\n};\nvar styles$9 = {\n  titleSection: {\n    position: 'absolute',\n    top: '0px',\n    width: '100%',\n    zIndex: '1',\n    backgroundColor: 'rgb(256, 256, 256, 0.92)'\n  },\n  mobileOptiom: {\n    width: '100%',\n    top: '32px',\n    textAlign: 'center',\n    color: 'rgb(24, 144, 255)',\n    overflow: 'hidden'\n  },\n  titleContainer: {\n    width: '100%',\n    padding: '18px 0px',\n    textAlign: 'center',\n    color: 'rgb(24, 144, 255)',\n    overflowX: 'hidden'\n  },\n  titleText: {\n    fontSize: '24px',\n    fontWeight: '600'\n  },\n  subtitleText: {\n    fontSize: '12px'\n  }\n};\n\nvar DatePartition = function DatePartition(props) {\n  var lastCreated = props.lastCreated,\n      created = props.created;\n\n  function getDate(date) {\n    return date ? date.substr(0, 10) : null;\n  }\n\n  var lastDate = getDate(lastCreated);\n  var thisDate = getDate(created);\n  if (lastCreated && lastDate === thisDate) return /*#__PURE__*/React.createElement(\"div\", null);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$a.dateText,\n    className: \"ce-message-date-text\"\n  }, formatDateTime(getDateTime(created, props.offset)));\n};\nvar styles$a = {\n  dateText: {\n    width: '100%',\n    textAlign: 'center',\n    paddingTop: '4px',\n    paddingBottom: '10px',\n    fontSize: '15px',\n    color: 'rgba(0, 0, 0, .40)'\n  }\n};\n\nvar images = ['jpg', 'jpeg', 'png', 'gif', 'tiff'];\nvar isImage = function isImage(fileName) {\n  var dotSplit = fileName.split('.');\n  return dotSplit.length > 0 && images.indexOf(dotSplit[dotSplit.length - 1].toLowerCase()) !== -1;\n};\nvar getFileName = function getFileName(fileUrl) {\n  var slashSplit = fileUrl.split('/');\n  var nameAndHash = slashSplit[slashSplit.length - 1];\n  return nameAndHash.split('?')[0];\n};\n\nvar _loadingContainer, _thumbnail;\n\nvar Thumbnail$1 = function Thumbnail(props) {\n  var _useState = useState(false),\n      hovered = _useState[0],\n      setHovered = _useState[1];\n\n  var attachment = props.attachment;\n\n  var style = _extends({}, styles$b.thumbnail, {\n    border: hovered ? '1px solid #1890ff' : '1px solid #fff'\n  });\n\n  if (!attachment) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$b.loadingContainer\n    }, /*#__PURE__*/React.createElement(LoadingOutlined, {\n      style: {\n        color: 'white',\n        padding: '4px',\n        fontSize: '24px'\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"img\", {\n    onClick: function onClick() {\n      return window.open(attachment.file);\n    },\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    },\n    src: attachment.file,\n    alt: 'thumb-nail',\n    style: style\n  });\n};\nvar styles$b = {\n  loadingContainer: (_loadingContainer = {\n    width: '100%',\n    cursor: 'pointer',\n    textAlign: 'right',\n    display: 'inline-block',\n    objectFit: 'cover',\n    borderRadius: '0.3em',\n    marginRight: '2px',\n    marginBottom: '4px',\n    height: '30vw'\n  }, _loadingContainer[\"width\"] = '30vw', _loadingContainer.maxHeight = '200px', _loadingContainer.maxWidth = '200px', _loadingContainer.minHeight = '100px', _loadingContainer.minWidth = '100px', _loadingContainer.backgroundColor = '#d9d9d9', _loadingContainer),\n  thumbnail: (_thumbnail = {\n    width: '100%',\n    cursor: 'pointer',\n    textAlign: 'right',\n    display: 'inline',\n    objectFit: 'cover',\n    borderRadius: '0.3em',\n    paddingRight: '2px',\n    height: '30vw'\n  }, _thumbnail[\"width\"] = '30vw', _thumbnail.maxHeight = '200px', _thumbnail.maxWidth = '200px', _thumbnail.minHeight = '100px', _thumbnail.minWidth = '100px', _thumbnail)\n};\n\nvar FileView = function FileView(props) {\n  var _useState = useState(false),\n      hovered = _useState[0],\n      setHovered = _useState[1];\n\n  var attachment = props.attachment;\n\n  var style = _extends({}, styles$c.fileView, {\n    color: hovered ? '#1890ff' : '#434343',\n    border: hovered ? '1px solid #1890ff' : '1px solid #434343'\n  });\n\n  if (!attachment) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$c.loadingContainer\n    }, /*#__PURE__*/React.createElement(LoadingOutlined, {\n      style: {\n        color: 'white',\n        padding: '4px',\n        fontSize: '24px'\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: style,\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    },\n    onClick: function onClick() {\n      return window.open(attachment.file);\n    }\n  }, /*#__PURE__*/React.createElement(FileOutlined, null), ' ', getFileName(attachment.file));\n};\nvar styles$c = {\n  loadingContainer: {\n    display: 'inline-block',\n    borderRadius: '14px',\n    marginRight: '2px',\n    height: '48px',\n    width: '136px',\n    marginBottom: '4px',\n    marginLeft: '4px',\n    backgroundColor: '#d9d9d9'\n  },\n  fileView: {\n    padding: '12px',\n    borderRadius: '14px',\n    display: 'inline-block',\n    marginBottom: '4px',\n    marginRight: '2px',\n    cursor: 'pointer'\n  }\n};\n\nvar colors = ['#D64045', '#5B3000', '#00CC99', '#467599', '#1D3354', '#8F250C', '#6153CC', '#961D4E', '#A29F15', '#0CAADC', '#FF5154', '#FA7921', '#688E26', '#550527', '#A10702', '#FF1053', '#6C6EA0', '#100B00'];\n\nfunction stringToNumber(str) {\n  var sum = 0;\n\n  for (var i = 0; i < str.length; i++) {\n    sum = sum + str.charCodeAt(i) * i - 97;\n  }\n\n  return sum;\n}\n\nfunction stringToColor(str) {\n  if (!str) {\n    return 'black';\n  } else {\n    return colors[stringToNumber(str) % colors.length];\n  }\n}\n\nvar Dot = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Dot, _Component);\n\n  function Dot() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      avatar: ''\n    };\n    return _this;\n  }\n\n  var _proto = Dot.prototype;\n\n  _proto.updateImg = function updateImg() {\n    var avatar = this.props.avatar;\n    avatar = avatar && avatar !== null ? avatar : '';\n\n    if (avatar.split('?')[0] !== this.state.avatar.split('?')[0]) {\n      this.setState({\n        avatar: avatar\n      });\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateImg();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.updateImg();\n  };\n\n  _proto.render = function render() {\n    var username = this.props.username;\n    var color = stringToColor(username);\n    var customStyle = this.props.style ? this.props.style : {};\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-avatar-dot\",\n      style: _extends({}, styles$d.dot, customStyle, {\n        backgroundColor: this.state.avatar ? 'white' : color,\n        backgroundImage: this.state.avatar && \"url(\" + this.state.avatar + \")\",\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        backgroundSize: '14px',\n        width: this.props.visible ? '13px' : '0px',\n        height: this.props.visible ? '13px' : '0px'\n      })\n    });\n  };\n\n  return Dot;\n}(Component);\nvar styles$d = {\n  dot: {\n    borderRadius: '13px',\n    textAlign: 'center',\n    transition: \"all .33s ease\",\n    WebkitTransition: \"all .33s ease\",\n    MozTransition: \"all .33s ease\"\n  }\n};\nDot.propTypes = {\n  avatar: propTypes.string,\n  username: propTypes.string,\n  style: propTypes.object\n};\n\nvar Body = function Body(props) {\n  var text = props.text ? props.text : '';\n  text = text.replaceAll(\"<p>\", \"<div>\").replaceAll(\"</p>\", \"</div>\");\n  text = text.replaceAll(\"<a \", \"<a style=\\\"color: \" + (props.myMessage ? 'white' : '#1890ff') + \";\\\" \");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce_message\",\n    dangerouslySetInnerHTML: {\n      __html: text\n    }\n  });\n};\n\nsetConfiguration({\n  maxScreenClass: 'xl'\n});\n\nvar Message = function Message(props) {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn;\n\n  var _useState = useState(false),\n      hovered = _useState[0],\n      setHovered = _useState[1];\n\n  function renderReads() {\n    var chat = props.chat,\n        message = props.message;\n\n    if (!chat) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n\n    return chat.people.map(function (chatPerson, index) {\n      return /*#__PURE__*/React.createElement(Dot, {\n        key: \"read_\" + index,\n        avatar: chatPerson.person.avatar,\n        username: chatPerson.person.username,\n        visible: message.id === chatPerson.last_read,\n        style: {\n          \"float\": 'right',\n          marginLeft: '4px'\n        }\n      });\n    });\n  }\n\n  function renderImages() {\n    var message = props.message;\n    var attachments = message && message.attachments ? message.attachments : [];\n    return attachments.map(function (attachment, index) {\n      var fileName = getFileName(attachment.file ? attachment.file : attachment.name);\n\n      if (isImage(fileName)) {\n        return /*#__PURE__*/React.createElement(Thumbnail$1, {\n          attachment: attachment.file && attachment,\n          key: \"attachment_\" + index\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"attachment\" + index\n        });\n      }\n    });\n  }\n\n  function renderFiles() {\n    var message = props.message;\n    var attachments = message && message.attachments ? message.attachments : [];\n    return attachments.map(function (attachment, index) {\n      var fileName = getFileName(attachment.file ? attachment.file : attachment.name);\n\n      if (!isImage(fileName)) {\n        return /*#__PURE__*/React.createElement(FileView, {\n          attachment: attachment.file && attachment,\n          key: \"attachment_\" + index\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"attachment\" + index\n        });\n      }\n    });\n  }\n\n  var lastMessage = props.lastMessage,\n      message = props.message,\n      nextMessage = props.nextMessage;\n\n  if (!message) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  var attachments = message && message.attachments && message.attachments;\n  var topRightRadius = !lastMessage || lastMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em';\n  var bottomRightRadius = !nextMessage || nextMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em';\n  var borderRadius = \"1.3em \" + topRightRadius + \" \" + bottomRightRadius + \" 1.3em\";\n  var paddingBottom = !nextMessage || nextMessage.sender_username !== message.sender_username ? '12px' : '2px';\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-message-row ce-my-message\",\n    style: {\n      width: '100%',\n      textAlign: 'right',\n      paddingBottom: paddingBottom\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'auto'\n    },\n    className: \"ce-my-message-attachments-container ce-my-message-images-container\"\n  }, renderImages()), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'auto'\n    },\n    className: \"ce-my-message-attachments-container ce-my-message-files-container\"\n  }, renderFiles()), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      paddingRight: '2px'\n    },\n    className: \"ce-message-bubble-row ce-my-message-bubble-row\"\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    sm: 12,\n    md: 12\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ce-message-timestamp ce-my-message-timestamp\",\n    style: _extends({}, styles$e.timeTag, {\n      opacity: hovered ? '1' : '0'\n    })\n  }, formatTime(getDateTime(message.created, conn !== null && conn.offset))), !attachments || message.text && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\\n                                ce-message-bubble \\n                                ce-my-message-bubble \\n                                \" + (props.sending && 'ce-my-message-sinding-bubble') + \"\\n                            \",\n    style: _extends({}, styles$e.myMessage, {\n      borderRadius: borderRadius\n    }, {\n      backgroundColor: props.sending ? '#40a9ff' : 'rgb(24, 144, 255)'\n    }),\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    }\n  }, /*#__PURE__*/React.createElement(Body, {\n    myMessage: true,\n    text: message.text\n  }))), /*#__PURE__*/React.createElement(Col, {\n    xs: 1,\n    sm: 2,\n    md: 3\n  }), /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    className: \"ce-reads-row ce-my-reads-row\"\n  }, renderReads())));\n};\nvar styles$e = {\n  myMessage: {\n    color: 'white',\n    cursor: 'pointer',\n    \"float\": 'right',\n    textAlign: 'left',\n    padding: '12px',\n    fontSize: '15px',\n    whiteSpace: 'pre-line',\n    overflowWrap: 'anywhere',\n    maxWidth: 'calc(100% - 100px)',\n    transition: \"all .33s ease\",\n    WebkitTransition: \"all .33s ease\",\n    MozTransition: \"all .33s ease\"\n  },\n  timeTag: {\n    position: 'relative',\n    top: 'calc(50% - 12px)',\n    right: '8px',\n    fontSize: '14px',\n    color: 'rgb(24, 144, 255)',\n    transition: \"all .15s ease\",\n    WebkitTransition: \"all .15s ease\",\n    MozTransition: \"all .15s ease\"\n  }\n};\n\nsetConfiguration({\n  maxScreenClass: 'xl'\n});\n\nvar TheirMessage = function TheirMessage(props) {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn;\n\n  var _useState = useState(false),\n      hovered = _useState[0],\n      setHovered = _useState[1];\n\n  function renderReads() {\n    var chat = props.chat,\n        message = props.message;\n\n    if (!chat) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n\n    return chat.people.map(function (person, index) {\n      return /*#__PURE__*/React.createElement(Dot$1, {\n        key: \"read_\" + index,\n        avatar: person.person.avatar,\n        username: person.person.username,\n        visible: message.id === person.last_read,\n        style: {\n          \"float\": 'left',\n          marginLeft: '4px'\n        }\n      });\n    });\n  }\n\n  function renderImages() {\n    var message = props.message;\n    var attachments = message && message.attachments ? message.attachments : [];\n    return attachments.map(function (attachment, index) {\n      var fileName = getFileName(attachment.file);\n\n      if (isImage(fileName)) {\n        return /*#__PURE__*/React.createElement(Thumbnail$1, {\n          attachment: attachment,\n          key: \"attachment_\" + index\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"attachment\" + index\n        });\n      }\n    });\n  }\n\n  function renderFiles() {\n    var message = props.message;\n    var attachments = message && message.attachments ? message.attachments : [];\n    return attachments.map(function (attachment, index) {\n      var fileName = getFileName(attachment.file);\n\n      if (!isImage(fileName)) {\n        return /*#__PURE__*/React.createElement(FileView, {\n          attachment: attachment,\n          key: \"attachment_\" + index\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"attachment\" + index\n        });\n      }\n    });\n  }\n\n  var lastMessage = props.lastMessage,\n      message = props.message,\n      nextMessage = props.nextMessage;\n\n  if (!message) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  var attachments = message && message.attachments && message.attachments;\n  var topLeftRadius = !lastMessage || lastMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em';\n  var bottomLeftRadius = !nextMessage || nextMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em';\n  var borderRadius = topLeftRadius + \" 1.3em 1.3em \" + bottomLeftRadius;\n  var paddingBottom = !nextMessage || nextMessage.sender_username !== message.sender_username ? '12px' : '2px';\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      paddingBottom: paddingBottom\n    },\n    className: \"ce-message-row ce-their-message\"\n  }, (!lastMessage || lastMessage.sender_username !== message.sender_username) && /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$f.nameText,\n    className: \"ce-their-message-sender\"\n  }, message.sender_username), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      paddingLeft: '2px'\n    },\n    className: \"ce-their-message-row\"\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    sm: 12,\n    md: 12\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '0px'\n    },\n    className: \"ce-their-message-avatar\"\n  }, (!nextMessage || nextMessage.sender_username !== message.sender_username) && /*#__PURE__*/React.createElement(Avatar$1, {\n    show_online: false,\n    username: message.sender_username,\n    avatar: message.sender && message.sender.avatar\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'auto',\n      paddingLeft: '50px'\n    },\n    className: \"ce-their-message-attachments-container ce-their-message-images-container\"\n  }, renderImages()), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'auto',\n      paddingLeft: '50px'\n    },\n    className: \"ce-their-message-attachments-container ce-their-message-files-container\"\n  }, renderFiles()), !attachments || message.text && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingLeft: '48px'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-message-bubble ce-their-message-bubble\",\n    style: _extends({}, styles$f.theirMessage, {\n      borderRadius: borderRadius\n    }),\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    }\n  }, /*#__PURE__*/React.createElement(Body, {\n    text: message.text\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"ce-message-timestamp ce-their-message-timestamp\",\n    style: _extends({}, styles$f.timeTag, {\n      opacity: hovered ? '1' : '0'\n    })\n  }, formatTime(getDateTime(message.created, conn !== null && conn.offset)))), /*#__PURE__*/React.createElement(Col, {\n    xs: 9,\n    style: {\n      marginLeft: '48px'\n    },\n    className: \"ce-reads-row ce-their-reads-row\"\n  }, renderReads())));\n};\nvar styles$f = {\n  theirMessage: {\n    cursor: 'pointer',\n    color: 'black',\n    \"float\": 'left',\n    padding: '12px',\n    fontSize: '15px',\n    whiteSpace: 'pre-line',\n    backgroundColor: '#f1f0f0',\n    overflowWrap: 'anywhere',\n    maxWidth: 'calc(100% - 100px)',\n    transition: \"all .33s ease\",\n    WebkitTransition: \"all .33s ease\",\n    MozTransition: \"all .33s ease\"\n  },\n  nameText: {\n    paddingLeft: '62px',\n    paddingBottom: '2px',\n    color: 'rgba(0, 0, 0, .40)',\n    fontSize: '15px'\n  },\n  timeTag: {\n    position: 'relative',\n    top: 'calc(50% - 12px)',\n    left: '8px',\n    fontSize: '14px',\n    color: 'rgba(0, 0, 0, 0.4)',\n    transition: \"all .15s ease\",\n    WebkitTransition: \"all .15s ease\",\n    MozTransition: \"all .15s ease\"\n  }\n};\n\nvar Message$1 = function Message$1(props) {\n  var lastMessage = props.lastMessage,\n      message = props.message,\n      nextMessage = props.nextMessage,\n      chat = props.chat;\n\n  var _useContext = useContext(ChatEngineContext),\n      conn = _useContext.conn;\n\n  if (!message || !chat) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  if (!conn || conn === null) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-message-and-date\"\n  }, /*#__PURE__*/React.createElement(DatePartition, {\n    lastCreated: lastMessage ? lastMessage.created : null,\n    created: message.created,\n    offset: conn.offset\n  }), message.sender_username === conn.userName || message.sender_username === conn.senderUsername ? /*#__PURE__*/React.createElement(Message, {\n    chat: chat,\n    conn: conn,\n    sending: !message.id,\n    lastMessage: lastMessage,\n    message: message,\n    nextMessage: nextMessage\n  }) : /*#__PURE__*/React.createElement(TheirMessage, {\n    chat: chat,\n    conn: conn,\n    lastMessage: lastMessage,\n    message: message,\n    nextMessage: nextMessage\n  }));\n};\n\nvar Messages = function Messages(props) {\n  var _useContext = useContext(ChatEngineContext),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      messages = _useContext.messages,\n      activeChat = _useContext.activeChat,\n      setIsBottomVisible = _useContext.setIsBottomVisible;\n\n  var chat = chats && chats[activeChat];\n  var keys = Object.keys(messages);\n  if (!conn || conn === null || !chat) return /*#__PURE__*/React.createElement(\"div\", null);\n  return keys.map(function (key, index) {\n    var message = messages[key];\n    var lastMessageKey = index === 0 ? null : keys[index - 1];\n    var nextMessageKey = index === keys.length - 1 ? null : keys[index + 1];\n\n    if (props.renderMessageBubble) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"message_\" + index\n      }, index === keys.length - 1 && /*#__PURE__*/React.createElement(RenderTrigger, {\n        id: \"ce-first-message-render-trigger\",\n        onEnter: function onEnter() {\n          return setIsBottomVisible(true);\n        },\n        onLeave: function onLeave() {\n          return setIsBottomVisible(false);\n        }\n      }), props.renderMessageBubble(conn, chat, messages[lastMessageKey], message, messages[nextMessageKey]));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: \"message_\" + index,\n      id: \"ce-message-\" + message.id\n    }, index === keys.length - 1 && /*#__PURE__*/React.createElement(RenderTrigger, {\n      id: \"ce-last-message-render-trigger\",\n      onEnter: function onEnter() {\n        return setIsBottomVisible(true);\n      },\n      onLeave: function onLeave() {\n        return setIsBottomVisible(false);\n      }\n    }), /*#__PURE__*/React.createElement(Message$1, {\n      chat: chat,\n      message: message,\n      lastMessage: messages[lastMessageKey],\n      nextMessage: messages[nextMessageKey]\n    }));\n  });\n};\n\nvar IsTyping = function IsTyping() {\n  var didMountRef = useRef(false);\n\n  var _useState = useState(Date.now()),\n      currentTime = _useState[0],\n      setCurrentTime = _useState[1];\n\n  var _useContext = useContext(ChatEngineContext),\n      conn = _useContext.conn,\n      activeChat = _useContext.activeChat,\n      typingCounter = _useContext.typingCounter;\n\n  var typers = typingCounter && typingCounter[activeChat] ? typingCounter[activeChat] : [];\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      setInterval(function () {\n        setCurrentTime(Date.now());\n      }, 1000);\n    }\n  });\n  if (!conn || conn === null) return /*#__PURE__*/React.createElement(\"div\", null);\n  return /*#__PURE__*/React.createElement(\"div\", null, Object.keys(typers).map(function (username, index) {\n    if (conn.userName !== username && currentTime < typers[username] + 2000) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"typer_\" + index,\n        className: \"ce-user-typing-text\",\n        style: {\n          color: stringToColor(username),\n          padding: '2px',\n          paddingLeft: '12px'\n        }\n      }, username + \" is typing...\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"typer_\" + index\n      });\n    }\n  }));\n};\n\nvar images$1 = ['jpg', 'jpeg', 'png', 'gif', 'tiff'];\nvar isImage$1 = function isImage(fileName) {\n  var dotSplit = fileName.split('.');\n  return dotSplit.length > 0 && images$1.indexOf(dotSplit[dotSplit.length - 1].toLowerCase()) !== -1;\n};\n\nvar FilePreview = function FilePreview(props) {\n  var _useState = useState(false),\n      hovered = _useState[0],\n      setHovered = _useState[1];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    },\n    style: _extends({}, styles$g.filePreview, {\n      paddingRight: hovered ? '6px' : '26px'\n    })\n  }, /*#__PURE__*/React.createElement(FileOutlined, null), ' ', props.file && props.file.name, \" \", ' ', hovered && /*#__PURE__*/React.createElement(CloseCircleTwoTone, {\n    style: styles$g.closeIcon,\n    onClick: function onClick() {\n      return props.onRemove && props.onRemove();\n    }\n  }));\n};\nvar styles$g = {\n  filePreview: {\n    padding: '12px',\n    display: 'inline-block',\n    position: \"relative\",\n    border: '1px solid #40a9ff',\n    color: '#434343',\n    borderRadius: '14px'\n  },\n  closeIcon: {}\n};\n\nvar FilesRow = function FilesRow(props) {\n  function renderFiles() {\n    return props.files.map(function (file, index) {\n      if (!isImage$1(file.name)) {\n        return /*#__PURE__*/React.createElement(FilePreview, {\n          file: file,\n          key: \"thumb_\" + index,\n          onRemove: function onRemove() {\n            return props.onRemove && props.onRemove(index);\n          }\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"no_file_\" + index\n        });\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-message-files-row\",\n    style: {\n      width: '100%',\n      padding: props.files.lenth > 0 ? '6px 16px' : '0px'\n    }\n  }, renderFiles());\n};\n\nvar Thumbnail$2 = function Thumbnail(props) {\n  var _useState = useState(false),\n      hovered = _useState[0],\n      setHovered = _useState[1];\n\n  var _useState2 = useState(''),\n      blob = _useState2[0],\n      setBlob = _useState2[1];\n\n  useEffect(function () {\n    setBlob(URL.createObjectURL(props.file));\n  }, [props.file]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '6px',\n      display: 'inline-block',\n      position: \"relative\"\n    },\n    onMouseEnter: function onMouseEnter() {\n      return setHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHovered(false);\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: styles$h.imageSquare,\n    alt: props.file ? props.file.name : '',\n    src: blob\n  }), hovered && /*#__PURE__*/React.createElement(CloseCircleTwoTone, {\n    style: styles$h.closeIcon,\n    onClick: function onClick() {\n      return props.onRemove && props.onRemove();\n    }\n  }));\n};\nvar styles$h = {\n  imageSquare: {\n    height: '108px',\n    width: '108px',\n    border: '1px solid #afafaf',\n    borderRadius: '8px',\n    objectFit: 'cover',\n    display: 'inline'\n  },\n  closeIcon: {\n    position: 'absolute',\n    bottom: 'calc(100% - 32px)',\n    left: '96px',\n    width: '0px',\n    cursor: 'pointer'\n  }\n};\n\nvar ImagesRow = function ImagesRow(props) {\n  function renderFiles() {\n    return props.files.map(function (file, index) {\n      if (isImage$1(file.name)) {\n        return /*#__PURE__*/React.createElement(Thumbnail$2, {\n          file: file,\n          key: \"thumb_\" + index,\n          onRemove: function onRemove() {\n            return props.onRemove && props.onRemove(index);\n          }\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: \"no_thumb_\" + index\n        });\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-message-images-row\",\n    style: {\n      width: '100%',\n      paddingLeft: '12px'\n    }\n  }, renderFiles());\n};\n\nvar AttachmentsInput = function AttachmentsInput(props) {\n  var _useState = useState({\n    hovered: false\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  function onSelect(event) {\n    var files = Array.from(event.target.files);\n    props.onSelectFiles && props.onSelectFiles(files);\n  }\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"uploader\",\n    encType: \"multipart/form-data\",\n    style: {\n      height: '0px'\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"files\",\n    id: \"upload-document-button\"\n  }, /*#__PURE__*/React.createElement(PaperClipOutlined, {\n    className: \"ce-attachment-icon\",\n    onMouseEnter: function onMouseEnter() {\n      return setState(_extends({}, state, {\n        hovered: true\n      }));\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setState(_extends({}, state, {\n        hovered: false\n      }));\n    },\n    style: _extends({}, styles$i.icon, {\n      color: state.hovered ? '#06c' : '#444'\n    })\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    multiple: true,\n    id: \"files\",\n    style: {\n      visibility: \"hidden\"\n    },\n    type: \"file\",\n    onChange: function onChange(e) {\n      return onSelect(e);\n    },\n    onClick: function onClick(e) {\n      return e.target.value = null;\n    }\n  }));\n};\n\nvar styles$i = {\n  icon: {\n    background: 'none',\n    border: 'none',\n    cursor: 'pointer',\n    display: 'inline-block',\n    \"float\": 'left',\n    height: '24px',\n    padding: '4px 5px',\n    width: '28px'\n  }\n};\n\nvar SendButton = function SendButton() {\n  var _useState = useState(false),\n      hover = _useState[0],\n      setHover = _useState[1];\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"0px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-send-message-button\",\n    onMouseEnter: function onMouseEnter() {\n      return setHover(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHover(false);\n    },\n    style: {\n      cursor: 'pointer',\n      backgroundColor: hover ? '#40a9ff' : '#1890ff',\n      display: 'inline-block',\n      padding: '5px 9px',\n      borderRadius: '8px'\n    }\n  }, /*#__PURE__*/React.createElement(ArrowUpOutlined, {\n    style: {\n      color: 'white'\n    }\n  })));\n};\n\nvar modules = {\n  toolbar: {\n    container: \"#toolbar\"\n  }\n};\nvar formats = ['bold', 'italic', 'underline', 'strike', 'code', 'list', 'bullet', 'indent', 'link', 'code'];\n\nvar FormHtmlEditor = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(FormHtmlEditor, _Component);\n\n  function FormHtmlEditor(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    if (document) {\n      _this.quill = require('react-quill');\n    }\n\n    return _this;\n  }\n\n  var _proto = FormHtmlEditor.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var Quill = this.quill;\n    if (!Quill) return /*#__PURE__*/React.createElement(\"div\", null);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-quill-container\"\n    }, /*#__PURE__*/React.createElement(Quill, {\n      theme: \"snow\",\n      modules: modules,\n      formats: formats,\n      value: this.props.value,\n      onChange: this.props.onChange,\n      onKeyDown: function onKeyDown(e) {\n        if (e.keyCode === 13) {\n          _this2.props.onSubmit();\n        }\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"toolbar\"\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ql-bold\"\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ql-italic\"\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ql-underline\"\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ql-strike\"\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ql-code\"\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"ql-link\"\n    }), /*#__PURE__*/React.createElement(AttachmentsInput, {\n      onSelectFiles: function onSelectFiles(attachments) {\n        return _this2.props.onAttach(attachments);\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-send-button-container\",\n      onClick: this.props.onSubmit.bind(this),\n      style: {\n        position: 'absolute',\n        right: '5px',\n        bottom: '37px'\n      }\n    }, /*#__PURE__*/React.createElement(SendButton, null))), /*#__PURE__*/React.createElement(\"style\", null, \"\\n                /*!\\n                * Quill Editor v1.3.7\\n                * https://quilljs.com/\\n                * Copyright (c) 2014, Jason Chen\\n                * Copyright (c) 2013, salesforce.com\\n                */\\n                .ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li::before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:0;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6,.ql-editor ol,.ql-editor p,.ql-editor pre,.ql-editor ul{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li::before{content:{};}.ql-editor ul[data-checked=false]{pointer-events:none}.ql-editor ul[data-checked=false]>li *,.ql-editor ul[data-checked=true]>li *{pointer-events:all}.ql-editor ul[data-checked=false]>li::before,.ql-editor ul[data-checked=true]>li::before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li::before{content:{};}.ql-editor li:not(.ql-direction-rtl)::before{margin-left:-1.5em;margin-right:.3em;text-align:right}.ql-editor li.ql-direction-rtl::before{margin-left:.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) '. '}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) '. '}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) '. '}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) '. '}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) '. '}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) '. '}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) '. '}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) '. '}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) '. '}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) '. '}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank::before{color:rgba(0,0,0,.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow .ql-toolbar:after,.ql-snow.ql-toolbar:after{clear:both;content:'';display:table}.ql-snow .ql-toolbar button,.ql-snow.ql-toolbar button{background:0 0;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow .ql-toolbar button svg,.ql-snow.ql-toolbar button svg{float:left;height:100%}.ql-snow .ql-toolbar button:active:hover,.ql-snow.ql-toolbar button:active:hover{outline:0}.ql-snow .ql-toolbar input.ql-image[type=file],.ql-snow.ql-toolbar input.ql-image[type=file]{display:none}.ql-snow .ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar button.ql-active,.ql-snow .ql-toolbar button:focus,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar button.ql-active,.ql-snow.ql-toolbar button:focus,.ql-snow.ql-toolbar button:hover{color:#06c}.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill{fill:#06c}.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter{stroke:#06c}@media (pointer:coarse){.ql-snow .ql-toolbar button:hover:not(.ql-active),.ql-snow.ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow{box-sizing:border-box}.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:'';display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-stroke.ql-thin,.ql-snow .ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label::before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-item::before,.ql-snow .ql-picker.ql-header .ql-picker-label::before{content:'Normal'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"1\\\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"1\\\"]::before{content:'Heading 1'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"2\\\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"2\\\"]::before{content:'Heading 2'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"3\\\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"3\\\"]::before{content:'Heading 3'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"4\\\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"4\\\"]::before{content:'Heading 4'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"5\\\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"5\\\"]::before{content:'Heading 5'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"6\\\"]::before,.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\\\"6\\\"]::before{content:'Heading 6'}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"1\\\"]::before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"2\\\"]::before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"3\\\"]::before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"4\\\"]::before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"5\\\"]::before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\\\"6\\\"]::before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-item::before,.ql-snow .ql-picker.ql-font .ql-picker-label::before{content:'Sans Serif'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before{content:'Serif'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before{content:'Monospace'}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-item::before,.ql-snow .ql-picker.ql-size .ql-picker-label::before{content:'Normal'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before{content:'Small'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before{content:'Large'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before{content:'Huge'}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:rgba(0,0,0,.2) 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label{border-color:#ccc}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip::before{content:\\\"Visit URL:\\\";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action::after{border-right:1px solid #ccc;content:'Edit';margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove::before{content:'Remove';margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action::after{border-right:0;content:'Save';padding-right:0}.ql-snow .ql-tooltip[data-mode=link]::before{content:\\\"Enter link:\\\"}.ql-snow .ql-tooltip[data-mode=formula]::before{content:\\\"Enter formula:\\\"}.ql-snow .ql-tooltip[data-mode=video]::before{content:\\\"Enter video:\\\"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}\\n                \"));\n  };\n\n  return FormHtmlEditor;\n}(Component);\n\nvar _this$3 = undefined;\n\nvar NewMessageForm$1 = function NewMessageForm() {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      activeChat = _useContext.activeChat,\n      messages = _useContext.messages,\n      setMessages = _useContext.setMessages;\n\n  var _useState = useState(0),\n      iter = _useState[0],\n      setIter = _useState[1];\n\n  var _useState2 = useState(''),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var _useState3 = useState(0),\n      trigger = _useState3[0],\n      setTrigger = _useState3[1];\n\n  var _useState4 = useState([]),\n      attachments = _useState4[0],\n      setAttachments = _useState4[1];\n\n  function _onRemove(index) {\n    var newAttachments = attachments;\n    newAttachments.splice(index, 1);\n    setAttachments(newAttachments);\n    setIter(iter + 1);\n  }\n\n  function handleChange(value) {\n    setValue(value);\n    setTrigger((trigger + 1) % 4);\n\n    if (trigger === 1) {\n      conn && isTyping$1(conn, activeChat);\n    }\n  }\n\n  function handleSubmit() {\n    if (!conn) return;\n    var text = value.trim();\n\n    if (text.length > 11 && text.slice(-11) === '<p><br></p>') {\n      text = text.substr(0, text.length - 11);\n    }\n\n    var custom_json = {\n      sender_id: Date.now().toString()\n    };\n    var sender_username = conn.userName ? conn.userName : conn.senderUsername;\n    var created = new Date().toISOString().replace('T', ' ').replace('Z', Math.floor(Math.random() * 1000) + \"+00:00\");\n    var data = {\n      text: text,\n      attachments: attachments,\n      custom_json: custom_json,\n      sender_username: sender_username,\n      chat: activeChat,\n      created: created\n    };\n\n    if (text.length > 0 || attachments.length > 0) {\n      sendMessage$1(conn, activeChat, data, function () {});\n    }\n\n    setValue('');\n    setAttachments([]);\n\n    var newMessages = _extends({}, messages);\n\n    newMessages[data.created] = data;\n    setMessages(newMessages);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"msg-form-container\",\n    style: styles$j.NewMessageFormContainer,\n    className: \"ce-message-form-container\"\n  }, /*#__PURE__*/React.createElement(ImagesRow, {\n    files: attachments,\n    onRemove: function onRemove(i) {\n      return _onRemove(i);\n    }\n  }), /*#__PURE__*/React.createElement(FilesRow, {\n    files: attachments,\n    onRemove: function onRemove(i) {\n      return _onRemove(i);\n    }\n  }), /*#__PURE__*/React.createElement(FormHtmlEditor, {\n    theme: \"snow\",\n    value: value,\n    onChange: handleChange.bind(_this$3),\n    onSubmit: handleSubmit.bind(_this$3),\n    onAttach: setAttachments.bind(_this$3)\n  }));\n};\nvar styles$j = {\n  NewMessageFormContainer: {\n    position: 'absolute',\n    bottom: '0px',\n    width: '100%',\n    backgroundColor: 'white'\n  }\n};\n\nvar ScrollDownBar = function ScrollDownBar(props) {\n  var didMountRef = useRef(false);\n\n  var _useState = useState(false),\n      isVisible = _useState[0],\n      setIsVisible = _useState[1];\n\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      isBottomVisible = _useContext.isBottomVisible;\n\n  var chat = props.chat;\n  useEffect(function () {\n    if (!didMountRef.current) {\n      didMountRef.current = true;\n      setTimeout(function () {\n        return setIsVisible(true);\n      }, props.renderDelay ? props.renderDelay : 0);\n    }\n  });\n  if (conn === null || !chat || chat === null) return /*#__PURE__*/React.createElement(\"div\", null);\n  var lastReadMessage = undefined;\n  chat.people.map(function (person) {\n    if (person.person.username === conn.userName) {\n      lastReadMessage = person.last_read;\n    }\n  });\n\n  if (!isVisible || isBottomVisible || chat.last_message.id === undefined || chat.last_message.id === lastReadMessage) {\n    return /*#__PURE__*/React.createElement(\"div\", null);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      zIndex: '1',\n      bottom: '94px',\n      left: 'calc(50% - 78px)',\n      position: 'absolute',\n      fontSize: '15px',\n      padding: '10px 22px',\n      color: 'white',\n      backgroundColor: '#389e0d',\n      borderRadius: '1.3em',\n      cursor: 'pointer'\n    },\n    id: \"ce-scroll-down-bar\",\n    onClick: function onClick() {\n      return animateScroll.scrollToBottom({\n        duration: 333,\n        containerId: \"ce-feed-container\"\n      });\n    }\n  }, /*#__PURE__*/React.createElement(CaretDownOutlined, null), conn.userName ? ' Unread Messages' : ' Scroll to Bottom');\n};\n\nvar initial = 45;\nvar count = initial;\nvar interval$1 = 33;\n\nvar ChatFeed = function ChatFeed(props) {\n  var _useState = useState(false),\n      hasFetchedMessages = _useState[0],\n      setHasFetchedMessages = _useState[1];\n\n  var _useState2 = useState(null),\n      currentChat = _useState2[0],\n      setCurrentChat = _useState2[1];\n\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      chats = _useContext.chats,\n      setChats = _useContext.setChats,\n      messages = _useContext.messages,\n      setMessages = _useContext.setMessages,\n      activeChat = _useContext.activeChat,\n      setActiveChat = _useContext.setActiveChat,\n      loadMoreMessages = _useContext.loadMoreMessages,\n      setLoadMoreMessages = _useContext.setLoadMoreMessages,\n      isBottomVisible = _useContext.isBottomVisible,\n      typingCounter = _useContext.typingCounter;\n\n  var typers = typingCounter && typingCounter[activeChat] ? typingCounter[activeChat] : [];\n  var chat = chats && chats[currentChat];\n\n  var needsIceBreaker = hasFetchedMessages && _$1.isEmpty(messages);\n\n  function onReadMessage(chat) {\n    if (chats) {\n      var newChats = _extends({}, chats);\n\n      newChats[chat.id] = chat;\n      setChats(newChats);\n    }\n  }\n\n  function onGetMessages(chatId, messages, scrollDownTo) {\n    setHasFetchedMessages(true);\n    setMessages(_$1.mapKeys(messages, 'created'));\n\n    if (messages.length > 0) {\n      var message = messages[messages.length - 1];\n\n      if (props.userName && props.userName !== message.sender_username) {\n        readMessage$1(conn, chatId, message.id, function (chat) {\n          return onReadMessage(chat);\n        });\n      }\n    }\n\n    if (scrollDownTo) {\n      animateScroll.scrollToBottom({\n        duration: 0,\n        containerId: scrollDownTo\n      });\n    }\n\n    props.onGetMessages && props.onGetMessages(chatId, messages);\n  }\n\n  function loadMessages(loadMoreMessages) {\n    if (loadMoreMessages) {\n      count = count + interval$1;\n      setLoadMoreMessages(false);\n      getLatestMessages$1(conn, activeChat, count, function (chatId, messages) {\n        return onGetMessages(chatId, messages, false);\n      });\n    } else if (conn && !props.activeChat && activeChat !== null && activeChat !== currentChat) {\n      count = initial;\n      setCurrentChat(activeChat);\n      getLatestMessages$1(conn, activeChat, count, function (chatId, messages) {\n        return onGetMessages(chatId, messages, 'ce-feed-container');\n      });\n    } else if (conn && props.activeChat && props.activeChat !== currentChat) {\n      count = initial;\n      setActiveChat(props.activeChat);\n      setCurrentChat(props.activeChat);\n      getLatestMessages$1(conn, props.activeChat, count, function (chatId, messages) {\n        return onGetMessages(chatId, messages, 'ce-feed-container');\n      });\n    }\n  }\n\n  useEffect(function () {\n    loadMessages(false);\n  }, [conn, activeChat, currentChat]);\n  useEffect(function () {\n    loadMessages(loadMoreMessages);\n  }, [loadMoreMessages]);\n\n  function getMyLastMessage(userName, chat) {\n    var lastReadMessage = undefined;\n    chat.people.map(function (person) {\n      if (person.person.username === userName) {\n        lastReadMessage = person.last_read;\n      }\n    });\n    return lastReadMessage;\n  }\n\n  useEffect(function () {\n    if (isBottomVisible && !_$1.isEmpty(messages)) {\n      setTimeout(function () {\n        animateScroll.scrollToBottom({\n          duration: 333,\n          containerId: 'ce-feed-container'\n        });\n      }, 100);\n\n      if (getMyLastMessage(conn.userName, chat) && getMyLastMessage(conn.userName, chat) !== chat.last_message.id) {\n        readMessage$1(conn, currentChat, chat.last_message.id, function (chat) {\n          return onReadMessage(chat);\n        });\n      }\n    }\n  }, [messages, isBottomVisible]);\n\n  if (conn === undefined) {\n    return /*#__PURE__*/React.createElement(AuthFail, props);\n  } else if (conn && chats !== null && _$1.isEmpty(chats)) {\n    return /*#__PURE__*/React.createElement(CreateChat, null);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-feed\",\n    style: {\n      height: '100%',\n      maxHeight: '100vh',\n      backgroundColor: '#f0f0f0'\n    }\n  }, props.renderChatHeader ? props.renderChatHeader(chat) : /*#__PURE__*/React.createElement(ChatHeader, null), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-feed-container\",\n    style: styles$k.feedContainer,\n    className: \"ce-chat-feed-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '88px'\n    },\n    className: \"ce-feed-container-top\"\n  }), Object.keys(messages).length > 0 && /*#__PURE__*/React.createElement(RenderTrigger, {\n    onEnter: function onEnter() {\n      return setLoadMoreMessages(true);\n    }\n  }), needsIceBreaker && props.renderIceBreaker && props.renderIceBreaker(chat), needsIceBreaker && !props.renderIceBreaker && /*#__PURE__*/React.createElement(IceBreaker, null), /*#__PURE__*/React.createElement(Messages, props), props.renderIsTyping ? props.renderIsTyping(typers) : /*#__PURE__*/React.createElement(IsTyping, null), props.renderScrollDownBar ? props.renderScrollDownBar(chat) : /*#__PURE__*/React.createElement(ScrollDownBar, {\n    chat: chat,\n    renderDelay: 3000\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '86px'\n    },\n    className: \"ce-feed-container-bottom\"\n  })), props.renderNewMessageForm ? props.renderNewMessageForm(props, currentChat) : /*#__PURE__*/React.createElement(NewMessageForm$1, null));\n};\nvar styles$k = {\n  feedContainer: {\n    width: '100%',\n    height: '100%',\n    maxHeight: '100vh',\n    overflowX: 'hidden',\n    overflowY: 'scroll',\n    backgroundColor: 'white'\n  }\n};\n\nsetConfiguration({\n  maxScreenClass: 'xl',\n  gutterWidth: 0\n});\n\nvar ChatEngine = function ChatEngine(props) {\n  var context = useContext(ChatEngineContext);\n  var height = props.height;\n\n  var propsAndContext = _extends({}, props, context);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ce-chat-engine\",\n    style: {\n      textAlign: 'left',\n      backgroundColor: 'white'\n    }\n  }, /*#__PURE__*/React.createElement(Socket$1, props), /*#__PURE__*/React.createElement(Row, {\n    className: \"ce-wrapper\"\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 0,\n    sm: 3,\n    style: {\n      height: height ? height : ''\n    },\n    className: \"ce-chat-list-column\"\n  }, props.renderChatList ? props.renderChatList(propsAndContext) : /*#__PURE__*/React.createElement(ChatList, _extends({}, propsAndContext, {\n    onChatClick: function onChatClick(chatID) {\n      if (props.renderChatFeed) {\n        getLatestMessages$1(props, chatID, 45, function (id, list) {\n          context.setMessages(_extends({}, _$1.mapKeys(list, 'created')));\n        });\n      }\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    sm: 6,\n    style: {\n      height: height ? height : ''\n    },\n    className: \"ce-chat-feed-column\"\n  }, props.renderChatFeed ? props.renderChatFeed(propsAndContext) : /*#__PURE__*/React.createElement(ChatFeed, propsAndContext)), /*#__PURE__*/React.createElement(Col, {\n    xs: 0,\n    sm: 3,\n    style: {\n      height: height ? height : ''\n    },\n    className: \"ce-settings-column\"\n  }, props.renderChatSettings ? props.renderChatSettings(props) : /*#__PURE__*/React.createElement(ChatSettings, props))));\n};\n\nvar ChatEngineApp = function ChatEngineApp(props) {\n  if (useContext(ChatEngineContext)) {\n    return /*#__PURE__*/React.createElement(ChatEngine, props);\n  } else {\n    return /*#__PURE__*/React.createElement(ChatEngineWrapper, null, /*#__PURE__*/React.createElement(ChatEngine, props));\n  }\n};\n\nvar _dangerButton;\n\nvar Button = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Button, _Component);\n\n  function Button() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      hovered: false\n    };\n    return _this;\n  }\n\n  var _proto = Button.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        value = _this$props.value,\n        icon = _this$props.icon,\n        theme = _this$props.theme,\n        style = _this$props.style,\n        id = _this$props.id,\n        type = _this$props.type,\n        _onClick = _this$props.onClick;\n    var customStyle = style ? style : {};\n    var hoverStyle = this.state.hovered ? styles$l.hoverButton : {};\n    var themeStyle = theme === 'danger' ? styles$l.dangerButton : styles$l.button;\n    return /*#__PURE__*/React.createElement(\"button\", {\n      id: id,\n      type: type,\n      onClick: function onClick() {\n        return _onClick && _onClick();\n      },\n      onMouseEnter: function onMouseEnter() {\n        return _this2.setState({\n          hovered: true\n        });\n      },\n      onMouseLeave: function onMouseLeave() {\n        return _this2.setState({\n          hovered: false\n        });\n      },\n      style: _extends({}, themeStyle, customStyle, hoverStyle),\n      className: \"ce-primary-button \" + (theme === 'danger' ? 'ce-danger-button' : '')\n    }, icon === 'plus' && /*#__PURE__*/React.createElement(PlusOutlined, null), icon === 'delete' && /*#__PURE__*/React.createElement(DeleteOutlined, null), icon === 'user-add' && /*#__PURE__*/React.createElement(UserAddOutlined, null), value && icon ? \" \" + value : value);\n  };\n\n  return Button;\n}(Component);\nvar styles$l = {\n  button: {\n    color: 'white',\n    border: 'none',\n    outline: 'none',\n    height: '36px',\n    fontSize: '15px',\n    cursor: 'pointer',\n    padding: '8px 16px',\n    borderRadius: '33px',\n    backgroundColor: '#1890ff'\n  },\n  dangerButton: (_dangerButton = {\n    color: 'red',\n    border: 'none',\n    outline: 'none',\n    height: '36px',\n    fontSize: '15px',\n    cursor: 'pointer',\n    padding: '8px 16px',\n    borderRadius: '33px',\n    backgroundColor: 'white'\n  }, _dangerButton[\"border\"] = '1px solid red', _dangerButton),\n  hoverButton: {\n    opacity: '0.66'\n  }\n};\nButton.propTypes = {\n  value: propTypes.string,\n  onClick: propTypes.func,\n  style: propTypes.object,\n  id: propTypes.string,\n  icon: propTypes.oneOf([undefined, 'plus', 'delete', 'user-add']),\n  theme: propTypes.oneOf([undefined, 'danger']),\n  type: propTypes.oneOf([undefined, 'submit'])\n};\n\nvar Avatar = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Avatar, _Component);\n\n  function Avatar() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      avatar: ''\n    };\n    return _this;\n  }\n\n  var _proto = Avatar.prototype;\n\n  _proto.updateImg = function updateImg() {\n    var avatar = this.props.avatar;\n    avatar = avatar && avatar !== null ? avatar : '';\n\n    if (avatar.split('?')[0] !== this.state.avatar.split('?')[0]) {\n      this.setState({\n        avatar: avatar\n      });\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateImg();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.updateImg();\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        username = _this$props.username,\n        is_online = _this$props.is_online;\n    var customStyle = this.props.style ? this.props.style : {};\n    var text = username ? username.substring(0, 2).toUpperCase() : '';\n    var color = stringToColor(username);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '48px',\n        height: '48px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '0px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-avatar\",\n      style: _extends({}, styles$m.avatar, customStyle, {\n        backgroundColor: this.state.avatar ? 'white' : color,\n        backgroundImage: this.state.avatar && \"url(\" + this.state.avatar + \")\",\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        backgroundSize: '48px'\n      })\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-avatar-text\",\n      style: styles$m.avatarText\n    }, !this.state.avatar && text))), this.props.show_online !== false && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-avatar-status\",\n      style: _extends({}, styles$m.status, {\n        backgroundColor: is_online ? '#52c41a' : '#f5222d'\n      })\n    }));\n  };\n\n  return Avatar;\n}(Component);\nvar styles$m = {\n  avatar: {\n    width: '44px',\n    height: '44px',\n    borderRadius: '22px',\n    color: 'white',\n    textAlign: 'center'\n  },\n  avatarText: {\n    color: 'white',\n    paddingTop: '12px',\n    fontSize: '15px',\n    fontWeight: '600'\n  },\n  status: {\n    width: '8px',\n    height: '8px',\n    borderRadius: '100%',\n    border: '2px solid white'\n  }\n};\nAvatar.propTypes = {\n  avatar: propTypes.string,\n  username: propTypes.string,\n  style: propTypes.object,\n  is_online: propTypes.bool,\n  show_online: propTypes.bool\n};\n\nvar TextInput = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TextInput, _Component);\n\n  function TextInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      focused: false,\n      value: null\n    };\n    return _this;\n  }\n\n  var _proto = TextInput.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var value = this.props[\"default\"];\n\n    if (value) {\n      var event = {\n        target: {\n          value: value\n        }\n      };\n      this.props.handleChange(event);\n      this.setState({\n        value: value\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var customStyle = this.props.style ? this.props.style : {};\n    var defaultStyle = this.state.focused ? styles$n.focusInput : styles$n.input;\n    return (\n      /*#__PURE__*/\n      React.createElement(\"input\", {\n        id: this.props.id,\n        autoFocus: this.props.autoFocus,\n        className: \"ce-input ce-text-input\",\n        value: this.props.value,\n        placeholder: this.props.label,\n        style: _extends({}, defaultStyle, customStyle),\n        onBlur: function onBlur() {\n          _this2.setState({\n            focused: false\n          });\n\n          _this2.props.onBlur && _this2.props.onBlur();\n        },\n        onFocus: function onFocus() {\n          _this2.setState({\n            focused: true\n          });\n\n          _this2.props.onFocus && _this2.props.onFocus();\n        },\n        type: this.props.type ? this.props.type : \"text\",\n        onChange: function onChange(e) {\n          return _this2.props.handleChange && _this2.props.handleChange(e);\n        }\n      })\n    );\n  };\n\n  return TextInput;\n}(Component);\nvar styles$n = {\n  input: {\n    height: '36px',\n    fontSize: '15px',\n    outline: 'none',\n    borderRadius: '24px',\n    border: '1px solid #d9d9d9',\n    padding: '0px 12px',\n    boxSizing: 'border-box'\n  },\n  focusInput: {\n    height: '36px',\n    fontSize: '15px',\n    outline: 'none',\n    borderRadius: '24px',\n    border: '1px solid #1890ff',\n    padding: '0px 12px',\n    boxSizing: 'border-box'\n  }\n};\nTextInput.propTypes = {\n  \"default\": propTypes.string,\n  value: propTypes.string,\n  label: propTypes.string,\n  type: propTypes.oneOf(['text', 'password', 'number']),\n  autoFocus: propTypes.bool,\n  id: propTypes.string,\n  style: propTypes.object,\n  handleChange: propTypes.func,\n  onFocus: propTypes.func,\n  onBlur: propTypes.func\n};\n\nvar AutoCompleteInput = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(AutoCompleteInput, _Component);\n\n  function AutoCompleteInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      focused: false,\n      showAll: false\n    };\n    return _this;\n  }\n\n  var _proto = AutoCompleteInput.prototype;\n\n  _proto.onFocus = function onFocus() {\n    this.onChange('', true);\n    this.setState({\n      focused: true\n    });\n    this.props.onFocus && this.props.onFocus();\n  };\n\n  _proto.onBlur = function onBlur() {\n    this.setState({\n      focused: false\n    });\n    this.props.onBlur && this.props.onBlur();\n  };\n\n  _proto.onChange = function onChange(value, showAll) {\n    this.setState({\n      showAll: showAll\n    });\n    this.props.handleChange && this.props.handleChange(value);\n  };\n\n  _proto.getNames = function getNames() {\n    var _this2 = this;\n\n    var count = 0;\n    var max = this.props.max ? this.props.max : 3;\n    var results = [];\n    this.props.options.map(function (option) {\n      if (JSON.stringify(option).toLowerCase().indexOf(_this2.props.value.toLowerCase()) !== -1 && count < max) {\n        count = count + 1;\n        results.push(option);\n      }\n    });\n    return results;\n  };\n\n  _proto.renderOptions = function renderOptions() {\n    var _this3 = this;\n\n    if (!this.props.value && !this.state.showAll) {\n      return /*#__PURE__*/React.createElement(\"div\", null);\n    }\n\n    var results = this.getNames();\n    return results.map(function (option, index) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"option_\" + index,\n        className: \"ce-autocomplete-option\"\n      }, _this3.props.renderOption && _this3.props.renderOption(option), index === results.length - 1 && /*#__PURE__*/React.createElement(\"div\", {\n        style: styles$o.close,\n        className: \"ce-autocomplete-close\",\n        onClick: function onClick() {\n          return _this3.onChange('', false);\n        }\n      }, /*#__PURE__*/React.createElement(CloseOutlined, null)));\n    });\n  };\n\n  _proto.render = function render() {\n    var _this4 = this;\n\n    var options = this.props.options;\n    var customStyle = this.props.style ? this.props.style : {};\n\n    var defaultStyle = _extends({}, styles$o.input, {\n      border: this.state.focused ? '1px solid #1890ff' : '1px solid #d9d9d9'\n    });\n\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"ce-add-username-input\",\n      className: \"ce-input ce-autocomplete-input\",\n      value: this.props.value,\n      placeholder: this.props.label,\n      style: _extends({}, defaultStyle, customStyle),\n      type: this.props.type ? this.props.type : \"text\",\n      onBlur: function onBlur() {\n        return _this4.onBlur();\n      },\n      onFocus: function onFocus() {\n        return _this4.onFocus();\n      },\n      onChange: function onChange(e) {\n        return _this4.onChange(e.target.value, true);\n      }\n    }), options && options.length > 0 && this.state.showAll && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ce-autocomplete-options\",\n      style: {\n        borderRadius: '19px',\n        border: '1px solid #afafaf',\n        overflow: 'hidden'\n      }\n    }, this.props.options && this.renderOptions()));\n  };\n\n  return AutoCompleteInput;\n}(Component);\nvar styles$o = {\n  input: {\n    height: '36px',\n    fontSize: '15px',\n    outline: 'none',\n    borderRadius: '24px',\n    padding: '0px 12px',\n    boxSizing: 'border-box',\n    fontFamily: 'Avenir'\n  },\n  close: {\n    cursor: 'pointer',\n    textAlign: 'center',\n    padding: '8px 12px',\n    fontSize: '15px',\n    borderRadius: '24px'\n  }\n};\nAutoCompleteInput.propTypes = {\n  \"default\": propTypes.string,\n  value: propTypes.string,\n  options: propTypes.arrayOf(propTypes.object),\n  max: propTypes.number,\n  label: propTypes.string,\n  type: propTypes.oneOf(['text', 'number']),\n  style: propTypes.object,\n  handleChange: propTypes.func,\n  onFocus: propTypes.func,\n  onBlur: propTypes.func\n};\n\nfunction getChats(props, callback) {\n  axios.get(getApiUrl(props) + \"/chats/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    props.onGetChats && props.onGetChats(response.data);\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Chats Error', error);\n  });\n}\n\nfunction newChat(props, data, callback) {\n  axios.post(getApiUrl(props) + \"/chats/\", data, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('New Chat Error', error);\n  });\n}\n\nfunction getLatestChats(props, count, callback) {\n  axios.get(getApiUrl(props) + \"/chats/latest/\" + count + \"/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    props.onGetChats && props.onGetChats(response.data);\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Chats Error', error);\n  });\n}\n\nfunction getChatsBefore(props, before, count, callback) {\n  axios.put(getApiUrl(props) + \"/chats/latest/\" + count + \"/\", {\n    before: before\n  }, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    props.onGetChats && props.onGetChats(response.data);\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Chats Before Error', error);\n  });\n}\n\nfunction getOrCreateChat(props, data, callback) {\n  axios.put(getApiUrl(props) + \"/chats/\", data, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Get or Create Chat Error', error);\n  });\n}\n\nfunction getChat(props, chatId, callback) {\n  axios.get(getApiUrl(props) + \"/chats/\" + chatId + \"/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Get Chat Error', error);\n  });\n}\n\nfunction editChat(props, chatId, data, callback) {\n  axios.patch(getApiUrl(props) + \"/chats/\" + chatId + \"/\", data, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Edit Chat Error', error);\n  });\n}\n\nfunction deleteChat(props, chatId, callback) {\n  axios[\"delete\"](getApiUrl(props) + \"/chats/\" + chatId + \"/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Chat Error', error);\n  });\n}\n\nfunction addPerson(props, chatId, userName, callback) {\n  axios.post(getApiUrl(props) + \"/chats/\" + chatId + \"/people/\", {\n    username: userName\n  }, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('New Person Error', error);\n  });\n}\n\nfunction removePerson(props, chatId, userName, callback) {\n  axios.put(getApiUrl(props) + \"/chats/\" + chatId + \"/people/\", {\n    username: userName\n  }, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Person Error', error);\n  });\n}\n\nfunction getOtherPeople(props, chatId, successCallback, errorCallback) {\n  axios.get(getApiUrl(props) + \"/chats/\" + chatId + \"/others/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    props.onGetOtherPeople && props.onGetOtherPeople(chatId, response.data);\n    successCallback && successCallback(chatId, response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Other People Error', error);\n    errorCallback && errorCallback();\n  });\n}\n\nfunction getMyData(props, callback) {\n  axios.get(getApiUrl(props) + \"/users/me/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Get Myself Error', error);\n  });\n}\n\nfunction editMyData(props, data, callback) {\n  axios.patch(getApiUrl(props) + \"/chats/me/\", data, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Edit Myself Error', error);\n  });\n}\n\nfunction leaveChat(props, chatId, callback) {\n  axios[\"delete\"](getApiUrl(props) + \"/chats/\" + chatId + \"/people/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Person Error', error);\n  });\n}\n\nfunction getMessages(props, chatId, callback) {\n  axios.get(getApiUrl(props) + \"/chats/\" + chatId + \"/messages/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    props.onGetMessages && props.onGetMessages(chatId, response.data);\n    callback && callback(chatId, response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Messages Error', error);\n  });\n}\n\nfunction getLatestMessages(props, chatId, count, callback) {\n  if (!getHeaders(props)) return;\n  axios.get(getApiUrl(props) + \"/chats/\" + chatId + \"/messages/latest/\" + count + \"/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    props.onGetMessages && props.onGetMessages(chatId, response.data);\n    callback && callback(chatId, response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Latest Messages Error', error);\n  });\n}\n\nfunction sendMessage(props, chatId, data, callback) {\n  var formdata = new FormData();\n\n  if (data.attachments) {\n    for (var i = 0; i < data.attachments.length; i++) {\n      formdata.append('attachments', data.attachments[i], data.attachments[i].name);\n    }\n  } else if (data.files) {\n    for (var _i = 0; _i < data.files.length; _i++) {\n      formdata.append('attachments', data.files[_i], data.files[_i].name);\n    }\n  }\n\n  if (data.created) {\n    formdata.append('created', data.created);\n  }\n\n  formdata.append('text', data.text);\n  formdata.append('sender_username', data.sender_username);\n  formdata.append('custom_json', JSON.stringify(data.custom_json ? data.custom_json : {}));\n  axios.post(getApiUrl(props) + \"/chats/\" + chatId + \"/messages/\", formdata, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Send Messages Error', error);\n  });\n}\n\nfunction getMessage(props, chatId, messageId, callback) {\n  axios.get(getApiUrl(props) + \"/chats/\" + chatId + \"/messages/\" + messageId + \"/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(chatId, response.data);\n  })[\"catch\"](function (error) {\n    console.log('Fetch Message Error', error);\n  });\n}\n\nfunction editMessage(props, chatId, messageId, data, callback) {\n  axios.patch(getApiUrl(props) + \"/chats/\" + chatId + \"/messages/\" + messageId + \"/\", data, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Messages Error', error);\n  });\n}\n\nfunction readMessage(props, chatId, messageId, callback) {\n  axios.patch(getApiUrl(props) + \"/chats/\" + chatId + \"/people/\", {\n    last_read: messageId\n  }, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Read Message Error', error);\n  });\n}\n\nfunction deleteMessage(props, chatId, messageId, callback) {\n  axios[\"delete\"](getApiUrl(props) + \"/chats/\" + chatId + \"/messages/\" + messageId + \"/\", {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {\n    console.log('Delete Messages Error', error);\n  });\n}\n\nfunction isTyping(props, chatId, callback) {\n  axios.post(getApiUrl(props) + \"/chats/\" + chatId + \"/typing/\", {}, {\n    headers: getHeaders(props)\n  }).then(function (response) {\n    callback && callback(response.data);\n  })[\"catch\"](function (error) {});\n}\n\nvar ImagesInput = function ImagesInput(props) {\n  var _React$createElement;\n\n  var _useState = useState({\n    hovered: false\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  function onSelect(event) {\n    var files = Array.from(event.target.files);\n    props.onSelectFiles && props.onSelectFiles(files);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", (_React$createElement = {\n    className: \"uploader\",\n    encType: \"multipart/form-data\",\n    style: {\n      height: '0px'\n    }\n  }, _React$createElement[\"className\"] = \"ce-upload-document-form\", _React$createElement), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"files\",\n    id: \"ce-upload-document-button\"\n  }, /*#__PURE__*/React.createElement(PaperClipOutlined, {\n    id: \"ce-upload-document-icon\",\n    onMouseEnter: function onMouseEnter() {\n      return setState(_extends({}, state, {\n        hovered: true\n      }));\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setState(_extends({}, state, {\n        hovered: false\n      }));\n    },\n    style: _extends({}, {\n      cursor: 'pointer',\n      position: 'absolute',\n      bottom: '20px',\n      right: '63px',\n      fontSize: '18px'\n    }, {\n      color: state.hovered ? '#69c0ff' : '#1890ff'\n    })\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"files\",\n    accept: \"image/x-png,image/gif,image/jpeg\",\n    style: {\n      visibility: \"hidden\"\n    },\n    type: \"file\",\n    onChange: function onChange(e) {\n      return onSelect(e);\n    },\n    onClick: function onClick(e) {\n      return e.target.value = null;\n    }\n  }));\n};\n\nvar MessageInput = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(MessageInput, _Component);\n\n  function MessageInput() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.state = {\n      value: null,\n      height: 0\n    };\n    return _this;\n  }\n\n  var _proto = MessageInput.prototype;\n\n  _proto.resize = function resize() {\n    var textarea = document.getElementById(\"msg-textarea\");\n    textarea.style.height = \"\";\n    textarea.style.height = Math.min(textarea.scrollHeight, 150) + \"px\";\n    this.setState({\n      height: Math.min(textarea.scrollHeight, 150)\n    });\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.resize();\n  };\n\n  _proto.handleChange = function handleChange(e) {\n    this.resize();\n    this.props.handleChange && this.props.handleChange(e);\n  };\n\n  _proto.onKeyDown = function onKeyDown(e) {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n\n      if (this.props.value.length > 0) {\n        this.props.onSubmit && this.props.onSubmit(e);\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    return /*#__PURE__*/React.createElement(\"input\", {\n      id: \"msg-textarea\",\n      className: \"ce-input ce-textarea-input\",\n      style: styles$p.input,\n      value: this.props.value,\n      placeholder: this.props.label,\n      onChange: function onChange(e) {\n        return _this2.handleChange(e);\n      },\n      onKeyDown: function onKeyDown(e) {\n        return _this2.onKeyDown(e);\n      }\n    });\n  };\n\n  return MessageInput;\n}(Component);\nvar styles$p = {\n  input: {\n    border: '1px solid white',\n    width: 'calc(100% - 100px)',\n    outline: 'none',\n    fontSize: '15px',\n    fontFamily: 'Avenir',\n    paddingLeft: '12px',\n    paddingRight: '12px',\n    position: 'relative',\n    left: '12px',\n    resize: 'none',\n    overflowX: 'hidden'\n  }\n};\n\nvar _this$4 = undefined;\n\nvar MessageFormSocial = function MessageFormSocial() {\n  var _useContext = useContext(ChatEngineContext$1),\n      conn = _useContext.conn,\n      activeChat = _useContext.activeChat,\n      messages = _useContext.messages,\n      setMessages = _useContext.setMessages;\n\n  var _useState = useState(0),\n      iter = _useState[0],\n      setIter = _useState[1];\n\n  var _useState2 = useState(''),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var _useState3 = useState(0),\n      trigger = _useState3[0],\n      setTrigger = _useState3[1];\n\n  var _useState4 = useState([]),\n      attachments = _useState4[0],\n      setAttachments = _useState4[1];\n\n  if (!conn || conn === null) return /*#__PURE__*/React.createElement(\"div\", null);\n\n  function _onRemove(index) {\n    var newAttachments = attachments;\n    newAttachments.splice(index, 1);\n    setAttachments(newAttachments);\n    setIter(iter + 1);\n  }\n\n  function handleChange(e) {\n    setValue(e.target.value);\n    setTrigger((trigger + 1) % 4);\n\n    if (trigger === 1) {\n      conn && isTyping$1(conn, activeChat);\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!conn) return;\n    var text = value.trim();\n\n    if (text.length > 11 && text.slice(-11) === '<p><br></p>') {\n      text = text.substr(0, text.length - 11);\n    }\n\n    var custom_json = {\n      sender_id: Date.now().toString()\n    };\n    var sender_username = conn.userName ? conn.userName : conn.senderUsername;\n    var created = new Date().toISOString().replace('T', ' ').replace('Z', Math.floor(Math.random() * 1000) + \"+00:00\");\n    var data = {\n      text: text,\n      attachments: attachments,\n      custom_json: custom_json,\n      sender_username: sender_username,\n      chat: activeChat,\n      created: created\n    };\n\n    if (text.length > 0 || attachments.length > 0) {\n      sendMessage$1(conn, activeChat, data, function () {});\n    }\n\n    setValue('');\n    setAttachments([]);\n\n    var newMessages = _extends({}, messages);\n\n    newMessages[data.created] = data;\n    setMessages(newMessages);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"ce-social-msg-form-container\",\n    style: styles$q.messageFormContainer,\n    className: \"ce-social-message-form-container\"\n  }, /*#__PURE__*/React.createElement(ImagesRow, {\n    files: attachments,\n    onRemove: function onRemove(i) {\n      return _onRemove(i);\n    }\n  }), /*#__PURE__*/React.createElement(FilesRow, {\n    files: attachments,\n    onRemove: function onRemove(i) {\n      return _onRemove(i);\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit.bind(_this$4),\n    className: \"ce-social-message-form\",\n    style: styles$q.messageForm\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    icon: \"send\",\n    type: \"submit\",\n    id: \"ce-send-message-button\",\n    style: styles$q.sendMessage\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"send-icon\",\n    style: styles$q.sendIcon,\n    src: \"https://chat-engine-assets.s3.amazonaws.com/send.png\",\n    alt: \"chat-engine-send-button\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: styles$q.inputContainer,\n    className: \"ce-message-input-form\"\n  }, /*#__PURE__*/React.createElement(ImagesInput, {\n    onSelectFiles: function onSelectFiles(attachments) {\n      return setAttachments(attachments);\n    }\n  }), /*#__PURE__*/React.createElement(MessageInput, {\n    value: value,\n    label: \"Send a message...\",\n    handleChange: handleChange.bind(_this$4),\n    onSubmit: handleSubmit.bind(_this$4)\n  }))));\n};\nvar styles$q = {\n  messageFormContainer: {\n    position: 'absolute',\n    bottom: '0px',\n    width: '100%',\n    backgroundColor: 'white'\n  },\n  messageForm: {\n    paddingTop: \"22px\",\n    marginRight: \"10px\",\n    width: '100%'\n  },\n  inputContainer: {\n    minHeight: '36px',\n    paddingBottom: '16px',\n    width: '100%'\n  },\n  sendMessage: {\n    width: \"40px\",\n    height: \"40px\",\n    borderRadius: \"50%\",\n    borderWidth: \"0px\",\n    padding: \"0px\",\n    outline: \"none\",\n    color: \"white\",\n    backgroundColor: 'rgb(24, 144, 255)',\n    cursor: \"pointer\",\n    position: 'absolute',\n    bottom: '12px',\n    right: '10px',\n    zIndex: '10'\n  },\n  sendIcon: {\n    width: \"20px\",\n    transform: \"rotate(-20deg)\",\n    marginLeft: \"5px\"\n  }\n};\n\nexport { AutoCompleteInput, Avatar, Button, ChatCard$1 as ChatCard, ChatEngineApp as ChatEngine, ChatEngineContext, ChatEngineWrapper, ChatFeed, ChatHeader, ChatList, ChatSettings, ChatSettingsTop, ChatSocket, Dot, IceBreaker, IsTyping, Message$1 as MessageBubble, MessageFormSocial, NewChatForm, NewMessageForm$1 as NewMessageForm, OptionsSettings, PeopleSettings, PhotosSettings, ScrollDownBar, Socket$1 as Socket, TextInput, addPerson, deleteChat, deleteMessage, editChat, editMessage, editMyData, getChat, getChats, getChatsBefore, getLatestChats, getLatestMessages, getMessage, getMessages, getMyData, getOrCreateChat, getOtherPeople, isTyping, leaveChat, newChat, readMessage, removePerson, sendMessage };\n//# sourceMappingURL=index.modern.js.map\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}