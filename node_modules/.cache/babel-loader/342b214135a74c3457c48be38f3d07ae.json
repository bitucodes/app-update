{"ast":null,"code":"\"use strict\";\n\nvar hrefInfo = require(\"./hrefInfo\");\nvar parseHost = require(\"./host\");\nvar parsePath = require(\"./path\");\nvar parsePort = require(\"./port\");\nvar parseQuery = require(\"./query\");\nvar parseUrlString = require(\"./urlstring\");\nvar pathUtils = require(\"../util/path\");\nfunction parseFromUrl(url, options, fallback) {\n  if (url) {\n    var urlObj = parseUrl(url, options);\n\n    // Because the following occurs in the relate stage for \"to\" URLs,\n    // such had to be mostly duplicated here\n\n    var pathArray = pathUtils.resolveDotSegments(urlObj.path.absolute.array);\n    urlObj.path.absolute.array = pathArray;\n    urlObj.path.absolute.string = \"/\" + pathUtils.join(pathArray);\n    return urlObj;\n  } else {\n    return fallback;\n  }\n}\nfunction parseUrl(url, options) {\n  var urlObj = parseUrlString(url, options);\n  if (urlObj.valid === false) return urlObj;\n  parseHost(urlObj, options);\n  parsePort(urlObj, options);\n  parsePath(urlObj, options);\n  parseQuery(urlObj, options);\n  hrefInfo(urlObj);\n  return urlObj;\n}\nmodule.exports = {\n  from: parseFromUrl,\n  to: parseUrl\n};","map":null,"metadata":{},"sourceType":"script"}