{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nvar _classCallCheck = require(\"/home/lenovo/Desktop/chatapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"/home/lenovo/Desktop/chatapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\nvar _possibleConstructorReturn = require(\"/home/lenovo/Desktop/chatapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\nvar _getPrototypeOf = require(\"/home/lenovo/Desktop/chatapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\nvar _inherits = require(\"/home/lenovo/Desktop/chatapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\nvar Hook = require(\"./Hook\");\nvar HookCodeFactory = require(\"./HookCodeFactory\");\nvar AsyncParallelBailHookCodeFactory = /*#__PURE__*/function (_HookCodeFactory) {\n  _inherits(AsyncParallelBailHookCodeFactory, _HookCodeFactory);\n  function AsyncParallelBailHookCodeFactory() {\n    _classCallCheck(this, AsyncParallelBailHookCodeFactory);\n    return _possibleConstructorReturn(this, _getPrototypeOf(AsyncParallelBailHookCodeFactory).apply(this, arguments));\n  }\n  _createClass(AsyncParallelBailHookCodeFactory, [{\n    key: \"content\",\n    value: function content(_ref) {\n      var onError = _ref.onError,\n        onResult = _ref.onResult,\n        onDone = _ref.onDone;\n      var code = \"\";\n      code += \"var _results = new Array(\".concat(this.options.taps.length, \");\\n\");\n      code += \"var _checkDone = () => {\\n\";\n      code += \"for(var i = 0; i < _results.length; i++) {\\n\";\n      code += \"var item = _results[i];\\n\";\n      code += \"if(item === undefined) return false;\\n\";\n      code += \"if(item.result !== undefined) {\\n\";\n      code += onResult(\"item.result\");\n      code += \"return true;\\n\";\n      code += \"}\\n\";\n      code += \"if(item.error) {\\n\";\n      code += onError(\"item.error\");\n      code += \"return true;\\n\";\n      code += \"}\\n\";\n      code += \"}\\n\";\n      code += \"return false;\\n\";\n      code += \"}\\n\";\n      code += this.callTapsParallel({\n        onError: function onError(i, err, done, doneBreak) {\n          var code = \"\";\n          code += \"if(\".concat(i, \" < _results.length && ((_results.length = \").concat(i + 1, \"), (_results[\").concat(i, \"] = { error: \").concat(err, \" }), _checkDone())) {\\n\");\n          code += doneBreak(true);\n          code += \"} else {\\n\";\n          code += done();\n          code += \"}\\n\";\n          return code;\n        },\n        onResult: function onResult(i, result, done, doneBreak) {\n          var code = \"\";\n          code += \"if(\".concat(i, \" < _results.length && (\").concat(result, \" !== undefined && (_results.length = \").concat(i + 1, \"), (_results[\").concat(i, \"] = { result: \").concat(result, \" }), _checkDone())) {\\n\");\n          code += doneBreak(true);\n          code += \"} else {\\n\";\n          code += done();\n          code += \"}\\n\";\n          return code;\n        },\n        onTap: function onTap(i, run, done, doneBreak) {\n          var code = \"\";\n          if (i > 0) {\n            code += \"if(\".concat(i, \" >= _results.length) {\\n\");\n            code += done();\n            code += \"} else {\\n\";\n          }\n          code += run();\n          if (i > 0) code += \"}\\n\";\n          return code;\n        },\n        onDone: onDone\n      });\n      return code;\n    }\n  }]);\n  return AsyncParallelBailHookCodeFactory;\n}(HookCodeFactory);\nvar factory = new AsyncParallelBailHookCodeFactory();\nvar AsyncParallelBailHook = /*#__PURE__*/function (_Hook) {\n  _inherits(AsyncParallelBailHook, _Hook);\n  function AsyncParallelBailHook() {\n    _classCallCheck(this, AsyncParallelBailHook);\n    return _possibleConstructorReturn(this, _getPrototypeOf(AsyncParallelBailHook).apply(this, arguments));\n  }\n  _createClass(AsyncParallelBailHook, [{\n    key: \"compile\",\n    value: function compile(options) {\n      factory.setup(this, options);\n      return factory.create(options);\n    }\n  }]);\n  return AsyncParallelBailHook;\n}(Hook);\nObject.defineProperties(AsyncParallelBailHook.prototype, {\n  _call: {\n    value: undefined,\n    configurable: true,\n    writable: true\n  }\n});\nmodule.exports = AsyncParallelBailHook;","map":null,"metadata":{},"sourceType":"script"}