{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nvar _classCallCheck = require(\"/home/lenovo/Desktop/chatapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\nvar _createClass = require(\"/home/lenovo/Desktop/chatapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\nvar path = require(\"path\");\nvar NORMALIZE_SLASH_DIRECTION_REGEXP = /\\\\/g;\nvar PATH_CHARS_REGEXP = /[-[\\]{}()*+?.,\\\\^$|#\\s]/g;\nvar SEPARATOR_REGEXP = /[/\\\\]$/;\nvar FRONT_OR_BACK_BANG_REGEXP = /^!|!$/g;\nvar INDEX_JS_REGEXP = /\\/index.js(!|\\?|\\(query\\))/g;\nvar MATCH_RESOURCE_REGEXP = /!=!/;\nvar normalizeBackSlashDirection = function normalizeBackSlashDirection(request) {\n  return request.replace(NORMALIZE_SLASH_DIRECTION_REGEXP, \"/\");\n};\nvar createRegExpForPath = function createRegExpForPath(path) {\n  var regexpTypePartial = path.replace(PATH_CHARS_REGEXP, \"\\\\$&\");\n  return new RegExp(\"(^|!)\".concat(regexpTypePartial), \"g\");\n};\nvar RequestShortener = /*#__PURE__*/function () {\n  function RequestShortener(directory) {\n    _classCallCheck(this, RequestShortener);\n    directory = normalizeBackSlashDirection(directory);\n    if (SEPARATOR_REGEXP.test(directory)) {\n      directory = directory.substr(0, directory.length - 1);\n    }\n    if (directory) {\n      this.currentDirectoryRegExp = createRegExpForPath(directory);\n    }\n    var dirname = path.dirname(directory);\n    var endsWithSeparator = SEPARATOR_REGEXP.test(dirname);\n    var parentDirectory = endsWithSeparator ? dirname.substr(0, dirname.length - 1) : dirname;\n    if (parentDirectory && parentDirectory !== directory) {\n      this.parentDirectoryRegExp = createRegExpForPath(parentDirectory);\n    }\n    if (__dirname.length >= 2) {\n      var buildins = normalizeBackSlashDirection(path.join(__dirname, \"..\"));\n      var buildinsAsModule = this.currentDirectoryRegExp && this.currentDirectoryRegExp.test(buildins);\n      this.buildinsAsModule = buildinsAsModule;\n      this.buildinsRegExp = createRegExpForPath(buildins);\n    }\n    this.cache = new Map();\n  }\n  _createClass(RequestShortener, [{\n    key: \"shorten\",\n    value: function shorten(request) {\n      if (!request) return request;\n      var cacheEntry = this.cache.get(request);\n      if (cacheEntry !== undefined) {\n        return cacheEntry;\n      }\n      var result = normalizeBackSlashDirection(request);\n      if (this.buildinsAsModule && this.buildinsRegExp) {\n        result = result.replace(this.buildinsRegExp, \"!(webpack)\");\n      }\n      if (this.currentDirectoryRegExp) {\n        result = result.replace(this.currentDirectoryRegExp, \"!.\");\n      }\n      if (this.parentDirectoryRegExp) {\n        result = result.replace(this.parentDirectoryRegExp, \"!..\");\n      }\n      if (!this.buildinsAsModule && this.buildinsRegExp) {\n        result = result.replace(this.buildinsRegExp, \"!(webpack)\");\n      }\n      result = result.replace(INDEX_JS_REGEXP, \"$1\");\n      result = result.replace(FRONT_OR_BACK_BANG_REGEXP, \"\");\n      result = result.replace(MATCH_RESOURCE_REGEXP, \" = \");\n      this.cache.set(request, result);\n      return result;\n    }\n  }]);\n  return RequestShortener;\n}();\nmodule.exports = RequestShortener;","map":null,"metadata":{},"sourceType":"script"}